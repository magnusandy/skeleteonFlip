{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/resources.ts","webpack:///./src/scenes/scenes.ts","webpack:///./src/engine/soundManager.ts","webpack:///./src/actors/card/card.ts","webpack:///./src/images/title.png","webpack:///./src/scenes/victory.ts","webpack:///./src/scenes/gameOver.ts","webpack:///./src/engine/gameLoader.ts","webpack:///./src/engine/game.ts","webpack:///./src/scenes/mainMenu.ts","webpack:///./src/actors/card/count.ts","webpack:///./src/coordinator/gridCoordinator.ts","webpack:///./src/sounds/victory.mp3","webpack:///./src/sounds/background.wav","webpack:///./src/sounds/coin.wav","webpack:///./src/sounds/laugh.ogg","webpack:///./src/sounds/sword.wav","webpack:///./src/sounds/bone.wav","webpack:///./src/sounds/potion.wav","webpack:///./src/sounds/card.wav","webpack:///./src/images/victory.png","webpack:///./src/images/ui/heart.png","webpack:///./src/images/ui/sword.png","webpack:///./src/images/numbers/9.png","webpack:///./src/images/numbers/8.png","webpack:///./src/images/numbers/7.png","webpack:///./src/images/numbers/6.png","webpack:///./src/images/numbers/5.png","webpack:///./src/images/numbers/4.png","webpack:///./src/images/numbers/3.png","webpack:///./src/images/numbers/2.png","webpack:///./src/images/numbers/1.png","webpack:///./src/images/numbers/0.png","webpack:///./src/images/gameOver.png","webpack:///./src/images/optionsMenu.png","webpack:///./src/images/startMenu.png","webpack:///./src/images/card.png","webpack:///./src/images/coin.png","webpack:///./src/images/potion.png","webpack:///./src/images/skull.png","webpack:///./src/images/sword.png","webpack:///./src/actors/bars/statTracker.ts","webpack:///./src/coordinator/numberCoordinator.ts","webpack:///./src/coordinator/coordinator.ts","webpack:///./src/scenes/levelOne.ts","webpack:///./src/index.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","p","jsonpArray","window","webpackJsonp","oldJsonpFunction","bind","slice","ex","excalibur_1","sword","skull","potion","coin","card","startMenu","optionMenu","title","gameOverImg","zero","one","two","three","four","five","six","seven","eight","nine","uiSword","uiHeart","victory","cardSound","potionSound","boneSound","swordSound","laughSound","coinSound","backgroundMusic","victorySound","Resources","Texture","gameOver","0","2","3","4","5","6","7","8","9","Sound","Config","maxHealth","maxAttack","gridPadding","gridSize","skeletonDifficultyFactor","buffDifficultyFactor","backgroundColor","Color","Gray","Scenes","GAME_WINDOW","MAIN_MENU","GAME_OVER","VICTORY","resources_1","SoundManager","soundManager","backgroundMusicStart","this","backgroundSound","loop","play","playSoundInterrupt","sound","after","currentSound","isPlaying","pause","playSoundWithAfter","then","e","t","__extends","setPrototypeOf","__proto__","Array","constructor","create","CardType","SpriteEffects_1","soundManager_1","COIN","SKELETON","POTION","ATTACK","Card","_super","screenCenter","col","row","onClick","faceColor","type","texture","_this","onEnter","baseSprite","clearEffects","addEffect","Darken","onExit","playSound","cardType","passedInOnClick","flipped","dims","calcCardDimensions","y","x","console","log","sprite","scale","addDrawing","setWidth","width","setHeight","height","on","fullOnClick","calcX","calcY","cardWidth","center","cardHeight","screenHeight","screenWidth","maxHeight","calcMaxCardHeight","maxWidth","calcMaxCardWidth","scaleByWidth","scaleByHeight","Vector","Sprite","setDrawing","getRow","getCol","isFlipped","skeleton","White","Red","attack","Yellow","Actor","scenes_1","Victory","onInitialize","engine","onActivate","victoryActor","asSprite","drawWidth","drawHeight","goToScene","add","onDeactivate","Scene","GameOver","gameOverActor","playerIdleAnimation","SpriteSheet","getAnimationForAll","stop","logoImg","GameLoader","toString","logo","logoHeight","logoWidth","Loader","Game","displayMode","DisplayMode","FullScreen","start","loader","Engine","MainMenu","startActor","MenuButton","optionActor","titleActor","onDown","buttonScale","card_1","Count","index","initialCount","setCount","leftSide","top","count","java8script_1","GridCoordinator","callbackProvider","skeletonCount","potionCount","swordCount","grid","blankGrid","getGridAsList","Stream","of","map","a","ofValues","flatMap","Function","identity","toArray","getCard","rowIndex","colIndex","filter","range","rowNum","blankGridRow","columnIndex","coinCardCallback","initializeSkeletons","needMoreSkeletons","randomCoord","isCoin","insertCard","skeletonCardCallback","initializeBuffs","needMoreBuffs","generateBuffCard","Math","random","attackCardCallback","potionCardCallback","ceil","floor","createGrid","coord","StatTracker","enabled","setEnabled","opacity","DISABLED_OPACITY","isEnabled","statTracker_1","NumberCoordinator","max","current","onZeroCallback","statActors","onZero","defaultedCurrent","idx","subtract","getCurrent","getStatActors","numberCoordinator_1","gridCoordinator_1","count_1","GameCoordinatior","healthCoordinator","attackCoordinator","updateLabels","checkIfCompleteGame","initialize","coordinator","gridCoordinator","rowCounts","createRowCountCards","columnCounts","createColCountCards","getStatTrackers","concat","getRowCountCards","getColCountCards","skeletonCountForCol","skeletonCountForRow","forEach","allMatch","coordinator_1","GameWindow","remove","levelOne_1","mainMenu_1","game_1","gameLoader_1","gameOver_1","victory_1","game","keys","k","addResource"],"mappings":"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AAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAoF,EAAAD,EAAAxF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([227,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import * as ex from 'excalibur';\nimport { Color } from 'excalibur';\nconst sword = require('./images/sword.png');\nconst skull = require('./images/skull.png');\nconst potion = require('./images/potion.png');\nconst coin = require('./images/coin.png');\nconst card = require('./images/card.png');\nconst startMenu = require('./images/startMenu.png');\nconst optionMenu = require('./images/optionsMenu.png');\nconst title = require('./images/title.png');\nconst gameOverImg = require('./images/gameOver.png');\nconst zero = require('./images/numbers/0.png');\nconst one = require('./images/numbers/1.png');\nconst two = require('./images/numbers/2.png');\nconst three = require('./images/numbers/3.png');\nconst four = require('./images/numbers/4.png');\nconst five = require('./images/numbers/5.png');\nconst six = require('./images/numbers/6.png');\nconst seven = require('./images/numbers/7.png');\nconst eight = require('./images/numbers/8.png');\nconst nine = require('./images/numbers/9.png');\nconst uiSword = require('./images/ui/sword.png');\nconst uiHeart = require('./images/ui/heart.png');\nconst victory = require('./images/victory.png');\nconst cardSound = require('./sounds/card.wav');\nconst potionSound = require('./sounds/potion.wav');\nconst boneSound = require('./sounds/bone.wav');\nconst swordSound = require('./sounds/sword.wav');\nconst laughSound = require('./sounds/laugh.ogg');\nconst coinSound = require('./sounds/coin.wav');\nconst backgroundMusic = require('./sounds/background.wav');\nconst victorySound = require('./sounds/victory.mp3');\n\nconst Resources = {\n    victory: new ex.Texture(victory),\n    gameOver: new ex.Texture(gameOverImg),\n    title: new ex.Texture(title),\n    sword: new ex.Texture(sword),\n    skull: new ex.Texture(skull),\n    potion: new ex.Texture(potion),\n    coin: new ex.Texture(coin),\n    card: new ex.Texture(card),\n    startMenu: new ex.Texture(startMenu),\n    optionMenu: new ex.Texture(optionMenu),    \n    0: new ex.Texture(zero), \n    1: new ex.Texture(one), \n    2: new ex.Texture(two), \n    3: new ex.Texture(three), \n    4: new ex.Texture(four), \n    5: new ex.Texture(five), \n    6: new ex.Texture(six), \n    7: new ex.Texture(seven), \n    8: new ex.Texture(eight), \n    9: new ex.Texture(nine), \n    uiSword: new ex.Texture(uiSword),\n    uiHeart: new ex.Texture(uiHeart),\n    cardSound: new ex.Sound(cardSound),\n    boneSound: new ex.Sound(boneSound),\n    coinSound: new ex.Sound(coinSound),\n    laughSound: new ex.Sound(laughSound),\n    potionSound: new ex.Sound(potionSound),\n    swordSound: new ex.Sound(swordSound),\n    victorySound: new ex.Sound(victorySound),\n    backgroundMusic: new ex.Sound(backgroundMusic),\n}\n\nconst Config = {\n    maxHealth: 3,\n    maxAttack: 2,\n    gridPadding: 8,\n    gridSize: 4,\n    //cardHeight: 90,\n    //cardWidth: 75,\n    skeletonDifficultyFactor: 2.0, //easy 3 (30%), medium 2.5 (40%), hard 2 (50%)\n    buffDifficultyFactor: 1, //easy 0, med 1, hard 2\n    backgroundColor: Color.Gray,\n};\n\nexport { Resources, Config, uiHeart}\n","export enum Scenes {\n    GAME_WINDOW = \"gameWindow\",\n    MAIN_MENU = \"mainMenu\",\n    GAME_OVER = \"gameOver\",\n    VICTORY = \"victory\",\n}","import { Sound } from \"excalibur\";\nimport { Resources } from \"../resources\";\n\nexport default class SoundManager {\n    private static soundManager: SoundManager;\n    private currentSound: Sound;\n    private backgroundSound: Sound;\n\n    /**\n     * returns a singleton instance of the sound manager\n     */\n    public static get(): SoundManager {\n        if (SoundManager.soundManager) {\n            return SoundManager.soundManager;\n        } else {\n            SoundManager.soundManager = new SoundManager();\n            return SoundManager.soundManager;\n        }\n    }\n\n    public backgroundMusicStart(): void {\n        if (!this.backgroundSound) {\n            this.backgroundSound = Resources.backgroundMusic;\n            this.backgroundSound.loop = true;\n            this.backgroundSound.play(0.1);\n        }\n    }\n\n    public playSoundInterrupt(sound: Sound);\n    public playSoundInterrupt(sound: Sound, after: () => void);\n    public playSoundInterrupt(sound: Sound, after?: () => void): void {\n        if (this.currentSound && this.currentSound.isPlaying()) {\n            this.currentSound.pause();\n            this.currentSound = null;\n        }\n        this.playSoundWithAfter(sound, after);\n    }\n\n    private playSoundWithAfter(sound: Sound, after?: () => void) {\n        this.currentSound = sound;\n        if (after) {\n            sound.play().then(after);\n        } else {\n            sound.play();\n        }\n    }\n\n}","import * as ex from 'excalibur';\nimport { Config, Resources } from '../../resources';\nimport { Supplier } from 'java8script'\nimport { Vector, Sprite } from 'excalibur';\nimport { Darken } from 'excalibur/dist/Drawing/SpriteEffects';\nimport SoundManager from '../../engine/soundManager';\n\nexport enum CardType {\n    COIN = \"coin\",\n    SKELETON = \"skeleton\",\n    POTION = \"potion\",\n    ATTACK = \"attack\",\n}\n\ninterface ICard {\n    type: () => CardType;\n}\n\ninterface IDimensions {\n    width: number;\n    height: number; \n    scale: Vector;\n}\n\nexport class Card extends ex.Actor implements ICard {\n\n    private cardType: CardType;\n    private passedInOnClick: Supplier<void>;\n    private row: number;\n    private col: number;\n    private flipped: boolean;\n    private texture: ex.Texture;\n\n    private baseSprite: Sprite;\n\n    public constructor(screenCenter: ex.Vector, col: number, row: number, onClick: Supplier<void>, faceColor: ex.Color, type: CardType, texture: ex.Texture) {\n        super();\n        this.cardType = type;\n        this.passedInOnClick = onClick;\n        this.row = row;\n        this.col = col;\n        this.flipped = false;\n        this.texture = texture;\n        const dims: IDimensions = Card.calcCardDimensions(screenCenter.y*2, screenCenter.x*2)\n        console.log(dims);\n        this.baseSprite = Card.sprite(Resources.card, dims.scale);\n        this.addDrawing(\"base\", this.baseSprite);\n        this.addDrawing(\"flip\", Card.sprite(this.texture, dims.scale));\n        this.setWidth(dims.width);\n        this.setHeight(dims.height);\n        this.on(\"pointerup\", this.fullOnClick);\n        this.on(\"pointerenter\", this.onEnter);\n        this.on(\"pointerleave\", this.onExit);\n        this.x = Card.calcX(col, dims.width, screenCenter) + dims.width; //adding on padding for drawing from center of card\n        this.y = Card.calcY(dims.height, row, screenCenter) + dims.height;\n    }\n\n    private onEnter: () => void = () => {\n        this.baseSprite.clearEffects();\n        this.baseSprite.addEffect(new Darken(0.2));\n      }\n    \n      private onExit: () => void = () => {\n        this.baseSprite.clearEffects();\n      }\n    \n    private static calcX(col: number, cardWidth: number, center: ex.Vector): number {\n        const leftSide = center.x\n            - ((Config.gridSize / 2) * cardWidth)\n            - ((Config.gridSize - 1) * Config.gridPadding) / 2;\n\n        return leftSide + (cardWidth * col) + (Config.gridPadding * col)\n    }\n\n    private static calcY(cardHeight: number, row: number, center: ex.Vector) {\n        const top = center.y\n            - ((Config.gridSize / 2) * cardHeight)\n            - ((Config.gridSize - 1) * Config.gridPadding) / 2;\n\n        return top + (cardHeight * row) + (Config.gridPadding * row);\n    }\n\n    public static calcCardDimensions(screenHeight: number, screenWidth: number): IDimensions {\n        const {height, width} = {height: 180, width: 150}\n        const maxHeight = Card.calcMaxCardHeight(screenHeight);\n        const maxWidth = Card.calcMaxCardWidth(screenWidth); \n        const scaleByWidth = maxWidth/width;\n\n        console.log({\n            screenWidth,\n            screenHeight,\n            width,\n            height,\n            maxHeight,\n            maxWidth,\n            scaleByWidth\n        });\n\n        if((scaleByWidth * (maxHeight * (Config.gridSize+1))) > screenHeight) { \n            // using width as the scale base pushes height out of the screen\n            console.log(\"here\");\n            const scaleByHeight = maxHeight/height;\n            return {\n                width: width*scaleByHeight,\n                height: maxHeight,\n                scale: new Vector(scaleByHeight, scaleByHeight)\n            }\n        } else {\n            return {\n                width: maxWidth,\n                height: height*scaleByWidth,\n                scale: new Vector(scaleByWidth, scaleByWidth)\n            }\n        }\n    }\n\n    private static calcMaxCardHeight(screenHeight: number): number {\n        const workableScreenHeight = screenHeight*0.85;\n        return (workableScreenHeight / (Config.gridSize + 1)) - Config.gridPadding;\n    }\n\n    private static calcMaxCardWidth(screenWidth: number): number {\n        const workableWidth = screenWidth * 0.85;\n        return (workableWidth / (Config.gridSize + 1)) - Config.gridPadding;\n    }\n\n    private static sprite(texture: ex.Texture, scale: Vector): ex.Sprite {\n        const sprite: ex.Sprite = new Sprite(texture, 0, 0, texture.width, texture.height);\n        sprite.scale = scale;\n        return sprite;\n    }\n\n    private fullOnClick(): void {\n        if (!this.flipped) {\n            this.flipped = true;\n            this.setDrawing(\"flip\");\n            SoundManager.get().playSoundInterrupt(\n                Resources.cardSound,\n                this.playSound\n            );\n            this.passedInOnClick();\n        }\n    }\n    public type(): CardType {\n        return this.cardType;\n    }\n\n    private playSound: ()=>void = () =>  {\n        let sound: ex.Sound;\n        if (this.cardType === CardType.SKELETON) {\n            sound = Resources.boneSound;\n        } else if (this.cardType === CardType.ATTACK) {\n            sound = Resources.swordSound;\n        } else if (this.cardType === CardType.COIN) {\n            sound = Resources.coinSound;\n        } else if (this.cardType === CardType.POTION) {\n            sound = Resources.potionSound;\n        }\n        SoundManager.get().playSoundInterrupt(sound);\n    }\n\n    public getRow(): number {\n        return this.row;\n    }\n\n    public getCol(): number {\n        return this.col;\n    }\n\n    public isFlipped(): boolean {\n        return this.flipped;\n    }\n\n    public static skeleton(screenCenter: ex.Vector, row: number, col: number, onClick: Supplier<void>): Card {\n        return new Card(screenCenter, col, row, onClick, ex.Color.White, CardType.SKELETON, Resources.skull);\n    }\n\n    public static potion(screenCenter: ex.Vector, row: number, col: number, onClick: Supplier<void>): Card {\n        return new Card(screenCenter, col, row, onClick, ex.Color.Red, CardType.POTION, Resources.potion);\n    }\n\n    public static attack(screenCenter: ex.Vector, row: number, col: number, onClick: Supplier<void>): Card {\n        return new Card(screenCenter, col, row, onClick, ex.Color.Gray, CardType.ATTACK, Resources.sword);\n    }\n\n    public static coin(screenCenter: ex.Vector, row: number, col: number, onClick: Supplier<void>): Card {\n        return new Card(screenCenter, col, row, onClick, ex.Color.Yellow, CardType.COIN, Resources.coin);\n    }\n}\n\n","module.exports = __webpack_public_path__ + \"32e41cd2c45011981855c5231583be07.png\";","import * as ex from 'excalibur';\nimport { Resources } from '../resources';\nimport { Scenes } from './scenes';\nimport SoundManager from '../engine/soundManager';\n\nexport class Victory extends ex.Scene {\n\n\n  public onInitialize(engine: ex.Engine) {\n  }\n  public onActivate() {\n    SoundManager.get().playSoundInterrupt(Resources.victorySound);\n    const victoryActor = new ex.Actor();\n    victoryActor.addDrawing(Resources.victory.asSprite());\n    victoryActor.x = this.engine.drawWidth/2;\n    victoryActor.y = this.engine.drawHeight/2;\n    victoryActor.setHeight(360);\n    victoryActor.setWidth(480);\n    victoryActor.on('pointerup', () => this.engine.goToScene(Scenes.MAIN_MENU));\n    this.add(victoryActor);\n  }\n\n  public onDeactivate() { \n  }\n} \n","import * as ex from 'excalibur';\nimport { Resources } from '../resources';\nimport { Scenes } from './scenes';\nimport SoundManager from '../engine/soundManager';\n\nexport class GameOver extends ex.Scene {\n\n\n  public onInitialize(engine: ex.Engine) {\n  }\n  public onActivate() {\n    console.log(\"laugh\");\n    SoundManager.get().playSoundInterrupt(Resources.laughSound);\n    const gameOverActor = new ex.Actor();\n    const spritesheet = new ex.SpriteSheet(Resources.gameOver, 3,1,360, 360);\n    const playerIdleAnimation = spritesheet.getAnimationForAll(this.engine, 125);\n    gameOverActor.addDrawing(\"idle\", playerIdleAnimation);\n    this.add(gameOverActor);\n    gameOverActor.x = this.engine.drawWidth/2;\n    gameOverActor.y = this.engine.drawHeight/2;\n    gameOverActor.setHeight(360);\n    gameOverActor.setWidth(360);\n    gameOverActor.on('pointerup', () => this.engine.goToScene(Scenes.MAIN_MENU));\n  }\n\n  public onDeactivate() { \n    Resources.laughSound.stop();\n  }\n} \n","import * as ex from 'excalibur';\nimport { Config } from '../resources';\nconst logoImg = require('../images/title.png');\n\nexport class GameLoader extends ex.Loader {\n\n    public constructor() {\n        super();\n        this.backgroundColor = Config.backgroundColor.toString();\n        this.logo = logoImg;\n        this.logoHeight = 96;\n        this.logoWidth = 480;\n    }\n}","import * as ex from 'excalibur';\nimport { Config } from '../resources';\n\nexport default class Game extends ex.Engine {\n  constructor() {\n    super({ \n      displayMode: ex.DisplayMode.FullScreen \n    });\n    this.backgroundColor = Config.backgroundColor;\n  }\n\n  public start(loader: ex.Loader) {\n    return super.start(loader);\n  }\n}\n","import * as ex from 'excalibur';\nimport { Label, Actor, Vector, Engine, SpriteSheet, Sprite, Events } from 'excalibur';\nimport { Resources, Config } from '../resources';\nimport { Scenes } from './scenes';\nimport { Supplier } from 'java8script';\nimport { Darken } from 'excalibur/dist/Drawing/SpriteEffects';\nimport SoundManager from '../engine/soundManager';\n\nexport class MainMenu extends ex.Scene {\n\n  private screenWidth: number;\n  private screenHeight: number;\n  private game: ex.Engine;\n\n  public onInitialize(engine: ex.Engine) {\n    this.screenWidth = engine.drawWidth;\n    this.screenHeight = engine.drawHeight;\n    this.engine = engine;\n  }\n\n  public onActivate() {\n    const startActor = new MenuButton(\n      Resources.startMenu, () => this.engine.goToScene(Scenes.GAME_WINDOW)\n    );\n    startActor.x = this.screenWidth/2;\n    startActor.y = this.screenHeight/2 - startActor.drawHeight/2 - Config.gridPadding;\n\n    this.add(startActor)\n\n    const optionActor = new MenuButton(\n      Resources.optionMenu,\n      () => {}\n    );\n    optionActor.x = this.screenWidth/2;\n    optionActor.y = this.screenHeight/2 + optionActor.drawHeight/2 + Config.gridPadding;\n    this.add(optionActor)\n\n    const title = Resources.title.asSprite();\n    const titleActor = new Actor();\n    titleActor.addDrawing(title);\n    titleActor.x = this.screenWidth/2;\n    titleActor.y = this.screenHeight/2 - startActor.drawHeight*2;\n    this.add(titleActor);\n  \n  }\n  public onDeactivate() {}\n}\n\nclass MenuButton extends ex.Actor {\n  static buttonScale = new Vector(0.4, 0.4);\n  public drawHeight: number;\n  private sprite: Sprite;\n\n  public constructor(texture: ex.Texture, onClick: Supplier<void>) {\n    super();\n    this.sprite = texture.asSprite();\n    this.sprite.scale = MenuButton.buttonScale;\n    this.addDrawing(this.sprite)\n    this.setHeight(this.sprite.drawHeight);\n    this.setWidth(this.sprite.drawWidth);\n    this.on(\"pointerDown\", this.onDown);\n    this.on(\"pointerup\", onClick);\n    this.on(\"pointerenter\", this.onEnter);\n    this.on(\"pointerleave\", this.onExit);\n    this.drawHeight = this.sprite.drawHeight;\n  }\n\n  private onDown: () => void = () => {\n    this.sprite.clearEffects();\n    this.sprite.addEffect(new Darken(0.2))\n  }\n\n  private onEnter: () => void = () => {\n    this.sprite.clearEffects();\n    this.sprite.addEffect(new Darken(0.1))\n  }\n\n  private onExit: () => void = () => {\n    this.sprite.clearEffects();\n  }\n  \n}","import * as ex from 'excalibur';\nimport { Resources, Config } from '../../resources';\nimport { Card } from './card';\nimport { Vector } from 'excalibur';\n\ntype CountType = 'col' | 'row';\n\nexport default class Count extends ex.Actor {\n\n    private type: CountType;\n    private index: number;\n    private screenCenter: ex.Vector;\n\n    public constructor(type: CountType, index: number, screenCenter: ex.Vector, initialCount: number) {\n        super();\n        this.type = type;\n        this.index = index;\n        this.screenCenter = screenCenter;\n        const dims = Card.calcCardDimensions(screenCenter.y*2, screenCenter.x*2)\n\n        this.addDrawing(\"0\", Count.sprite(Resources[0], dims.scale));\n        this.addDrawing(\"1\", Count.sprite(Resources[1], dims.scale));\n        this.addDrawing(\"2\", Count.sprite(Resources[2], dims.scale));\n        this.addDrawing(\"3\", Count.sprite(Resources[3], dims.scale));\n        this.addDrawing(\"4\", Count.sprite(Resources[4], dims.scale));\n        this.addDrawing(\"5\", Count.sprite(Resources[5], dims.scale));\n        this.addDrawing(\"6\", Count.sprite(Resources[6], dims.scale));\n        this.addDrawing(\"7\", Count.sprite(Resources[7], dims.scale));\n        this.addDrawing(\"8\", Count.sprite(Resources[8], dims.scale));\n        this.addDrawing(\"9\", Count.sprite(Resources[9], dims.scale));\n\n\n        this.setWidth(dims.width);\n        this.setHeight(dims.height);\n        this.x = Count.calcX(type, index, screenCenter, dims.width) + dims.width;\n        this.y = Count.calcY(type, index, screenCenter, dims.height) + dims.height;\n        this.setCount(initialCount);\n    }\n\n    private static calcX(type: CountType, index: number, center: ex.Vector, cardWidth: number): number {\n        const leftSide = center.x\n            - ((Config.gridSize / 2) * cardWidth)\n            - cardWidth\n            - ((Config.gridSize+1) * Config.gridPadding) / 2;\n\n        if (type === \"row\") {\n            return leftSide;\n        } else {\n            return leftSide + cardWidth + (cardWidth * index) + (Config.gridPadding * (index+1));\n        }\n    }\n\n    private static calcY(type: CountType, index: number, center: ex.Vector, cardHeight: number): number {\n        const top = center.y\n            - ((Config.gridSize/2)* cardHeight)\n            - cardHeight\n            - ((Config.gridSize+1) * Config.gridPadding)/2;\n\n            if(type === \"col\") {\n                return top;\n            } else {\n                return top + cardHeight + (cardHeight * index) + (Config.gridPadding * (index + 1))\n            }\n    }\n\n    private static sprite(texture: ex.Texture, scale: Vector): ex.Sprite {\n        const sprite: ex.Sprite = texture.asSprite();\n        sprite.scale = scale;\n        return sprite;\n    }\n\n    public setCount(count: number): Count {\n        this.setDrawing(`${count}`);\n        return this;\n    }\n}","import { Card, CardType } from \"../actors/card/card\";\nimport { CardCallbackProvider } from \"../actors/card/cardCallbackProvider\";\nimport { Stream, Function, Supplier } from \"java8script\";\nimport { Config } from \"../resources\";\nimport * as ex from 'excalibur';\nimport { Vector } from \"excalibur\";\n\n\nexport class GridCoordinator {\n\n    private grid: Card[][];\n    private gridSize: number;\n    private skeletonCount: number;\n    private potionCount: number;\n    private swordCount: number;\n    private callbackProvider: CardCallbackProvider;\n    private screenCenter: ex.Vector;\n\n    private constructor(callbackProvider: CardCallbackProvider, gridSize: number, screenCenter: ex.Vector) {\n        this.skeletonCount = 0;\n        this.potionCount = 0;\n        this.swordCount = 0;\n        this.gridSize = gridSize;\n        this.callbackProvider = callbackProvider;\n        this.screenCenter = screenCenter;\n        this.grid = GridCoordinator.blankGrid(gridSize, callbackProvider, this.screenCenter);\n    }\n\n    public getGridAsList(): Card[] {\n        const list = Stream.of(this.grid)\n            .map(a => Stream.ofValues(...a))\n            .flatMap(Function.identity())\n            .toArray();\n\n        return list;\n    }\n\n    public getCard(rowIndex: number, colIndex: number): Card {\n        return this.grid[rowIndex][colIndex];\n    }\n\n    public getRow(rowIndex: number): Card[] {\n        return Stream.of(this.grid)\n        .map(a => Stream.ofValues(...a))\n        .flatMap(l => l)\n        .filter(card => card.getRow() == rowIndex)\n        .toArray();\n    }\n\n    public getCol(colIndex: number): Card[] {\n        return Stream.of(this.grid)\n        .map(a => Stream.ofValues(...a))\n        .flatMap(l => l)\n        .filter(card => card.getCol() == colIndex)\n        .toArray(); \n    }\n\n    private static blankGrid(gridSize: number, callbackProvider: CardCallbackProvider, screenCenter: ex.Vector): Card[][] {\n        return Stream.range(0, gridSize)\n            .map(rowNum => this.blankGridRow(gridSize, rowNum, callbackProvider, screenCenter))\n            .toArray();\n    }\n\n    private static blankGridRow(gridSize: number, rowIndex: number, callbackProvider: CardCallbackProvider, screenCenter: ex.Vector): Card[] {\n        return Stream.range(0, gridSize)\n            .map(columnIndex => Card.coin(screenCenter, rowIndex, columnIndex, callbackProvider.coinCardCallback))\n            .toArray();\n    }\n\n    private initializeSkeletons(): void {\n        while (this.needMoreSkeletons()) {\n            const row: number = this.randomCoord();\n            const col: number = this.randomCoord();\n            if(this.isCoin(row, col)) {\n                this.insertCard(row, col, Card.skeleton(this.screenCenter, row, col, this.callbackProvider.skeletonCardCallback));\n            }  \n        }\n    }\n\n    private initializeBuffs(): void {\n        while(this.needMoreBuffs()) {\n            const row: number = this.randomCoord();\n            const col: number = this.randomCoord();\n            if(this.isCoin(row, col)) {\n                this.insertCard(row, col, this.generateBuffCard(row, col))\n            }\n        }\n    }\n\n    private generateBuffCard(row: number, col:number): Card {\n        return Math.random() < 0.5\n        ? Card.attack(this.screenCenter, row, col, this.callbackProvider.attackCardCallback)\n        : Card.potion(this.screenCenter, row, col, this.callbackProvider.potionCardCallback)  \n    }\n\n    private insertCard(row: number, col: number, card: Card ): void {\n        if (card.type() == CardType.SKELETON) {\n            this.skeletonCount++;\n        } else if (card.type() == CardType.ATTACK) {\n            this.swordCount++;\n        } else if (card.type() == CardType.POTION) {\n            this.potionCount++;\n        }\n        this.grid[row][col] = card;\n    }\n\n    private isCoin(row:number, col:number): boolean {\n        return this.grid[row][col].type() == CardType.COIN;\n    } \n\n    private needMoreSkeletons(): boolean {\n        return this.skeletonCount < Math.ceil(((this.gridSize * this.gridSize)) / Config.skeletonDifficultyFactor);\n    }\n\n    private needMoreBuffs() {\n        const totalBuffs = this.potionCount + this.swordCount;\n        return totalBuffs < this.skeletonCount - Config.buffDifficultyFactor;\n    }\n\n    private randomCoord(): number {\n        return Math.floor(Math.random() * this.gridSize);\n    }\n\n    public static createGrid(callbackProvider: CardCallbackProvider, gridSize: number, engine: ex.Engine): GridCoordinator {\n        const screenCenter = new Vector(engine.drawWidth/2, engine.drawHeight/2);\n        const coord: GridCoordinator = new GridCoordinator(callbackProvider, gridSize, screenCenter);\n        coord.initializeSkeletons();\n        coord.initializeBuffs();\n        return coord;\n\n    }\n}","module.exports = __webpack_public_path__ + \"5acc4c358abe356ab34cb46990213c87.mp3\";","module.exports = __webpack_public_path__ + \"e1587389071cad642af4ea472a7657df.wav\";","module.exports = __webpack_public_path__ + \"7969b4d1ca99e09c909f6b4247f2e20a.wav\";","module.exports = __webpack_public_path__ + \"ec591911768b22068d38bb5b2a321448.ogg\";","module.exports = __webpack_public_path__ + \"c17429a3194184f1823e8652b19665db.wav\";","module.exports = __webpack_public_path__ + \"9b230c404133d31e8b32b72e4f4709d6.wav\";","module.exports = __webpack_public_path__ + \"84f7a92ac15bb28de085370686c46b57.wav\";","module.exports = __webpack_public_path__ + \"b58455f5ec6aaf2a19902f196a55e98a.wav\";","module.exports = __webpack_public_path__ + \"58a173980e88f9c87fc59189eecffa32.png\";","module.exports = __webpack_public_path__ + \"965a27cff1d4258fa5cd446cc3aad69d.png\";","module.exports = __webpack_public_path__ + \"04bae7f03193a414f9a11713d3a05357.png\";","module.exports = __webpack_public_path__ + \"6944ce0fd23293c610a6b7881300e188.png\";","module.exports = __webpack_public_path__ + \"0574a2e0749918363ef5593ddc58b2e7.png\";","module.exports = __webpack_public_path__ + \"e7192d5fba02e9c6c174e7e3d9487a6b.png\";","module.exports = __webpack_public_path__ + \"46f00f6169dccc5ee028881800a09fe3.png\";","module.exports = __webpack_public_path__ + \"3844e977328e0e91b54f2d32278684c5.png\";","module.exports = __webpack_public_path__ + \"56376cf0ad0de37681a110e6dbfc3fb8.png\";","module.exports = __webpack_public_path__ + \"2a3f5e19c5b2efd0462fb7cc1b704558.png\";","module.exports = __webpack_public_path__ + \"4ce8baed92fdbe83ea831d09b512beb2.png\";","module.exports = __webpack_public_path__ + \"b6ac9dbcd6cad76692d5dc9ffd4d530d.png\";","module.exports = __webpack_public_path__ + \"d564e115a42fa163a7bc9e1328b2d216.png\";","module.exports = __webpack_public_path__ + \"7f0a2a655d51479def4f8b21fd3b5738.png\";","module.exports = __webpack_public_path__ + \"ccd1e8955823c41dd50406b82e3d7dc0.png\";","module.exports = __webpack_public_path__ + \"598df00bd95514ed5a3f054793f36da1.png\";","module.exports = __webpack_public_path__ + \"b4c4a5b43037b15315c6c75870cbb701.png\";","module.exports = __webpack_public_path__ + \"8c1509dd1b13c9b73931d6618c43997a.png\";","module.exports = __webpack_public_path__ + \"3e597a67bfe1e56605598b0b20f7c961.png\";","module.exports = __webpack_public_path__ + \"419e057f2b0e2d8670422004f5820c24.png\";","module.exports = __webpack_public_path__ + \"040adb5051047f4fef1d17a65a486b10.png\";","import { Actor, Vector, Sprite, Texture } from \"excalibur\";\nimport { Resources, uiHeart } from \"../../resources\";\n\nexport default class StatTracker extends Actor {\n    private enabled: boolean;\n    public sprite: Sprite;\n    private static DISABLED_OPACITY: number = 0.50;\n\n    public constructor(enabled: boolean, x: number, y: number, texture: Texture) {\n        super();\n        this.x = x;\n        this.y = y;\n        this.sprite = new Sprite(texture, 0, 0, texture.width, texture.height );\n        this.addDrawing(this.sprite);\n        this.setHeight(50);\n        this.setWidth(50);\n        this.scale = new Vector(0.25, 0.25);\n        this.setEnabled(enabled);\n        \n    }\n\n    public setEnabled(enabled: boolean): StatTracker {\n        this.enabled = enabled;\n        this.sprite.clearEffects();\n        if(enabled) {\n            this.sprite.opacity(1);\n        } else {\n            this.sprite.opacity(StatTracker.DISABLED_OPACITY);\n        }\n        return this;\n    }\n\n    public isEnabled(): boolean {\n        return this.enabled;\n    }\n}","import { Label, Texture } from \"excalibur\";\nimport { Supplier, Stream } from \"java8script\";\nimport StatTracker from \"../actors/bars/statTracker\";\n\nexport class NumberCoordinator {\n    private max: number;\n    private current: number;\n    private onZero: Supplier<void>;\n\n    private statActors: StatTracker[];\n\n    private constructor(max, current, onZeroCallback: Supplier<void>, statActors: StatTracker[]) {\n        this.current = current;\n        this.max = max;\n        this.onZero = onZeroCallback;\n        this.statActors = statActors;\n    }\n\n    public static create(x, y, max:number, onZeroCallback: Supplier<void>, texture: Texture, current?: number): NumberCoordinator {\n        const defaultedCurrent: number = current ? current : 0;\n        const statActors = Stream.range(0, max)\n                            .map(idx => {\n                                if(idx > (defaultedCurrent - 1)) {\n                                    return new StatTracker(false, x + (idx * 50), y, texture);\n                                } else {\n                                    return new StatTracker(true, x + (idx * 50), y, texture);\n                                }\n                            })\n                            .toArray();\n    \n        return new NumberCoordinator(\n            max,\n            defaultedCurrent,\n            onZeroCallback,\n            statActors\n        );\n    }\n\n    //adds value to the current, respecting the maximum.\n    //returns the current value after the update\n    public add(value: number): number {\n        if((this.current + value) > this.max) {\n            this.current = this.max;\n        } else {\n            this.current = this.current + value;\n        }\n       this.statActors[this.current - 1].setEnabled(true);\n        return this.current;\n    }\n\n    //subtracts the value from the current, respecting 0 as the lower bound.\n    public subtract(value: number): number {\n        if(this.current - value <= 0) {\n            this.current = 0;\n            this.onZero();\n        } else {\n            this.current = this.current - value;\n        }\n        this.statActors[this.current].setEnabled(false);\n        return this.current;\n    }\n\n    //returns the current value\n    public getCurrent(): number {\n        return this.current;\n    }\n\n    public getStatActors(): StatTracker[] {\n        return this.statActors;\n    }\n }","import { NumberCoordinator } from \"./numberCoordinator\";\nimport { Card, CardType } from \"../actors/card/card\";\nimport { CardCallbackProvider } from \"../actors/card/cardCallbackProvider\"\nimport { Config, Resources } from \"../resources\";\nimport { Stream, Function, Optional } from \"java8script\";\nimport { GridCoordinator } from \"./gridCoordinator\";\nimport * as ex from \"excalibur\";\nimport { Vector, Label } from \"excalibur\";\nimport { Scenes } from \"../scenes/scenes\";\nimport Count from \"../actors/card/count\";\nimport { MainMenu } from \"../scenes/mainMenu\";\n\n\n//this class will handle the building and coordinating of data between the game cards and other UI pieces\nexport class GameCoordinatior implements CardCallbackProvider {\n    private engine: ex.Engine;\n    private healthCoordinator: NumberCoordinator;\n    private attackCoordinator: NumberCoordinator;\n    private gridCoordinator: GridCoordinator;\n\n    private rowCounts: Count[];\n    private columnCounts: Count[];\n\n    private constructor(engine: ex.Engine, healthCoordinator: NumberCoordinator, attackCoordinator: NumberCoordinator) {\n        this.healthCoordinator = healthCoordinator;\n        this.attackCoordinator = attackCoordinator;\n        this.engine = engine;\n    }\n\n    public static initialize(engine: ex.Engine): GameCoordinatior {\n        const coordinator: GameCoordinatior = new GameCoordinatior(\n            engine,\n            NumberCoordinator.create(50, 50, Config.maxHealth, () => { engine.goToScene(Scenes.GAME_OVER) }, Resources.uiHeart, Config.maxHealth),\n            NumberCoordinator.create(50, 100, Config.maxAttack, () => { }, Resources.uiSword)\n        );\n        coordinator.gridCoordinator = GridCoordinator.createGrid(coordinator, Config.gridSize, engine);\n        coordinator.rowCounts = coordinator.createRowCountCards();\n        coordinator.columnCounts = coordinator.createColCountCards();\n\n        return coordinator;\n    }\n\n    public getStatTrackers(): ex.Actor[] {\n        return [\n            ...this.healthCoordinator.getStatActors(),\n            ...this.attackCoordinator.getStatActors()\n        ]\n    }\n\n    public getRowCountCards(): Count[] {\n        return this.rowCounts;\n    }\n\n    public getColCountCards(): Count[] {\n        return this.columnCounts;\n    }\n\n    private createColCountCards(): Count[] {\n        const center = new Vector(this.engine.drawWidth/2, this.engine.drawHeight/2);\n        return Stream.of(this.gridCoordinator.getRow(0))\n            .map(card => new Count(\"col\", card.getCol(), center, this.skeletonCountForCol(card.getCol())))\n            .toArray();\n    }\n    \n    private createRowCountCards(): Count[] {\n        const center = new Vector(this.engine.drawWidth/2, this.engine.drawHeight/2);\n        return Stream.of(this.gridCoordinator.getCol(0))\n            .map(card => new Count(\"row\", card.getRow(), center, this.skeletonCountForRow(card.getRow())))\n            .toArray();\n    }\n\n    private skeletonCountForRow(row: number) {\n        return Stream.of(this.gridCoordinator.getRow(row))\n            .filter(c => !c.isFlipped())\n            .filter(c => c.type() == CardType.SKELETON)\n            .count();\n    }\n\n    private skeletonCountForCol(col: number) {\n        return Stream.of(this.gridCoordinator.getCol(col))\n            .filter(c => !c.isFlipped())\n            .filter(c => c.type() == CardType.SKELETON)\n            .count();\n    }\n\n    public getGridAsList(): Card[] {\n        return this.gridCoordinator.getGridAsList();\n    }\n\n    private updateLabels() {\n        this.rowCounts.forEach((count, idx) => {\n            count.setCount(this.skeletonCountForRow(idx));\n        });\n\n        this.columnCounts.forEach((count, idx) => {\n            count.setCount(this.skeletonCountForCol(idx));\n        });\n    }\n\n    private checkIfCompleteGame(): void {\n       const allFlipped = Stream.of(this.getGridAsList())\n            .allMatch(card => card.isFlipped());\n        if (allFlipped && this.healthCoordinator.getCurrent() > 0) {\n            this.engine.goToScene(Scenes.VICTORY);\n        }\n    } \n\n    public skeletonCardCallback = (): void => {\n        if (this.attackCoordinator.getCurrent() > 0) {\n            this.attackCoordinator.subtract(1);\n        } else {\n            this.healthCoordinator.subtract(1);\n        }\n        this.updateLabels();\n        this.checkIfCompleteGame();\n    }\n\n    public coinCardCallback = (): void => {\n        this.checkIfCompleteGame();\n    }\n\n    public attackCardCallback = (): void => {\n        this.attackCoordinator.add(1);\n        this.checkIfCompleteGame();\n    }\n\n    public potionCardCallback = (): void => {\n        this.healthCoordinator.add(1);\n        this.checkIfCompleteGame();\n    }\n}","import * as ex from 'excalibur';\nimport { GameCoordinatior } from '../coordinator/coordinator';\nimport { Stream } from 'java8script';\nimport { Color } from 'excalibur';\nimport SoundManager from '../engine/soundManager';\n\nexport class GameWindow extends ex.Scene {\n\n  private coordinator;\n\n  public onInitialize(engine: ex.Engine) {\n  }\n\n  public onActivate() {\n    SoundManager.get().backgroundMusicStart();\n    const coordinator: GameCoordinatior = GameCoordinatior.initialize(this.engine);\n    this.coordinator = coordinator;\n\n    coordinator.getGridAsList()\n      .forEach(c => this.add(c));\n\n    coordinator.getColCountCards()\n      .forEach(c => this.add(c));\n\n    coordinator.getRowCountCards()\n      .forEach(c => this.add(c));\n\n      Stream.ofValues(this.coordinator.getStatTrackers())\n      .map(l => Stream.ofValues(...l))\n      .flatMap(l => l)\n      .forEach(c => this.add(c));\n  }\n  public onDeactivate() {\n    this.coordinator.getGridAsList()\n      .forEach(c => this.remove(c));\n\n    this.coordinator.getColCountCards()\n      .forEach(c => this.remove(c));\n\n    this.coordinator.getRowCountCards()\n      .forEach(c => this.remove(c));\n\n    Stream.ofValues(this.coordinator.getStatTrackers())\n      .map(l => Stream.ofValues(...l))\n      .flatMap(l => l)\n      .forEach(c => this.remove(c));\n\n  }\n} \n","import * as ex from 'excalibur';\nimport { GameWindow } from './scenes/levelOne';\nimport { Resources } from './resources';\nimport { Scenes } from './scenes/scenes';\nimport { MainMenu } from './scenes/mainMenu';\nimport Game from './engine/game';\nimport { GameLoader } from './engine/gameLoader';\nimport { GameOver } from './scenes/gameOver';\nimport { Victory } from './scenes/victory';\n\nconst game = new Game();\ngame.add(Scenes.MAIN_MENU, new MainMenu(game));\ngame.add(Scenes.GAME_OVER, new GameOver(game));\ngame.add(Scenes.GAME_WINDOW, new GameWindow(game));\ngame.add(Scenes.VICTORY, new Victory(game));\n\nlet loader = new GameLoader();\nObject.keys(Resources)\n      .forEach(k => loader.addResource(Resources[k]));\n    \ngame.start(loader).then(() => {\n  game.goToScene(Scenes.MAIN_MENU);\n});\n"],"sourceRoot":""}