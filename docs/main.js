!function(t){function e(e){for(var i,u,a=e[0],s=e[1],c=e[2],f=0,p=[];f<a.length;f++)u=a[f],r[u]&&p.push(r[u][0]),r[u]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);for(d&&d(e);p.length;)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var s=n[a];0!==r[s]&&(i=!1)}i&&(o.splice(e--,1),t=u(u.s=n[0]))}return t}var i={},r={1:0},o=[];function u(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=i,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},u.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},u.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="";var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var d=s;o.push([246,0]),n()}([,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(143),o=n(142),u=n(141),a=n(140),s=n(139),c=n(138),d=n(137),f=n(136),p=n(54),l=n(135),h=n(134),g=n(133),y=n(132),w=n(131),S=n(130),b=n(129),C=n(128),_=n(127),v=n(126),x=n(125),O=n(124),M=n(123);e.uiHeart=M;var k=n(122),m=n(121),T=n(120),P=n(119),z=n(118),A=n(117),R=n(116),E=n(115),D=n(114),I=n(113),B=n(112),j=n(111),G=n(110),W=n(109),L=n(108),H=n(107),N={victory:new i.Texture(R),gameOver:new i.Texture(l),title:new i.Texture(p),sword:new i.Texture(r),skull:new i.Texture(o),potion:new i.Texture(u),coin:new i.Texture(a),card:new i.Texture(s),startMenu:new i.Texture(c),optionMenu:new i.Texture(d),helpMenu:new i.Texture(f),backgroundTile:new i.Texture(H),0:new i.Texture(h),1:new i.Texture(g),2:new i.Texture(y),3:new i.Texture(w),4:new i.Texture(S),5:new i.Texture(b),6:new i.Texture(C),7:new i.Texture(_),8:new i.Texture(v),9:new i.Texture(x),uiSword:new i.Texture(O),uiHeart:new i.Texture(M),uiLeft:new i.Texture(m),uiRight:new i.Texture(T),uiX:new i.Texture(P),uiBlank:new i.Texture(z),uiCoins:new i.Texture(k),myMono:new i.Texture(A),cardSound:new i.Sound(E),boneSound:new i.Sound(I),coinSound:new i.Sound(G),laughSound:new i.Sound(j),potionSound:new i.Sound(D),swordSound:new i.Sound(B),victorySound:new i.Sound(L),backgroundMusic:new i.Sound(W)};e.Resources=N,e.Config={maxHealth:3,maxAttack:2,gridPadding:4,backgroundColor:"#dddddd",exitButtonSize:50,uiBigSize:50,optionPadding:20}},,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.GAME_WINDOW="gameWindow",t.MAIN_MENU="mainMenu",t.GAME_OVER="gameOver",t.VICTORY="victory",t.OPTIONS="options",t.HELP="help"}(e.Scenes||(e.Scenes={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n){this.gridSize=t,this.difficulty=e,this.disableProgression=n}return t.get=function(){return this.singleton?this.singleton:(this.singleton=new t(t.baseGridSize,t.baseDifficulty,!1),this.singleton)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.getDifficulty=function(){return this.difficulty},t.prototype.getSkullFactor=function(){return t.getBuffAndSkullByDifficulty(this.difficulty).skullFactor},t.prototype.getBuffFactor=function(){return t.getBuffAndSkullByDifficulty(this.difficulty).buffFactor},t.prototype.progress=function(){this.disableProgression||(5===this.difficulty?(this.difficulty=this.nextDifficulty(this.difficulty,this.gridSize),this.gridSize=this.nextGridSize(this.gridSize)):(this.nextDifficulty(this.difficulty,this.gridSize),this.difficulty=this.nextDifficulty(this.difficulty,this.gridSize)))},t.prototype.setGridSize=function(t){this.gridSize=t},t.prototype.setDifficulty=function(t){this.difficulty=t},t.prototype.resetProgress=function(){this.disableProgression||(this.difficulty=t.baseDifficulty,this.gridSize=t.baseGridSize)},t.prototype.getLevelNumber=function(){return parseFloat(this.getGridSize()+"."+this.getDifficulty())},t.prototype.nextGridSize=function(t){return 9===t?9:t+1},t.prototype.nextDifficulty=function(t,e){if(9!==e||5!==t)return 2===t||4===t?t+1:5===t?1:t+2},t.getBuffAndSkullByDifficulty=function(t){var e=function(t,e){return{skullFactor:t,buffFactor:e}};switch(t){case 1:return e(3,0);case 2:return e(2.5,0);case 3:return e(2.5,1);case 4:return e(2,1);case 5:return e(2,2)}},t.baseGridSize=4,t.baseDifficulty=1,t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.engine=t}return t.initialize=function(e){this.singleton?console.log("Mobile Manager already initialized"):this.singleton=new t(e)},t.get=function(){if(this.singleton)return this.singleton;throw"Mobile Manager Not defined yet"},t.prototype.isMobile=function(){return this.engine.drawWidth<768},t.prototype.getUIItemSize=function(){return this.isMobile()?30:50},t.prototype.getMenuHeight=function(){return 3*this.getUIItemSize()},t}();e.default=i},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(5),o=function(){function t(t){var e=r.Resources.backgroundTile,n=Math.ceil(t.drawWidth/e.width),o=Math.ceil(t.drawHeight/e.height),u=new i.TileMap(0,0,e.width,e.height,o,n);u.registerSpriteSheet("background",new i.SpriteSheet(e,1,1,e.width,e.height));for(var a=new i.TileSprite("background",0),s=0;s<o*n;s++)u.getCellByIndex(s).pushSprite(a);this.tileMap=u}return t.prototype.getTileMap=function(){return this.tileMap},t}();e.default=o},,,function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=n(37),a=function(t){function e(e,n){var i=t.call(this)||this;return i.onDown=function(){i.sprite.clearEffects(),i.sprite.addEffect(new u.Darken(.2))},i.onEnter=function(){i.sprite.clearEffects(),i.sprite.addEffect(new u.Darken(.1))},i.onExit=function(){i.sprite.clearEffects()},i.sprite=new o.Sprite(e,0,0,e.width,e.height),i.addDrawing(i.sprite),i.on("pointerdown",i.onDown),i.on(o.EventTypes.PointerUp,i.onClickWrapper(n)),i.on("pointerenter",i.onEnter),i.on("pointerleave",i.onExit),i}return r(e,t),e.prototype.onClickWrapper=function(t){var e=this;return function(n){"pointerup"===n.ev.type&&(e.sprite.clearEffects(),t())}},e}(o.Actor);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=function(){function t(){this.disabled=!1}return t.get=function(){return t.soundManager?t.soundManager:(t.soundManager=new t,t.soundManager)},t.prototype.disableSound=function(){this.disabled=!0,this.backgroundSound&&(this.backgroundSound.stop(),this.backgroundSound=null)},t.prototype.enableSound=function(){this.disabled=!1},t.prototype.backgroundMusicStart=function(){this.disabled||this.backgroundSound||(this.backgroundSound=i.Resources.backgroundMusic,this.backgroundSound.loop=!0,this.backgroundSound.play(.1))},t.prototype.playSoundInterrupt=function(t,e){this.currentSound&&this.currentSound.isPlaying()&&(this.currentSound.pause(),this.currentSound=null),this.playSoundWithAfter(t,e)},t.prototype.playSoundWithAfter=function(t,e){this.disabled||(this.currentSound=t,e?t.play().then(e):t.play())},t}();e.default=r},,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);function r(t,e,n,r,o,u){var a=o||1,s=t*a,c=e*a,d=c/r;if(d*n>t){var f,p=s/n;return{width:r*(f=u<p?u:p),height:s,scale:new i.Vector(f,f)}}return{width:c,height:n*(f=u<d?u:d),scale:new i.Vector(f,f)}}e.calcDimensionsSingleObjectTexture=function(t,e,n,i,o){return r(t,e,n.height,n.width,i,o)},e.calcDimensionsSingleObject=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(5),o=function(){function t(){this.generalMono=new i.SpriteFont(r.Resources.myMono,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ.: ",!0,12,4,99,135)}return t.get=function(){return this.singleton?this.singleton:new t},t.prototype.getMono=function(){return this.generalMono},t}();e.default=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,u=n(3),a=n(5),s=n(3),c=n(37),d=n(21),f=n(12),p=n(13);!function(t){t.COIN="coin",t.SKELETON="skeleton",t.POTION="potion",t.ATTACK="attack"}(o=e.CardType||(e.CardType={}));var l=function(t){function e(n,i,r,u,s,f,p){var l=t.call(this)||this;l.onEnter=function(){l.baseSprite.clearEffects(),l.baseSprite.addEffect(new c.Darken(.2))},l.onExit=function(){l.baseSprite.clearEffects()},l.playSound=function(){var t;l.cardType===o.SKELETON?t=a.Resources.boneSound:l.cardType===o.ATTACK?t=a.Resources.swordSound:l.cardType===o.COIN?t=a.Resources.coinSound:l.cardType===o.POTION&&(t=a.Resources.potionSound),d.default.get().playSoundInterrupt(t)},l.cardType=f,l.passedInOnClick=u,l.row=r,l.col=i,l.flipped=!1,l.texture=p;var h=e.calcCardDimensions(2*n.y,2*n.x);return l.baseSprite=e.sprite(a.Resources.card,h.scale),l.addDrawing("base",l.baseSprite),l.addDrawing("flip",e.sprite(l.texture,h.scale)),l.setWidth(h.width),l.setHeight(h.height),l.on("pointerup",l.fullOnClick),l.on("pointerenter",l.onEnter),l.on("pointerleave",l.onExit),l.x=e.calcX(i,h.width,n)+h.width,l.y=e.calcY(h.height,r,n)+h.height,l}return r(e,t),e.calcX=function(t,e,n){return n.x-f.default.get().getGridSize()/2*e-(f.default.get().getGridSize()-1)*a.Config.gridPadding/2+e*t+a.Config.gridPadding*t},e.calcY=function(t,e,n){return n.y+p.default.get().getMenuHeight()/2-f.default.get().getGridSize()/2*t-(f.default.get().getGridSize()-1)*a.Config.gridPadding/2+t*e+a.Config.gridPadding*e},e.calcCardDimensions=function(t,n){var i=a.Resources.card,r=i.height,o=i.width,u=t-p.default.get().getMenuHeight(),c=e.calcMaxCardHeight(u),d=e.calcMaxCardWidth(n),l=d/o;if(l*(r*(f.default.get().getGridSize()+1))>u){var h=c/r;return{width:o*h,height:c,scale:new s.Vector(h,h)}}return{width:d,height:r*l,scale:new s.Vector(l,l)}},e.calcMaxCardHeight=function(t){return.95*t/(f.default.get().getGridSize()+1)-a.Config.gridPadding},e.calcMaxCardWidth=function(t){return.95*t/(f.default.get().getGridSize()+1)-a.Config.gridPadding},e.sprite=function(t,e){var n=new s.Sprite(t,0,0,t.width,t.height);return n.scale=e,n},e.prototype.fullOnClick=function(){this.flipped||(this.flipped=!0,this.setDrawing("flip"),d.default.get().playSoundInterrupt(a.Resources.cardSound,this.playSound),this.passedInOnClick())},e.prototype.type=function(){return this.cardType},e.prototype.getRow=function(){return this.row},e.prototype.getCol=function(){return this.col},e.prototype.isFlipped=function(){return this.flipped},e.skeleton=function(t,n,i,r){return new e(t,i,n,r,u.Color.White,o.SKELETON,a.Resources.skull)},e.potion=function(t,n,i,r){return new e(t,i,n,r,u.Color.Red,o.POTION,a.Resources.potion)},e.attack=function(t,n,i,r){return new e(t,i,n,r,u.Color.Gray,o.ATTACK,a.Resources.sword)},e.coin=function(t,n,i,r){return new e(t,i,n,r,u.Color.Yellow,o.COIN,a.Resources.coin)},e}(u.Actor);e.Card=l},,,,,,,,,,,,,,function(t,e,n){t.exports=n.p+"60875f949f42a486e64184bc743af777.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=n(5),a=n(11),s=n(3),c=n(20),d=n(17),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInitialize=function(t){this.engine=t;var e=new d.default(t);this.addTileMap(e.getTileMap());var n=u.Resources.uiX,i=new c.default(n,function(){return t.goToScene(a.Scenes.MAIN_MENU)});i.scale=new s.Vector(u.Config.exitButtonSize/n.width,u.Config.exitButtonSize/n.height),i.setHeight(u.Config.exitButtonSize),i.setWidth(u.Config.exitButtonSize),i.x=t.drawWidth-u.Config.exitButtonSize/2-u.Config.gridPadding,i.y=u.Config.exitButtonSize/2+u.Config.gridPadding,this.add(i)},e.prototype.onActivate=function(){},e.prototype.onDeactivate=function(){},e}(o.Scene);e.Help=f},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=n(5),a=n(37),s=function(t){function e(e,n,i,r){var s=t.call(this)||this;return s.onDown=function(){s.currentSprite().clearEffects(),s.currentSprite().addEffect(new a.Darken(.2))},s.onEnter=function(){s.currentSprite().clearEffects(),s.currentSprite().addEffect(new a.Darken(.1))},s.onExit=function(){s.currentSprite().clearEffects()},s.toggleButton=function(){s.checked=!s.checked,s.checked?s.setDrawing("checked"):s.setDrawing("unchecked")},s.checked=r,s.checkedSprite=new o.Sprite(u.Resources.uiX,0,0,u.Resources.uiX.width,u.Resources.uiX.height),s.uncheckedSprite=new o.Sprite(u.Resources.uiBlank,0,0,u.Resources.uiBlank.width,u.Resources.uiBlank.height),s.scale=new o.Vector(e/u.Resources.uiX.width,e/u.Resources.uiX.height),s.setHeight(e),s.setWidth(e),s.x=n,s.y=i,s.addDrawing("checked",s.checkedSprite),s.addDrawing("unchecked",s.uncheckedSprite),s.checked?s.setDrawing("checked"):s.setDrawing("unchecked"),s.on("pointerdown",s.onDown),s.on("pointerenter",s.onEnter),s.on("pointerleave",s.onExit),s.on("pointerup",s.onClickWrapper(s.toggleButton)),s}return r(e,t),e.prototype.isChecked=function(){return this.checked},e.prototype.onClickWrapper=function(t){var e=this;return function(n){"pointerup"===n.ev.type&&(e.currentSprite().clearEffects(),t(),e.onEnter())}},e.prototype.currentSprite=function(){return this.checked?this.checkedSprite:this.uncheckedSprite},e}(o.Actor);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(95),r=n(3),o=n(39),u=function(){function t(t,e,n,u,a,s){this.label=new r.Label(t,n,u,null,o.default.get().getMono()),this.label.fontSize=e,this.label.baseAlign=r.BaseAlign.Middle,this.label.textAlign=r.TextAlign.Center;var c=this.label.getTextWidth(s.ctx);console.log("labelwidth "+c),this.label.x=n-c/3,this.radio=new i.default(e,n+c*(2/3),u,a)}return t.prototype.isChecked=function(){return this.radio.isChecked()},t.prototype.getDrawables=function(){return[this.radio,this.label]},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(5),o=n(20),u=n(39),a=function(){function t(t,e,n,a,s,c,d){var f=this;this.labelText=t,this.min=e,this.max=n,this.current=a,this.fontSize=d,this.topLabel=new i.Label(this.labelText,s,c-r.Config.gridPadding,null,u.default.get().getMono()),this.topLabel.fontSize=this.fontSize,this.topLabel.baseAlign=i.BaseAlign.Middle,this.topLabel.textAlign=i.TextAlign.Center,this.numberLabel=new i.Label(""+a,s,c+d,null,u.default.get().getMono()),this.numberLabel.fontSize=this.fontSize,this.numberLabel.baseAlign=i.BaseAlign.Middle,this.numberLabel.textAlign=i.TextAlign.Center,this.leftButton=new o.default(r.Resources.uiLeft,function(){return f.addBy(-1)}),this.leftButton.x=s-1.5*this.fontSize,this.leftButton.y=c+d,this.leftButton.scale=new i.Vector(this.fontSize/r.Resources.uiLeft.width,this.fontSize/r.Resources.uiLeft.height),this.leftButton.setHeight(this.fontSize),this.leftButton.setWidth(this.fontSize),this.rightButton=new o.default(r.Resources.uiRight,function(){return f.addBy(1)}),this.rightButton.x=s+1.5*this.fontSize,this.rightButton.y=c+d,this.rightButton.scale=new i.Vector(this.fontSize/r.Resources.uiRight.width,this.fontSize/r.Resources.uiRight.height),this.rightButton.setHeight(this.fontSize),this.rightButton.setWidth(this.fontSize)}return t.prototype.addBy=function(t){var e=this.current+t;this.min<=e&&this.max>=e&&(this.current=e,this.numberLabel.text=""+e)},t.prototype.getCurrent=function(){return this.current},t.prototype.setCurrent=function(t){this.current=t,this.numberLabel.text=""+t},t.prototype.getDrawables=function(){return[this.leftButton,this.rightButton,this.numberLabel,this.topLabel]},t}();e.default=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=n(5),a=n(11),s=n(3),c=n(20),d=n(17),f=n(97),p=n(12),l=n(96),h=n(21),g=n(13),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onExit=function(){p.default.get().setGridSize(e.gridSize.getCurrent()),p.default.get().setDifficulty(e.difficulty.getCurrent()),e.sound.isChecked()?h.default.get().enableSound():h.default.get().disableSound(),e.engine.goToScene(a.Scenes.MAIN_MENU)},e}return r(e,t),e.prototype.onInitialize=function(t){this.engine=t;var e=new d.default(t);this.addTileMap(e.getTileMap());var n=g.default.get().getUIItemSize(),i=u.Resources.uiX,r=new c.default(i,this.onExit);this.addGridSize(n),this.addDifficultySize(n),this.addSoundToggle(n),r.scale=new s.Vector(u.Config.exitButtonSize/i.width,u.Config.exitButtonSize/i.height),r.setHeight(u.Config.exitButtonSize),r.setWidth(u.Config.exitButtonSize),r.x=t.drawWidth-u.Config.exitButtonSize/2-u.Config.gridPadding,r.y=u.Config.exitButtonSize/2+u.Config.gridPadding,this.add(r)},e.prototype.addGridSize=function(t){var e=this;this.gridSize=new f.default("GRID SIZE",2,9,p.default.get().getGridSize(),this.engine.drawWidth/2,this.engine.drawHeight/2,t),this.gridSize.getDrawables().forEach(function(t){return e.add(t)})},e.prototype.addDifficultySize=function(t){var e=this;this.difficulty=new f.default("DIFFICULTY",1,5,p.default.get().getDifficulty(),this.engine.drawWidth/2,this.engine.drawHeight/2+2*t+u.Config.optionPadding,t),this.difficulty.getDrawables().forEach(function(t){return e.add(t)})},e.prototype.addSoundToggle=function(t){var e=this;this.sound=new l.default("Sound",t,this.engine.drawWidth/2,this.engine.drawHeight/2-t-u.Config.optionPadding,!0,this.engine),this.sound.getDrawables().forEach(function(t){return e.add(t)})},e.prototype.onActivate=function(){this.gridSize.setCurrent(p.default.get().getGridSize()),this.difficulty.setCurrent(p.default.get().getDifficulty())},e.prototype.onDeactivate=function(){},e}(o.Scene);e.Options=y},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=n(5),a=n(11),s=n(21),c=n(12),d=n(38),f=n(17),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInitialize=function(t){var e=this;this.engine=t;var n=new o.Actor;n.addDrawing(u.Resources.victory.asSprite()),n.x=this.engine.drawWidth/2,n.y=this.engine.drawHeight/2;var i=d.calcDimensionsSingleObjectTexture(this.engine.drawHeight,this.engine.drawWidth,u.Resources.victory,.8,1.5);n.setHeight(i.height),n.setWidth(i.width),n.scale=i.scale,n.on("pointerup",function(){c.default.get().progress(),e.engine.goToScene(a.Scenes.GAME_WINDOW)}),this.add(n),this.add(new f.default(t).getTileMap())},e.prototype.onActivate=function(){s.default.get().playSoundInterrupt(u.Resources.victorySound)},e.prototype.onDeactivate=function(){},e}(o.Scene);e.Victory=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=n(5),a=n(11),s=n(21),c=n(12),d=n(38),f=n(17),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInitialize=function(t){var e=this;this.engine=t;var n=new o.Actor,i=new o.SpriteSheet(u.Resources.gameOver,3,1,360,360).getAnimationForAll(this.engine,125);n.addDrawing("idle",i);var r=d.calcDimensionsSingleObject(this.engine.drawHeight,this.engine.drawWidth,360,360,.8,1.5);this.add(n),n.x=this.engine.drawWidth/2,n.y=this.engine.drawHeight/2,n.setHeight(r.height),n.setWidth(r.width),n.scale=r.scale,n.on("pointerup",function(){c.default.get().resetProgress(),e.engine.goToScene(a.Scenes.MAIN_MENU)}),this.add(new f.default(t).getTileMap())},e.prototype.onActivate=function(){s.default.get().playSoundInterrupt(u.Resources.laughSound)},e.prototype.onDeactivate=function(){u.Resources.laughSound.stop()},e}(o.Scene);e.GameOver=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=n(5),a=n(54),s=function(t){function e(){var e=t.call(this)||this;return e.backgroundColor=u.Config.backgroundColor.toString(),e.logo=a,e.logoHeight=234,e.logoWidth=1260,e}return r(e,t),e}(o.Loader);e.GameLoader=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=function(t){function e(){return t.call(this,{suppressConsoleBootMessage:!0,displayMode:o.DisplayMode.FullScreen,suppressPlayButton:!0})||this}return r(e,t),e.prototype.start=function(e){return t.prototype.start.call(this,e)},e}(o.Engine);e.default=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=n(5),a=n(11),s=n(20),c=n(38),d=n(17),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInitialize=function(t){var e=this;this.screenWidth=t.drawWidth,this.screenHeight=t.drawHeight,this.game=t;var n=new d.default(t);this.addTileMap(n.getTileMap()),this.start=new s.default(u.Resources.startMenu,function(){return e.game.goToScene(a.Scenes.GAME_WINDOW)}),this.sizeProperly(this.start,.4,.5,u.Resources.startMenu),this.add(this.start),this.options=new s.default(u.Resources.optionMenu,function(){return e.game.goToScene(a.Scenes.OPTIONS)}),this.sizeProperly(this.options,.4,.5,u.Resources.optionMenu),this.add(this.options),this.help=new s.default(u.Resources.helpMenu,function(){return e.game.goToScene(a.Scenes.HELP)}),this.sizeProperly(this.help,.4,.5,u.Resources.helpMenu),this.add(this.help),this.title=this.sizeProperly(new o.Actor,.9,1,u.Resources.title),this.title.addDrawing(u.Resources.title),this.add(this.title),this.placeActors()},e.prototype.onActivate=function(){},e.prototype.sizeProperly=function(t,e,n,i){var r=c.calcDimensionsSingleObjectTexture(this.screenHeight,this.screenWidth,i,e,n);return t.scale=r.scale,t.setHeight(r.height),t.setWidth(r.width),t},e.prototype.placeActors=function(){this.start.x=this.screenWidth/2,this.start.y=this.screenHeight/2-this.start.getHeight()-u.Config.gridPadding,this.options.x=this.screenWidth/2,this.options.y=this.screenHeight/2,this.help.x=this.screenWidth/2,this.help.y=this.screenHeight/2+this.help.getHeight()+u.Config.gridPadding,this.title.x=this.screenWidth/2,this.title.y=this.title.getHeight()/2+u.Config.gridPadding},e.prototype.onDeactivate=function(){},e}(o.Scene);e.MainMenu=f},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=n(39),a=function(t){function e(n,i,r,a){var s=t.call(this,e.createLabelText(a),n,i,null,u.default.get().getMono())||this;return s.fontSize=r,s.baseAlign=o.BaseAlign.Middle,s.textAlign=o.TextAlign.Center,s}return r(e,t),e.createLabelText=function(t){return e.PREFIX+" "+t},e.prototype.updateLevel=function(t){this.text=e.createLabelText(t)},e.PREFIX="Level",e}(o.Label);e.default=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=n(5),a=n(40),s=n(12),c=n(13),d=function(t){function e(n,i,r,o){var s=t.call(this)||this;s.type=n,s.index=i,s.screenCenter=r;var c=a.Card.calcCardDimensions(2*r.y,2*r.x);return s.addDrawing("0",e.sprite(u.Resources[0],c.scale)),s.addDrawing("1",e.sprite(u.Resources[1],c.scale)),s.addDrawing("2",e.sprite(u.Resources[2],c.scale)),s.addDrawing("3",e.sprite(u.Resources[3],c.scale)),s.addDrawing("4",e.sprite(u.Resources[4],c.scale)),s.addDrawing("5",e.sprite(u.Resources[5],c.scale)),s.addDrawing("6",e.sprite(u.Resources[6],c.scale)),s.addDrawing("7",e.sprite(u.Resources[7],c.scale)),s.addDrawing("8",e.sprite(u.Resources[8],c.scale)),s.addDrawing("9",e.sprite(u.Resources[9],c.scale)),s.setWidth(c.width),s.setHeight(c.height),s.x=e.calcX(n,i,r,c.width)+c.width,s.y=e.calcY(n,i,r,c.height)+c.height,s.setCount(o),s}return r(e,t),e.calcX=function(t,e,n,i){var r=n.x-s.default.get().getGridSize()/2*i-i-(s.default.get().getGridSize()+1)*u.Config.gridPadding/2;return"row"===t?r:r+i+i*e+u.Config.gridPadding*(e+1)},e.calcY=function(t,e,n,i){var r=n.y+c.default.get().getMenuHeight()/2-s.default.get().getGridSize()/2*i-i-(s.default.get().getGridSize()+1)*u.Config.gridPadding/2;return"col"===t?r:r+i+i*e+u.Config.gridPadding*(e+1)},e.sprite=function(t,e){var n=t.asSprite();return n.scale=e,n},e.prototype.setCount=function(t){return this.setDrawing(""+t),this},e}(o.Actor);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(40),r=n(36),o=n(3),u=n(12),a=function(){function t(e,n,i){this.skeletonCount=0,this.potionCount=0,this.swordCount=0,this.gridSize=n,this.callbackProvider=e,this.screenCenter=i,this.grid=t.blankGrid(n,e,this.screenCenter)}return t.prototype.getGridAsList=function(){return r.Stream.of(this.grid).map(function(t){return r.Stream.ofValues.apply(r.Stream,t)}).flatMap(r.Function.identity()).toArray()},t.prototype.getCard=function(t,e){return this.grid[t][e]},t.prototype.getRow=function(t){return r.Stream.of(this.grid).map(function(t){return r.Stream.ofValues.apply(r.Stream,t)}).flatMap(function(t){return t}).filter(function(e){return e.getRow()==t}).toArray()},t.prototype.getCol=function(t){return r.Stream.of(this.grid).map(function(t){return r.Stream.ofValues.apply(r.Stream,t)}).flatMap(function(t){return t}).filter(function(e){return e.getCol()==t}).toArray()},t.blankGrid=function(t,e,n){var i=this;return r.Stream.range(0,t).map(function(r){return i.blankGridRow(t,r,e,n)}).toArray()},t.blankGridRow=function(t,e,n,o){return r.Stream.range(0,t).map(function(t){return i.Card.coin(o,e,t,n.coinCardCallback)}).toArray()},t.prototype.initializeSkeletons=function(){for(;this.needMoreSkeletons();){var t=this.randomCoord(),e=this.randomCoord();this.isCoin(t,e)&&this.insertCard(t,e,i.Card.skeleton(this.screenCenter,t,e,this.callbackProvider.skeletonCardCallback))}},t.prototype.initializeBuffs=function(){for(;this.needMoreBuffs();){var t=this.randomCoord(),e=this.randomCoord();this.isCoin(t,e)&&this.insertCard(t,e,this.generateBuffCard(t,e))}},t.prototype.generateBuffCard=function(t,e){return Math.random()<.5?i.Card.attack(this.screenCenter,t,e,this.callbackProvider.attackCardCallback):i.Card.potion(this.screenCenter,t,e,this.callbackProvider.potionCardCallback)},t.prototype.insertCard=function(t,e,n){n.type()==i.CardType.SKELETON?this.skeletonCount++:n.type()==i.CardType.ATTACK?this.swordCount++:n.type()==i.CardType.POTION&&this.potionCount++,this.grid[t][e]=n},t.prototype.isCoin=function(t,e){return this.grid[t][e].type()==i.CardType.COIN},t.prototype.needMoreSkeletons=function(){return this.skeletonCount<Math.ceil(this.gridSize*this.gridSize/u.default.get().getSkullFactor())},t.prototype.needMoreBuffs=function(){return this.potionCount+this.swordCount<this.skeletonCount-u.default.get().getBuffFactor()},t.prototype.randomCoord=function(){return Math.floor(Math.random()*this.gridSize)},t.createGrid=function(e,n,i){var r=new t(e,n,new o.Vector(i.drawWidth/2,i.drawHeight/2));return r.initializeSkeletons(),r.initializeBuffs(),r},t}();e.GridCoordinator=a},function(t,e,n){t.exports=n.p+"d906ca717fba5c1dc816ff2688f30fed.png"},function(t,e,n){t.exports=n.p+"5acc4c358abe356ab34cb46990213c87.mp3"},function(t,e,n){t.exports=n.p+"e1587389071cad642af4ea472a7657df.wav"},function(t,e,n){t.exports=n.p+"7969b4d1ca99e09c909f6b4247f2e20a.wav"},function(t,e,n){t.exports=n.p+"ec591911768b22068d38bb5b2a321448.ogg"},function(t,e,n){t.exports=n.p+"c17429a3194184f1823e8652b19665db.wav"},function(t,e,n){t.exports=n.p+"9b230c404133d31e8b32b72e4f4709d6.wav"},function(t,e,n){t.exports=n.p+"84f7a92ac15bb28de085370686c46b57.wav"},function(t,e,n){t.exports=n.p+"b58455f5ec6aaf2a19902f196a55e98a.wav"},function(t,e,n){t.exports=n.p+"7765777ed029910c394ea6ecdc46e707.png"},function(t,e,n){t.exports=n.p+"6c9f119213f2371e5ffa564621e7c7cf.png"},function(t,e,n){t.exports=n.p+"252e335cd8e95aa7f9af810197527c88.png"},function(t,e,n){t.exports=n.p+"7bc9ef00f9c3eac4ed90e0f78fe053f4.png"},function(t,e,n){t.exports=n.p+"4be259f95a7562b19fc50f5956f3064a.png"},function(t,e,n){t.exports=n.p+"f37c84d41789ca95567a2e9f9b3288cb.png"},function(t,e,n){t.exports=n.p+"57df989eadc0b9703add8cdbd84d82f9.png"},function(t,e,n){t.exports=n.p+"8c33cba37ae9cda19c0c4706219cd540.png"},function(t,e,n){t.exports=n.p+"78b5b4973f64552277b581a279a72a42.png"},function(t,e,n){t.exports=n.p+"6944ce0fd23293c610a6b7881300e188.png"},function(t,e,n){t.exports=n.p+"0574a2e0749918363ef5593ddc58b2e7.png"},function(t,e,n){t.exports=n.p+"e7192d5fba02e9c6c174e7e3d9487a6b.png"},function(t,e,n){t.exports=n.p+"46f00f6169dccc5ee028881800a09fe3.png"},function(t,e,n){t.exports=n.p+"3844e977328e0e91b54f2d32278684c5.png"},function(t,e,n){t.exports=n.p+"56376cf0ad0de37681a110e6dbfc3fb8.png"},function(t,e,n){t.exports=n.p+"2a3f5e19c5b2efd0462fb7cc1b704558.png"},function(t,e,n){t.exports=n.p+"4ce8baed92fdbe83ea831d09b512beb2.png"},function(t,e,n){t.exports=n.p+"b6ac9dbcd6cad76692d5dc9ffd4d530d.png"},function(t,e,n){t.exports=n.p+"d564e115a42fa163a7bc9e1328b2d216.png"},function(t,e,n){t.exports=n.p+"29171ae82e287f9d176ab7ddd7f6b382.png"},function(t,e,n){t.exports=n.p+"6f20cd91097c8be0d36eaad2bf6244ec.png"},function(t,e,n){t.exports=n.p+"ccd1e8955823c41dd50406b82e3d7dc0.png"},function(t,e,n){t.exports=n.p+"598df00bd95514ed5a3f054793f36da1.png"},function(t,e,n){t.exports=n.p+"022ab466b958b1e014b14ab33cf74a84.png"},function(t,e,n){t.exports=n.p+"c150a67e689f09935b6d97e1989f8b56.png"},function(t,e,n){t.exports=n.p+"17b342f332f5ab3ea92edee594cc0ff7.png"},function(t,e,n){t.exports=n.p+"bfc4eed12d62bc8834e80f5ad6a79e14.png"},function(t,e,n){t.exports=n.p+"0cfb30ca844b8dc2e00ca6a6b6125ca5.png"},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=n(13),a=function(t){function e(e,n,i,r){var a=t.call(this)||this;return a.x=n,a.y=i,a.sprite=new o.Sprite(r,0,0,r.width,r.height),a.scale=new o.Vector(u.default.get().getUIItemSize()/r.width,u.default.get().getUIItemSize()/r.height),a.addDrawing(a.sprite),a.setEnabled(e),a}return r(e,t),e.prototype.setEnabled=function(t){return this.enabled=t,this.sprite.clearEffects(),t?this.sprite.opacity(1):this.sprite.opacity(e.DISABLED_OPACITY),this},e.prototype.isEnabled=function(){return this.enabled},e.DISABLED_OPACITY=.5,e}(o.Actor);e.default=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,function(t,e){},,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(36),r=n(144),o=n(13),u=function(){function t(t,e,n,i){this.current=e,this.max=t,this.onZero=n,this.statActors=i}return t.create=function(e,n,u,a,s,c){var d=c||0,f=i.Stream.range(0,u).map(function(t){return t>d-1?new r.default(!1,e+t*o.default.get().getUIItemSize(),n,s):new r.default(!0,e+t*o.default.get().getUIItemSize(),n,s)}).toArray();return new t(u,d,a,f)},t.prototype.add=function(t){return this.current+t>this.max?this.current=this.max:this.current=this.current+t,this.statActors[this.current-1].setEnabled(!0),this.current},t.prototype.subtract=function(t){return this.current-t<=0?(this.current=0,this.onZero()):this.current=this.current-t,this.statActors[this.current].setEnabled(!1),this.current},t.prototype.getCurrent=function(){return this.current},t.prototype.getStatActors=function(){return this.statActors},t}();e.NumberCoordinator=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(243),r=n(40),o=n(5),u=n(36),a=n(106),s=n(3),c=n(11),d=n(105),f=n(12),p=n(13),l=function(){function t(t,e,n){var i=this;this.skeletonCardCallback=function(){i.attackCoordinator.getCurrent()>0?i.attackCoordinator.subtract(1):i.healthCoordinator.subtract(1),i.updateLabels(),i.checkIfCompleteGame()},this.coinCardCallback=function(){i.checkIfCompleteGame()},this.attackCardCallback=function(){i.attackCoordinator.add(1),i.checkIfCompleteGame()},this.potionCardCallback=function(){i.healthCoordinator.add(1),i.checkIfCompleteGame()},this.healthCoordinator=e,this.attackCoordinator=n,this.engine=t}return t.initialize=function(e){var n=p.default.get(),r=new t(e,i.NumberCoordinator.create(n.getUIItemSize()/2,n.getUIItemSize()/2,o.Config.maxHealth,function(){e.goToScene(c.Scenes.GAME_OVER)},o.Resources.uiHeart,o.Config.maxHealth),i.NumberCoordinator.create(n.getUIItemSize()/2,1.5*n.getUIItemSize(),o.Config.maxAttack,function(){},o.Resources.uiSword));return r.gridCoordinator=a.GridCoordinator.createGrid(r,f.default.get().getGridSize(),e),r.rowCounts=r.createRowCountCards(),r.columnCounts=r.createColCountCards(),r},t.prototype.getStatTrackers=function(){return this.healthCoordinator.getStatActors().concat(this.attackCoordinator.getStatActors())},t.prototype.getRowCountCards=function(){return this.rowCounts},t.prototype.getColCountCards=function(){return this.columnCounts},t.prototype.createColCountCards=function(){var t=this,e=new s.Vector(this.engine.drawWidth/2,this.engine.drawHeight/2);return u.Stream.of(this.gridCoordinator.getRow(0)).map(function(n){return new d.default("col",n.getCol(),e,t.skeletonCountForCol(n.getCol()))}).toArray()},t.prototype.createRowCountCards=function(){var t=this,e=new s.Vector(this.engine.drawWidth/2,this.engine.drawHeight/2);return u.Stream.of(this.gridCoordinator.getCol(0)).map(function(n){return new d.default("row",n.getRow(),e,t.skeletonCountForRow(n.getRow()))}).toArray()},t.prototype.skeletonCountForRow=function(t){return u.Stream.of(this.gridCoordinator.getRow(t)).filter(function(t){return!t.isFlipped()}).filter(function(t){return t.type()==r.CardType.SKELETON}).count()},t.prototype.skeletonCountForCol=function(t){return u.Stream.of(this.gridCoordinator.getCol(t)).filter(function(t){return!t.isFlipped()}).filter(function(t){return t.type()==r.CardType.SKELETON}).count()},t.prototype.getGridAsList=function(){return this.gridCoordinator.getGridAsList()},t.prototype.updateLabels=function(){var t=this;this.rowCounts.forEach(function(e,n){e.setCount(t.skeletonCountForRow(n))}),this.columnCounts.forEach(function(e,n){e.setCount(t.skeletonCountForCol(n))})},t.prototype.checkIfCompleteGame=function(){u.Stream.of(this.getGridAsList()).allMatch(function(t){return t.isFlipped()})&&this.healthCoordinator.getCurrent()>0&&this.engine.goToScene(c.Scenes.VICTORY)},t}();e.GameCoordinator=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),u=n(244),a=n(36),s=n(21),c=n(17),d=n(3),f=n(5),p=n(20),l=n(11),h=n(104),g=n(12),y=n(13),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onBackButton=function(){return e.engine.goToScene(l.Scenes.MAIN_MENU)},e}return r(e,t),e.prototype.onInitialize=function(t){this.engine=t,this.add(new c.default(t).getTileMap());var e=f.Resources.uiX,n=new p.default(e,function(){return t.goToScene(l.Scenes.MAIN_MENU)});n.scale=new d.Vector(f.Config.exitButtonSize/e.width,f.Config.exitButtonSize/e.height),n.setHeight(f.Config.exitButtonSize),n.setWidth(f.Config.exitButtonSize),n.x=t.drawWidth-f.Config.exitButtonSize/2-f.Config.gridPadding,n.y=f.Config.exitButtonSize/2+f.Config.gridPadding,this.add(n);var i=y.default.get();this.levelDisplay=new h.default(t.drawWidth/2,i.getMenuHeight()-i.getUIItemSize()/2,i.getUIItemSize(),g.default.get().getLevelNumber()),this.add(this.levelDisplay)},e.prototype.onActivate=function(){var t=this;this.levelDisplay.updateLevel(g.default.get().getLevelNumber()),s.default.get().backgroundMusicStart();var e=u.GameCoordinator.initialize(this.engine);this.coordinator=e,e.getGridAsList().forEach(function(e){return t.add(e)}),e.getColCountCards().forEach(function(e){return t.add(e)}),e.getRowCountCards().forEach(function(e){return t.add(e)}),a.Stream.ofValues(this.coordinator.getStatTrackers()).map(function(t){return a.Stream.ofValues.apply(a.Stream,t)}).flatMap(function(t){return t}).forEach(function(e){return t.add(e)})},e.prototype.onDeactivate=function(){var t=this;this.coordinator.getGridAsList().forEach(function(e){return t.remove(e)}),this.coordinator.getColCountCards().forEach(function(e){return t.remove(e)}),this.coordinator.getRowCountCards().forEach(function(e){return t.remove(e)}),a.Stream.ofValues(this.coordinator.getStatTrackers()).map(function(t){return a.Stream.ofValues.apply(a.Stream,t)}).flatMap(function(t){return t}).forEach(function(e){return t.remove(e)})},e}(o.Scene);e.GameWindow=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(245),r=n(5),o=n(11),u=n(103),a=n(102),s=n(101),c=n(100),d=n(99),f=n(98),p=n(94),l=n(13),h=new a.default,g=new u.MainMenu(h);h.add(o.Scenes.MAIN_MENU,g),h.add(o.Scenes.GAME_OVER,new c.GameOver(h)),h.add(o.Scenes.GAME_WINDOW,new i.GameWindow(h)),h.add(o.Scenes.VICTORY,new d.Victory(h)),h.add(o.Scenes.OPTIONS,new f.Options(h)),h.add(o.Scenes.HELP,new p.Help(h));var y=new s.GameLoader;Object.keys(r.Resources).forEach(function(t){return y.addResource(r.Resources[t])}),h.start(y).then(function(){l.default.initialize(h),h.goToScene(o.Scenes.MAIN_MENU)})}]);
//# sourceMappingURL=main.js.map