!function(t){function e(e){for(var i,s,u=e[0],a=e[1],c=e[2],f=0,l=[];f<u.length;f++)s=u[f],o[s]&&l.push(o[s][0]),o[s]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);for(d&&d(e);l.length;)l.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,u=1;u<n.length;u++){var a=n[u];0!==o[a]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={1:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var u=window.webpackJsonp=window.webpackJsonp||[],a=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var d=a;r.push([255,0]),n()}([,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(254),r=n(253),s=n(252),u=n(251),a=n(250),c=n(249),d=n(248),f=n(247),l=n(96),p=n(246),h=n(245),g=n(244),y=n(243),w=n(242),b=n(241),S=n(240),v=n(239),_=n(238),C=n(237),O=n(236),x=n(235),m=n(234);e.uiHeart=m;var T=n(233),D=n(232),P=n(231),M=n(230),k=n(229),A=n(228),E=n(227),R=n(226),z=n(225),G=n(224),I=n(223),L=n(222),j=n(221),B=n(220),W=n(219),H=n(218),N=n(217),F=n(216),V=n(215),U={victory:new i.Texture(z),gameOver:new i.Texture(p),title:new i.Texture(l),sword:new i.Texture(o),skull:new i.Texture(r),potion:new i.Texture(s),coin:new i.Texture(u),card:new i.Texture(a),startMenu:new i.Texture(c),optionMenu:new i.Texture(d),helpMenu:new i.Texture(f),optionTitle:new i.Texture(A),helpTitle:new i.Texture(E),backgroundTile:new i.Texture(V),0:new i.Texture(h),1:new i.Texture(g),2:new i.Texture(y),3:new i.Texture(w),4:new i.Texture(b),5:new i.Texture(S),6:new i.Texture(v),7:new i.Texture(_),8:new i.Texture(C),9:new i.Texture(O),uiSword:new i.Texture(x),uiHeart:new i.Texture(m),uiLeft:new i.Texture(D),uiRight:new i.Texture(P),uiX:new i.Texture(M),uiBlank:new i.Texture(k),uiCoins:new i.Texture(T),myMono:new i.Texture(R),cardSound:new i.Sound(G),boneSound:new i.Sound(L),coinSound:new i.Sound(W),laughSound:new i.Sound(B),potionSound:new i.Sound(I),swordSound:new i.Sound(j),victorySound:new i.Sound(N),buttonSound:new i.Sound(F),backgroundMusic:new i.Sound(H)};e.Resources=U,e.Config={maxHealth:3,maxAttack:2,gridPadding:4,backgroundColor:"#dddddd",exitButtonSize:50,uiBigSize:50,optionPadding:30}},,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(95),o=n(42),r=function(){function t(){}return t.get=function(){return this.singleton?this.singleton:(this.singleton=new t,this.singleton)},t.prototype.getGameGridSize=function(){var t=o.default.get();return t.isProgressionDisabled()?t.getChosenGridSize():t.getCurrentLevel()+2},t.prototype.getOptionGridSize=function(){return o.default.get().getChosenGridSize()},t.prototype.getDifficulty=function(){return o.default.get().getChosenDifficulty()},t.prototype.getSkullFactor=function(){return this.getDifficulty().getSkeletonFactor()},t.prototype.getBuffFactor=function(){return this.getDifficulty().getBuffFactor()},t.prototype.isProgressionDisabled=function(){return o.default.get().isProgressionDisabled()},t.prototype.progress=function(){if(!o.default.get().isProgressionDisabled()){var e=o.default.get().getCurrentLevel(),n=o.default.get().getCurrentStage();n>=t.stagesPerNormalLevel?e===o.default.get().maxLevel?o.default.get().setCurrentStage(n+1):(o.default.get().setCurrentStage(1),o.default.get().setCurrentLevel(e+1)):o.default.get().setCurrentStage(n+1)}},t.prototype.setGridSize=function(t){o.default.get().setChosenGridSize(t)},t.prototype.setDifficulty=function(t){o.default.get().setChosenDifficulty(i.Difficulty.getByDifficultyLevel(t))},t.prototype.setProgressionDisabled=function(t){return o.default.get().setProgressionDisabled(t)},t.prototype.resetProgress=function(){var t=o.default.get();t.isProgressionDisabled()||(t.setCurrentLevel(1),t.setCurrentStage(1))},t.prototype.getLevelString=function(){return console.log("gettinglevelstring"),o.default.get().getCurrentStage()>t.stagesPerNormalLevel?"MAXED":o.default.get().getCurrentLevel()+"."+o.default.get().getCurrentStage()},t.stagesPerNormalLevel=3,t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.engine=t}return t.initialize=function(e){this.singleton?console.log("Mobile Manager already initialized"):this.singleton=new t(e)},t.get=function(){if(this.singleton)return this.singleton;throw"Mobile Manager Not defined yet"},t.prototype.isMobile=function(){return this.engine.drawWidth<768},t.prototype.getUIItemSize=function(){return this.isMobile()?30:50},t.prototype.getMenuHeight=function(){return 3*this.getUIItemSize()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),o=function(){function t(){this.disabled=!1}return t.get=function(){return t.soundManager?t.soundManager:(t.soundManager=new t,t.soundManager)},t.prototype.disableSound=function(){this.disabled=!0,this.backgroundSound&&(this.backgroundSound.stop(),this.backgroundSound=null)},t.prototype.enableSound=function(){this.disabled=!1},t.prototype.backgroundMusicStart=function(){this.disabled||this.backgroundSound||(this.backgroundSound=i.Resources.backgroundMusic,this.backgroundSound.volume=.1,this.backgroundSound.loop=!0,this.backgroundSound.play())},t.prototype.backgroundMusicEnd=function(){this.disabled||this.backgroundSound&&(this.backgroundSound.stop(),this.backgroundSound=null)},t.prototype.playSoundInterrupt=function(t,e){this.currentSound&&this.currentSound.isPlaying()&&(this.currentSound.pause(),this.currentSound=null),this.playSoundWithAfter(t,e)},t.prototype.playSoundWithAfter=function(t,e){this.disabled||(this.currentSound=t,e?t.play().then(e):t.play())},t}();e.default=o},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(11);!function(t){t.STORY_GAME_WINDOW="storyGameWindow",t.GRID_GAME_WINDOW="gridGameWindow",t.MAIN_MENU="mainMenu",t.GAME_OVER="gameOver",t.VICTORY="victory",t.OPTIONS="options",t.HELP="help"}(i=e.Scenes||(e.Scenes={})),e.getGameWindow=function(){return o.default.get().isProgressionDisabled()?i.GRID_GAME_WINDOW:i.STORY_GAME_WINDOW}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(5),r=function(){function t(t){var e=o.Resources.backgroundTile,n=Math.ceil(t.drawWidth/e.width),r=Math.ceil(t.drawHeight/e.height),s=new i.TileMap(0,0,e.width,e.height,r,n);s.registerSpriteSheet("background",new i.SpriteSheet(e,1,1,e.width,e.height));for(var u=new i.TileSprite("background",0),a=0;a<r*n;a++)s.getCellByIndex(a).pushSprite(u);this.tileMap=s}return t.prototype.getTileMap=function(){return this.tileMap},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);function o(t,e,n,o,r,s){var u=r||1,a=t*u,c=e*u,d=c/o;if(d*n>t){var f,l=a/n;return{width:o*(f=s<l?s:l),height:a,scale:new i.Vector(f,f)}}return{width:c,height:n*(f=s<d?s:d),scale:new i.Vector(f,f)}}e.calcDimensionsSingleObjectTexture=function(t,e,n,i,r){return o(t,e,n.height,n.width,i,r)},e.calcDimensionsSingleObject=o,e.safePointerUp=function(t){return function(e){"pointerup"===e.ev.type&&t()}}},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=n(3),u=n(5),a=n(3),c=n(30),d=n(13),f=n(11),l=n(12);!function(t){t.COIN="coin",t.SKELETON="skeleton",t.POTION="potion",t.ATTACK="attack"}(r=e.CardType||(e.CardType={}));var p=function(t){function e(n,i,o,s,a,f,l){var p=t.call(this)||this;p.onEnter=function(){p.baseSprite.clearEffects(),p.baseSprite.addEffect(new c.Darken(.2))},p.onExit=function(){p.baseSprite.clearEffects()},p.playSound=function(){var t;p.cardType===r.SKELETON?t=u.Resources.boneSound:p.cardType===r.ATTACK?t=u.Resources.swordSound:p.cardType===r.COIN?t=u.Resources.coinSound:p.cardType===r.POTION&&(t=u.Resources.potionSound),d.default.get().playSoundInterrupt(t)},p.cardType=f,p.passedInOnClick=s,p.row=o,p.col=i,p.flipped=!1,p.texture=l;var h=e.calcCardDimensions(2*n.y,2*n.x);return p.baseSprite=e.sprite(u.Resources.card,h.scale),p.addDrawing("base",p.baseSprite),p.addDrawing("flip",e.sprite(p.texture,h.scale)),p.setWidth(h.width),p.setHeight(h.height),p.on("pointerup",p.fullOnClick),p.on("pointerenter",p.onEnter),p.on("pointerleave",p.onExit),p.x=e.calcX(i,h.width,n)+h.width,p.y=e.calcY(h.height,o,n)+h.height,p}return o(e,t),e.calcX=function(t,e,n){return n.x-f.default.get().getGameGridSize()/2*e-(f.default.get().getGameGridSize()-1)*u.Config.gridPadding/2+e*t+u.Config.gridPadding*t},e.calcY=function(t,e,n){return n.y+l.default.get().getMenuHeight()/2-f.default.get().getGameGridSize()/2*t-(f.default.get().getGameGridSize()-1)*u.Config.gridPadding/2+t*e+u.Config.gridPadding*e},e.calcCardDimensions=function(t,n){var i=u.Resources.card,o=i.height,r=i.width,s=t-l.default.get().getMenuHeight(),c=e.calcMaxCardHeight(s),d=e.calcMaxCardWidth(n),p=d/r;if(p*(o*(f.default.get().getGameGridSize()+1))>s){var h=c/o;return{width:r*h,height:c,scale:new a.Vector(h,h)}}return{width:d,height:o*p,scale:new a.Vector(p,p)}},e.calcMaxCardHeight=function(t){return.95*t/(f.default.get().getGameGridSize()+1)-u.Config.gridPadding},e.calcMaxCardWidth=function(t){return.95*t/(f.default.get().getGameGridSize()+1)-u.Config.gridPadding},e.sprite=function(t,e){var n=new a.Sprite(t,0,0,t.width,t.height);return n.scale=e,n},e.prototype.fullOnClick=function(){this.flipped||(this.flipped=!0,this.setDrawing("flip"),d.default.get().playSoundInterrupt(u.Resources.cardSound,this.playSound),this.passedInOnClick())},e.prototype.type=function(){return this.cardType},e.prototype.getRow=function(){return this.row},e.prototype.getCol=function(){return this.col},e.prototype.isFlipped=function(){return this.flipped},e.skeleton=function(t,n,i,o){return new e(t,i,n,o,s.Color.White,r.SKELETON,u.Resources.skull)},e.potion=function(t,n,i,o){return new e(t,i,n,o,s.Color.Red,r.POTION,u.Resources.potion)},e.attack=function(t,n,i,o){return new e(t,i,n,o,s.Color.Gray,r.ATTACK,u.Resources.sword)},e.coin=function(t,n,i,o){return new e(t,i,n,o,s.Color.Yellow,r.COIN,u.Resources.coin)},e}(s.Actor);e.Card=p},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(41),s=n(3),u=n(5),a=function(t){function e(e,n){var i=this,o=u.Resources.uiX;return(i=t.call(this,o,n)||this).scale=new s.Vector(u.Config.exitButtonSize/o.width,u.Config.exitButtonSize/o.height),i.setHeight(u.Config.exitButtonSize),i.setWidth(u.Config.exitButtonSize),i.x=e.drawWidth-u.Config.exitButtonSize/2-u.Config.gridPadding,i.y=u.Config.exitButtonSize/2+u.Config.gridPadding,i}return o(e,t),e}(r.default);e.ExitButton=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(5),r=function(){function t(){this.generalMono=new i.SpriteFont(o.Resources.myMono,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ.: ",!0,12,4,99,135)}return t.get=function(){return this.singleton?this.singleton:new t},t.prototype.getMono=function(){return this.generalMono},t}();e.default=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(30),u=n(13),a=n(5),c=n(19),d=function(t){function e(e,n,i){var o=t.call(this)||this;return o.onDown=function(){o.disabled||(o.sprite.clearEffects(),o.sprite.addEffect(new s.Darken(.2)))},o.onEnter=function(){o.disabled||(o.sprite.clearEffects(),o.sprite.addEffect(new s.Darken(.1)))},o.onExit=function(){o.disabled||o.sprite.clearEffects()},o.disabled=i||!1,o.sprite=new r.Sprite(e,0,0,e.width,e.height),o.addDrawing(o.sprite),o.on("pointerdown",o.onDown),o.on(r.EventTypes.PointerUp,o.onClickWrapper(n)),o.on("pointerenter",o.onEnter),o.on("pointerleave",o.onExit),o}return o(e,t),e.prototype.getSprite=function(){return this.sprite},e.prototype.onClickWrapper=function(t){var e=this;return c.safePointerUp(function(){e.disabled||(e.sprite.clearEffects(),u.default.get().playSoundInterrupt(a.Resources.buttonSound),t())})},e.prototype.setDisabled=function(t){this.disabled=t},e}(r.Actor);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(95),o=n(116),r=function(){function t(t,e,n,i,o,r,s,u){this.soundOff=t,this.progressionDisabled=e,this.chosenDifficulty=n,this.chosenGridSize=i,this.maxLevel=o,this.maxDifficulty=r,this.currentLevel=s,this.currentStage=u}return t.get=function(){return console.log(this.singleton.serializeV1()),this.singleton},t.initialize=function(){var e=this;o.config({name:"skeletonFlip",version:1,size:4980736,storeName:"playerSettings",description:"Store save data"}),o.getItem(t.STORE_KEY,function(n,i){if(console.log(i),n)console.log("problem retrieving from store: "+n),e.singleton=t.DEFAULT;else if(i){var o=i;1===o.version&&(e.singleton=t.deserializeV1(o))}else e.singleton=t.DEFAULT})},t.prototype.setCurrentLevel=function(t){this.currentLevel=t,this.saveToStorage()},t.prototype.setCurrentStage=function(t){this.currentStage=t,this.saveToStorage()},t.prototype.setChosenGridSize=function(t){this.chosenGridSize=t,this.saveToStorage()},t.prototype.setChosenDifficulty=function(t){this.chosenDifficulty=t,this.saveToStorage()},t.prototype.isSoundOff=function(){return this.soundOff},t.prototype.setIsSoundOff=function(t){this.soundOff=t,this.saveToStorage()},t.prototype.getCurrentLevel=function(){return this.currentLevel},t.prototype.getCurrentStage=function(){return this.currentStage},t.prototype.getChosenDifficulty=function(){return this.chosenDifficulty},t.prototype.getChosenGridSize=function(){return this.chosenGridSize},t.prototype.setProgressionDisabled=function(t){this.progressionDisabled=t,this.saveToStorage()},t.prototype.isProgressionDisabled=function(){return this.progressionDisabled},t.prototype.serializeV1=function(){return{version:1,soundOff:this.soundOff,progressionDisabled:this.progressionDisabled,chosenDifficulty:this.chosenDifficulty.getDifficultyLevel(),chosenGridSize:this.chosenGridSize,maxLevel:this.maxLevel,maxDifficulty:this.maxDifficulty.getDifficultyLevel(),currentLevel:this.currentLevel,currentStage:this.currentStage}},t.deserializeV1=function(e){return new t(e.soundOff,e.progressionDisabled,i.Difficulty.getByDifficultyLevel(e.chosenDifficulty),e.chosenGridSize,e.maxLevel,i.Difficulty.getByDifficultyLevel(e.maxDifficulty),e.currentLevel,e.currentStage)},t.prototype.saveToStorage=function(){o.setItem(t.STORE_KEY,this.serializeV1())},t.STORE_KEY="player_settings_v1",t.DEFAULT=new t(!1,!1,i.Difficulty.VERY_EASY,3,3,i.Difficulty.NORMAL,1,1),t}();e.default=r},,,,,,,,,,,,,,function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(103),u=n(13),a=n(18),c=n(15),d=n(39),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onInitialize=function(t){this.engine=t,this.add(new a.default(t).getTileMap()),this.add(new d.ExitButton(t,function(){return t.goToScene(c.Scenes.MAIN_MENU)})),this.coordinator=s.GameCoordinator.initialize(this.engine)},e.prototype.onActivate=function(){var t=this;u.default.get().backgroundMusicStart(),this.coordinator.getAllActors().forEach(function(e){return t.add(e)})},e.prototype.onDeactivate=function(){var t=this;this.coordinator.getAllActors().forEach(function(e){return t.remove(e)})},e}(r.Scene);e.GameWindowBase=f},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(29),o=function(){function t(t,e,n,i){this.difficultyLevel=t,this.buffFactor=n,this.skeletonFactor=e,this.difficultyName=i}return t.prototype.getSkeletonFactor=function(){return this.skeletonFactor},t.prototype.getBuffFactor=function(){return this.buffFactor},t.prototype.getDifficultyLevel=function(){return this.difficultyLevel},t.getByDifficultyLevel=function(t){return i.Stream.of([this.VERY_EASY,this.EASY,this.NORMAL,this.HARD,this.VERY_HARD]).filter(function(e){return e.getDifficultyLevel()===t}).findFirst().orElseThrow(function(){return new Error("Difficulty not found for that number")})},t.VERY_EASY=new t(1,3,0,"Very Easy"),t.EASY=new t(2,2.5,0,"Easy"),t.NORMAL=new t(3,2.5,1,"Normal"),t.HARD=new t(4,2,1,"Hard"),t.VERY_HARD=new t(5,2,2,"Very Hard"),t}();e.Difficulty=o},function(t,e,n){t.exports=n.p+"60875f949f42a486e64184bc743af777.png"},,function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(56),s=n(11),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onInitialize=function(e){t.prototype.onInitialize.call(this,e),this.currentOptionGridSize=s.default.get().getOptionGridSize()},e.prototype.onActivate=function(){this.currentOptionGridSize!=s.default.get().getOptionGridSize()&&this.coordinator.resetGame(),t.prototype.onActivate.call(this)},e}(r.GameWindowBase);e.GridGameWindow=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(5),u=n(38),a=n(11),c=n(12),d=function(t){function e(n,i,o,r){var a=t.call(this)||this;a.type=n,a.index=i,a.screenCenter=o;var c=u.Card.calcCardDimensions(2*o.y,2*o.x);return a.addDrawing("0",e.sprite(s.Resources[0],c.scale)),a.addDrawing("1",e.sprite(s.Resources[1],c.scale)),a.addDrawing("2",e.sprite(s.Resources[2],c.scale)),a.addDrawing("3",e.sprite(s.Resources[3],c.scale)),a.addDrawing("4",e.sprite(s.Resources[4],c.scale)),a.addDrawing("5",e.sprite(s.Resources[5],c.scale)),a.addDrawing("6",e.sprite(s.Resources[6],c.scale)),a.addDrawing("7",e.sprite(s.Resources[7],c.scale)),a.addDrawing("8",e.sprite(s.Resources[8],c.scale)),a.addDrawing("9",e.sprite(s.Resources[9],c.scale)),a.setWidth(c.width),a.setHeight(c.height),a.x=e.calcX(n,i,o,c.width)+c.width,a.y=e.calcY(n,i,o,c.height)+c.height,a.setCount(r),a}return o(e,t),e.calcX=function(t,e,n,i){var o=n.x-a.default.get().getGameGridSize()/2*i-i-(a.default.get().getGameGridSize()+1)*s.Config.gridPadding/2;return"row"===t?o:o+i+i*e+s.Config.gridPadding*(e+1)},e.calcY=function(t,e,n,i){var o=n.y+c.default.get().getMenuHeight()/2-a.default.get().getGameGridSize()/2*i-i-(a.default.get().getGameGridSize()+1)*s.Config.gridPadding/2;return"col"===t?o:o+i+i*e+s.Config.gridPadding*(e+1)},e.sprite=function(t,e){var n=t.asSprite();return n.scale=e,n},e.prototype.setCount=function(t){return this.setDrawing(""+t),this},e}(r.Actor);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(38),o=n(29),r=n(3),s=n(11),u=function(){function t(e,n,i){this.skeletonCount=0,this.potionCount=0,this.swordCount=0,this.gridSize=n,this.callbackProvider=e,this.screenCenter=i,this.grid=t.blankGrid(n,e,this.screenCenter)}return t.prototype.getGridAsList=function(){return o.Stream.of(this.grid).map(function(t){return o.Stream.ofValues.apply(o.Stream,t)}).flatMap(o.Function.identity()).toArray()},t.prototype.getCard=function(t,e){return this.grid[t][e]},t.prototype.getRow=function(t){return o.Stream.of(this.grid).map(function(t){return o.Stream.ofValues.apply(o.Stream,t)}).flatMap(function(t){return t}).filter(function(e){return e.getRow()==t}).toArray()},t.prototype.getCol=function(t){return o.Stream.of(this.grid).map(function(t){return o.Stream.ofValues.apply(o.Stream,t)}).flatMap(function(t){return t}).filter(function(e){return e.getCol()==t}).toArray()},t.blankGrid=function(t,e,n){var i=this;return o.Stream.range(0,t).map(function(o){return i.blankGridRow(t,o,e,n)}).toArray()},t.blankGridRow=function(t,e,n,r){return o.Stream.range(0,t).map(function(t){return i.Card.coin(r,e,t,n.coinCardCallback)}).toArray()},t.prototype.initializeSkeletons=function(){for(;this.needMoreSkeletons();){var t=this.randomCoord(),e=this.randomCoord();this.isCoin(t,e)&&this.insertCard(t,e,i.Card.skeleton(this.screenCenter,t,e,this.callbackProvider.skeletonCardCallback))}},t.prototype.initializeBuffs=function(){for(;this.needMoreBuffs();){var t=this.randomCoord(),e=this.randomCoord();this.isCoin(t,e)&&this.insertCard(t,e,this.generateBuffCard(t,e))}},t.prototype.generateBuffCard=function(t,e){return Math.random()<.5?i.Card.attack(this.screenCenter,t,e,this.callbackProvider.attackCardCallback):i.Card.potion(this.screenCenter,t,e,this.callbackProvider.potionCardCallback)},t.prototype.insertCard=function(t,e,n){n.type()==i.CardType.SKELETON?this.skeletonCount++:n.type()==i.CardType.ATTACK?this.swordCount++:n.type()==i.CardType.POTION&&this.potionCount++,this.grid[t][e]=n},t.prototype.isCoin=function(t,e){return this.grid[t][e].type()==i.CardType.COIN},t.prototype.needMoreSkeletons=function(){return this.skeletonCount<Math.ceil(this.gridSize*this.gridSize/s.default.get().getSkullFactor())},t.prototype.needMoreBuffs=function(){return this.potionCount+this.swordCount<this.skeletonCount-s.default.get().getBuffFactor()},t.prototype.randomCoord=function(){return Math.floor(Math.random()*this.gridSize)},t.createGrid=function(e,n,i){var o=new t(e,n,new r.Vector(i.drawWidth/2,i.drawHeight/2));return o.initializeSkeletons(),o.initializeBuffs(),o},t}();e.GridCoordinator=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(12),u=function(t){function e(e,n,i,o){var u=t.call(this)||this;return u.x=n,u.y=i,u.sprite=new r.Sprite(o,0,0,o.width,o.height),u.scale=new r.Vector(s.default.get().getUIItemSize()/o.width,s.default.get().getUIItemSize()/o.height),u.addDrawing(u.sprite),u.setEnabled(e),u}return o(e,t),e.prototype.setEnabled=function(t){return this.enabled=t,this.sprite.clearEffects(),t?this.sprite.opacity(1):this.sprite.opacity(e.DISABLED_OPACITY),this},e.prototype.isEnabled=function(){return this.enabled},e.DISABLED_OPACITY=.5,e}(r.Actor);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(29),o=n(101),r=n(12),s=function(){function t(t,e,n,i){this.current=e,this.max=t,this.onZero=n,this.statActors=i}return t.create=function(e,n,s,u,a,c){var d=c||0,f=i.Stream.range(0,s).map(function(t){return t>d-1?new o.default(!1,e+t*r.default.get().getUIItemSize(),n,a):new o.default(!0,e+t*r.default.get().getUIItemSize(),n,a)}).toArray();return new t(s,d,u,f)},t.prototype.add=function(t){return this.current+t>this.max?this.current=this.max:this.current=this.current+t,this.statActors[this.current-1].setEnabled(!0),this.current},t.prototype.subtract=function(t){return this.current-t<=0?(this.current=0,this.onZero()):this.current=this.current-t,this.statActors[this.current].setEnabled(!1),this.current},t.prototype.getCurrent=function(){return this.current},t.prototype.getStatActors=function(){return this.statActors},t}();e.NumberCoordinator=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(102),o=n(38),r=n(5),s=n(29),u=n(100),a=n(3),c=n(15),d=n(99),f=n(11),l=n(12),p=function(){function t(t){var e=this;this.updateLabels=function(){console.log("doing counts"),e.rowCounts.forEach(function(t,n){console.log("row "+e.skeletonCountForRow(n)),t.setCount(e.skeletonCountForRow(n))}),e.columnCounts.forEach(function(t,n){console.log("col "+e.skeletonCountForCol(n)),t.setCount(e.skeletonCountForCol(n))})},this.skeletonCardCallback=function(){e.attackCoordinator.getCurrent()>0?e.attackCoordinator.subtract(1):e.healthCoordinator.subtract(1),e.updateLabels(),e.checkIfCompleteGame()},this.coinCardCallback=function(){e.checkIfCompleteGame()},this.attackCardCallback=function(){e.attackCoordinator.add(1),e.checkIfCompleteGame()},this.potionCardCallback=function(){e.healthCoordinator.add(1),e.checkIfCompleteGame()},this.engine=t,this.resetGame()}return t.initialize=function(e){return new t(e)},t.prototype.resetGame=function(){var t=l.default.get();this.healthCoordinator=i.NumberCoordinator.create(t.getUIItemSize()/2,t.getUIItemSize()/2,r.Config.maxHealth,function(){},r.Resources.uiHeart,r.Config.maxHealth),this.attackCoordinator=i.NumberCoordinator.create(t.getUIItemSize()/2,1.5*t.getUIItemSize(),r.Config.maxAttack,function(){},r.Resources.uiSword),this.gridCoordinator=u.GridCoordinator.createGrid(this,f.default.get().getGameGridSize(),this.engine),this.rowCounts=this.createRowCountCards(),this.columnCounts=this.createColCountCards()},t.prototype.getStatTrackers=function(){return this.healthCoordinator.getStatActors().concat(this.attackCoordinator.getStatActors())},t.prototype.getRowCountCards=function(){return this.rowCounts},t.prototype.getColCountCards=function(){return this.columnCounts},t.prototype.createColCountCards=function(){var t=this,e=new a.Vector(this.engine.drawWidth/2,this.engine.drawHeight/2);return s.Stream.of(this.gridCoordinator.getRow(0)).map(function(n){return new d.default("col",n.getCol(),e,t.skeletonCountForCol(n.getCol()))}).toArray()},t.prototype.createRowCountCards=function(){var t=this,e=new a.Vector(this.engine.drawWidth/2,this.engine.drawHeight/2);return s.Stream.of(this.gridCoordinator.getCol(0)).map(function(n){return new d.default("row",n.getRow(),e,t.skeletonCountForRow(n.getRow()))}).toArray()},t.prototype.skeletonCountForRow=function(t){return s.Stream.of(this.gridCoordinator.getRow(t)).filter(function(t){return!t.isFlipped()}).filter(function(t){return t.type()==o.CardType.SKELETON}).count()},t.prototype.skeletonCountForCol=function(t){return s.Stream.of(this.gridCoordinator.getCol(t)).filter(function(t){return!t.isFlipped()}).filter(function(t){return t.type()==o.CardType.SKELETON}).count()},t.prototype.getGridAsList=function(){return this.gridCoordinator.getGridAsList()},t.prototype.getAllActors=function(){return s.Stream.ofValues(this.gridCoordinator.getGridAsList(),this.getColCountCards(),this.getRowCountCards(),this.getStatTrackers()).flatMap(function(t){return s.Stream.ofValues.apply(s.Stream,t)}).toArray()},t.prototype.checkIfCompleteGame=function(){var t=s.Stream.of(this.getGridAsList()).allMatch(function(t){return t.isFlipped()});0===this.healthCoordinator.getCurrent()?(this.engine.goToScene(c.Scenes.GAME_OVER),f.default.get().resetProgress(),this.resetGame()):t&&this.healthCoordinator.getCurrent()>0&&(this.engine.goToScene(c.Scenes.VICTORY),f.default.get().progress(),this.resetGame())},t}();e.GameCoordinator=p},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(40),u=n(11),a=function(t){function e(n,i,o,u){var a=t.call(this,e.createLabelText(u),n,i,null,s.default.get().getMono())||this;return a.fontSize=o,a.baseAlign=r.BaseAlign.Middle,a.textAlign=r.TextAlign.Center,a}return o(e,t),e.createLabelText=function(t){return u.default.get().isProgressionDisabled()?"":e.PREFIX+" "+t},e.prototype.updateLevel=function(t){this.text=e.createLabelText(t)},e.PREFIX="Level",e}(r.Label);e.default=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(104),s=n(11),u=n(12),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onInitialize=function(e){t.prototype.onInitialize.call(this,e);var n=u.default.get();this.levelDisplay=new r.default(e.drawWidth/2,n.getMenuHeight()-n.getUIItemSize()/2,n.getUIItemSize(),s.default.get().getLevelString()),this.add(this.levelDisplay)},e.prototype.onActivate=function(){t.prototype.onActivate.call(this),this.levelDisplay.updateLevel(s.default.get().getLevelString())},e}(n(56).GameWindowBase);e.StoryGameWindow=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(5),u=n(15),a=n(3),c=n(18),d=n(19),f=n(39),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onInitialize=function(t){this.engine=t;var e=new c.default(t);this.addTileMap(e.getTileMap()),this.add(new f.ExitButton(t,function(){return t.goToScene(u.Scenes.MAIN_MENU)})),this.addTitle()},e.prototype.onActivate=function(){},e.prototype.onDeactivate=function(){},e.prototype.addTitle=function(){var t=d.calcDimensionsSingleObjectTexture(this.engine.drawHeight,this.engine.drawWidth,s.Resources.helpTitle,.6,1),e=s.Resources.helpTitle.asSprite(),n=new a.Actor;n.addDrawing(e),n.x=this.engine.drawWidth/2,n.y=t.height/2+s.Config.gridPadding,n.setHeight(t.height),n.setWidth(t.width),n.scale=t.scale,this.add(n)},e}(r.Scene);e.Help=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(5),u=n(30),a=n(29),c=n(13),d=function(t){function e(e,n,i,o,c){var d=t.call(this)||this;return d.onDown=function(){d.currentSprite().clearEffects(),d.currentSprite().addEffect(new u.Darken(.2))},d.onEnter=function(){d.currentSprite().clearEffects(),d.currentSprite().addEffect(new u.Darken(.1))},d.onExit=function(){d.currentSprite().clearEffects()},d.toggleButton=function(){d.checked=!d.checked,d.checked?d.setDrawing("checked"):d.setDrawing("unchecked"),d.onToggle.ifPresent(function(t){return t(d.checked)})},d.checked=o,d.checkedSprite=new r.Sprite(s.Resources.uiX,0,0,s.Resources.uiX.width,s.Resources.uiX.height),d.uncheckedSprite=new r.Sprite(s.Resources.uiBlank,0,0,s.Resources.uiBlank.width,s.Resources.uiBlank.height),d.scale=new r.Vector(e/s.Resources.uiX.width,e/s.Resources.uiX.height),d.setHeight(e),d.setWidth(e),d.x=n,d.y=i,d.onToggle=a.Optional.ofNullable(c),d.addDrawing("checked",d.checkedSprite),d.addDrawing("unchecked",d.uncheckedSprite),d.checked?d.setDrawing("checked"):d.setDrawing("unchecked"),d.on("pointerdown",d.onDown),d.on("pointerenter",d.onEnter),d.on("pointerleave",d.onExit),d.on("pointerup",d.onClickWrapper(d.toggleButton)),d}return o(e,t),e.prototype.isChecked=function(){return this.checked},e.prototype.onClickWrapper=function(t){var e=this;return function(n){"pointerup"===n.ev.type&&(e.currentSprite().clearEffects(),c.default.get().playSoundInterrupt(s.Resources.buttonSound),t(),e.onEnter())}},e.prototype.currentSprite=function(){return this.checked?this.checkedSprite:this.uncheckedSprite},e}(r.Actor);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(107),o=n(3),r=n(40),s=function(){function t(t,e,n,s,u,a,c){var d=e-.25*e,f=e+.25*e;this.label=new o.Label(t,n,s,null,r.default.get().getMono()),this.label.fontSize=d,this.label.baseAlign=o.BaseAlign.Middle,this.label.textAlign=o.TextAlign.Center;var l=this.label.getTextWidth(a.ctx);this.label.x=n-l/3,this.radio=new i.default(f,n+.75*l,s,u,c)}return t.prototype.isChecked=function(){return this.radio.isChecked()},t.prototype.getDrawables=function(){return[this.radio,this.label]},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(5),r=n(41),s=n(40),u=n(30),a=function(){function t(t,e,n,a,c,d,f,l){var p=this;this.updateDisabled=function(t){if(p.leftButtonSprite.clearEffects(),p.rightButtonSprite.clearEffects(),t){var e=i.Color.Gray;p.topLabel.color=e,p.numberLabel.color=e,p.leftButtonSprite.addEffect(new u.Colorize(e)),p.rightButtonSprite.addEffect(new u.Colorize(e)),p.leftButton.setDisabled(!0),p.rightButton.setDisabled(!0)}else p.topLabel.color=i.Color.Black,p.numberLabel.color=i.Color.Black,p.leftButton.setDisabled(!1),p.rightButton.setDisabled(!1)},this.labelText=t,this.min=e,this.max=n,this.current=a,this.fontSize=f;var h=this.fontSize-.25*this.fontSize,g=this.fontSize+.25*this.fontSize;this.topLabel=new i.Label(this.labelText,c,d-o.Config.gridPadding,null,s.default.get().getMono()),this.topLabel.fontSize=h,this.topLabel.baseAlign=i.BaseAlign.Middle,this.topLabel.textAlign=i.TextAlign.Center,this.numberLabel=new i.Label(""+a,c,d+g,null,s.default.get().getMono()),this.numberLabel.fontSize=h,this.numberLabel.baseAlign=i.BaseAlign.Middle,this.numberLabel.textAlign=i.TextAlign.Center,this.leftButton=new r.default(o.Resources.uiLeft,function(){return p.addBy(-1)}),this.leftButtonSprite=this.leftButton.getSprite(),this.leftButton.x=c-1.5*g,this.leftButton.y=d+g,this.leftButton.scale=new i.Vector(g/o.Resources.uiLeft.width,g/o.Resources.uiLeft.height),this.leftButton.setHeight(g),this.leftButton.setWidth(g),this.rightButton=new r.default(o.Resources.uiRight,function(){return p.addBy(1)}),this.rightButtonSprite=this.rightButton.getSprite(),this.rightButton.x=c+1.5*g,this.rightButton.y=d+g,this.rightButton.scale=new i.Vector(g/o.Resources.uiRight.width,g/o.Resources.uiRight.height),this.rightButton.setHeight(g),this.rightButton.setWidth(g),this.updateDisabled(l)}return t.prototype.addBy=function(t){var e=this.current+t;this.min<=e&&this.max>=e&&(this.current=e,this.numberLabel.text=""+e)},t.prototype.getCurrent=function(){return this.current},t.prototype.setCurrent=function(t){this.current=t,this.numberLabel.text=""+t},t.prototype.getDrawables=function(){return[this.leftButton,this.rightButton,this.numberLabel,this.topLabel]},t}();e.default=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(5),u=n(15),a=n(3),c=n(18),d=n(109),f=n(11),l=n(108),p=n(13),h=n(12),g=n(19),y=n(42),w=n(39),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onExit=function(){f.default.get().setGridSize(e.gridSize.getCurrent()),f.default.get().setDifficulty(e.difficulty.getCurrent()),f.default.get().setProgressionDisabled(!e.progressionToggle.isChecked()),y.default.get().setIsSoundOff(!e.sound.isChecked()),e.sound.isChecked()?p.default.get().enableSound():p.default.get().disableSound(),e.engine.goToScene(u.Scenes.MAIN_MENU)},e}return o(e,t),e.prototype.onInitialize=function(t){this.engine=t;var e=new c.default(t);this.addTileMap(e.getTileMap());var n=h.default.get().getUIItemSize(),i=this.addGridSize(n);this.addDifficultySize(n),this.addSoundToggle(n),this.addTitle(),this.addProgressionToggle(n,i),this.add(new w.ExitButton(t,this.onExit))},e.prototype.addTitle=function(){var t=g.calcDimensionsSingleObjectTexture(this.engine.drawHeight,this.engine.drawWidth,s.Resources.optionTitle,.6,1),e=s.Resources.optionTitle.asSprite(),n=new a.Actor;n.addDrawing(e),n.x=this.engine.drawWidth/2,n.y=t.height/2+s.Config.gridPadding,n.setHeight(t.height),n.setWidth(t.width),n.scale=t.scale,this.add(n)},e.prototype.addSoundToggle=function(t){var e=this;this.sound=new l.default("Sound",t,this.engine.drawWidth/2,this.engine.drawHeight/2-2.5*t-s.Config.optionPadding,!y.default.get().isSoundOff(),this.engine),this.sound.getDrawables().forEach(function(t){return e.add(t)})},e.prototype.addDifficultySize=function(t){var e=this;this.difficulty=new d.default("DIFFICULTY",1,5,f.default.get().getDifficulty().getDifficultyLevel(),this.engine.drawWidth/2,this.engine.drawHeight/2-.5*t-s.Config.optionPadding,t,!1),this.difficulty.getDrawables().forEach(function(t){return e.add(t)})},e.prototype.addProgressionToggle=function(t,e){var n=this;this.progressionToggle=new l.default("Story Mode",t,this.engine.drawWidth/2,this.engine.drawHeight/2+1*t+s.Config.optionPadding,!f.default.get().isProgressionDisabled(),this.engine,e),this.progressionToggle.getDrawables().forEach(function(t){return n.add(t)})},e.prototype.addGridSize=function(t){var e=this;return this.gridSize=new d.default("GRID SIZE",2,9,f.default.get().getOptionGridSize(),this.engine.drawWidth/2,this.engine.drawHeight/2+3*t+s.Config.optionPadding,t,!f.default.get().isProgressionDisabled()),this.gridSize.getDrawables().forEach(function(t){return e.add(t)}),this.gridSize.updateDisabled},e.prototype.onActivate=function(){},e.prototype.onDeactivate=function(){},e}(r.Scene);e.Options=b},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(5),u=n(15),a=n(13),c=n(19),d=n(18),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onInitialize=function(t){var e=this;this.engine=t,this.add(new d.default(t).getTileMap());var n=new r.Actor;n.addDrawing(s.Resources.victory.asSprite()),n.x=this.engine.drawWidth/2,n.y=this.engine.drawHeight/2;var i=c.calcDimensionsSingleObjectTexture(this.engine.drawHeight,this.engine.drawWidth,s.Resources.victory,.8,1.5);n.setHeight(t.drawHeight),n.setWidth(t.drawWidth),n.scale=i.scale,n.on("pointerup",c.safePointerUp(function(){e.engine.goToScene(u.getGameWindow())})),this.add(n)},e.prototype.onActivate=function(){a.default.get().playSoundInterrupt(s.Resources.victorySound)},e.prototype.onDeactivate=function(){},e}(r.Scene);e.Victory=f},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(5),u=n(15),a=n(13),c=n(19),d=n(18),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onInitialize=function(t){var e=this;this.engine=t,this.add(new d.default(t).getTileMap());var n=new r.Actor,i=new r.SpriteSheet(s.Resources.gameOver,3,1,360,360).getAnimationForAll(this.engine,125);n.addDrawing("idle",i);var o=c.calcDimensionsSingleObject(this.engine.drawHeight,this.engine.drawWidth,360,360,.8,1.5);this.add(n),n.x=this.engine.drawWidth/2,n.y=this.engine.drawHeight/2,n.setHeight(t.drawHeight),n.setWidth(t.drawWidth),n.scale=o.scale,n.on("pointerup",c.safePointerUp(function(){e.engine.goToScene(u.Scenes.MAIN_MENU)}))},e.prototype.onActivate=function(){a.default.get().playSoundInterrupt(s.Resources.laughSound)},e.prototype.onDeactivate=function(){s.Resources.laughSound.stop()},e}(r.Scene);e.GameOver=f},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(5),u=n(96),a=function(t){function e(){var e=t.call(this)||this;return e.backgroundColor=s.Config.backgroundColor.toString(),e.logo=u,e.logoHeight=234,e.logoWidth=1260,e}return o(e,t),e}(r.Loader);e.GameLoader=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=function(t){function e(){return t.call(this,{suppressConsoleBootMessage:!0,displayMode:r.DisplayMode.FullScreen,suppressPlayButton:!0})||this}return o(e,t),e.prototype.start=function(e){return t.prototype.start.call(this,e)},e}(r.Engine);e.default=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(5),u=n(15),a=n(41),c=n(19),d=n(18),f=n(13),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onInitialize=function(t){var e=this;this.screenWidth=t.drawWidth,this.screenHeight=t.drawHeight,this.game=t;var n=new d.default(t);this.addTileMap(n.getTileMap()),this.start=new a.default(s.Resources.startMenu,function(){return e.game.goToScene(u.getGameWindow())}),this.sizeProperly(this.start,.4,.5,s.Resources.startMenu),this.add(this.start),this.options=new a.default(s.Resources.optionMenu,function(){return e.game.goToScene(u.Scenes.OPTIONS)}),this.sizeProperly(this.options,.4,.5,s.Resources.optionMenu),this.add(this.options),this.help=new a.default(s.Resources.helpMenu,function(){return e.game.goToScene(u.Scenes.HELP)}),this.sizeProperly(this.help,.4,.5,s.Resources.helpMenu),this.add(this.help),this.title=this.sizeProperly(new r.Actor,.9,1,s.Resources.title),this.title.addDrawing(s.Resources.title),this.add(this.title),this.placeActors()},e.prototype.onActivate=function(){f.default.get().backgroundMusicEnd()},e.prototype.sizeProperly=function(t,e,n,i){var o=c.calcDimensionsSingleObjectTexture(this.screenHeight,this.screenWidth,i,e,n);return t.scale=o.scale,t.setHeight(o.height),t.setWidth(o.width),t},e.prototype.placeActors=function(){this.start.x=this.screenWidth/2,this.start.y=this.screenHeight/2-this.start.getHeight()-s.Config.gridPadding,this.options.x=this.screenWidth/2,this.options.y=this.screenHeight/2,this.help.x=this.screenWidth/2,this.help.y=this.screenHeight/2+this.help.getHeight()+s.Config.gridPadding,this.title.x=this.screenWidth/2,this.title.y=this.title.getHeight()/2+s.Config.gridPadding},e.prototype.onDeactivate=function(){},e}(r.Scene);e.MainMenu=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,function(t,e){},,,,,,,,,,,function(t,e,n){t.exports=n.p+"d906ca717fba5c1dc816ff2688f30fed.png"},function(t,e,n){t.exports=n.p+"00f14d085530ea0ae58c17a32b3fe27f.wav"},function(t,e,n){t.exports=n.p+"5acc4c358abe356ab34cb46990213c87.mp3"},function(t,e,n){t.exports=n.p+"e1587389071cad642af4ea472a7657df.wav"},function(t,e,n){t.exports=n.p+"7969b4d1ca99e09c909f6b4247f2e20a.wav"},function(t,e,n){t.exports=n.p+"ec591911768b22068d38bb5b2a321448.ogg"},function(t,e,n){t.exports=n.p+"c17429a3194184f1823e8652b19665db.wav"},function(t,e,n){t.exports=n.p+"9b230c404133d31e8b32b72e4f4709d6.wav"},function(t,e,n){t.exports=n.p+"84f7a92ac15bb28de085370686c46b57.wav"},function(t,e,n){t.exports=n.p+"b58455f5ec6aaf2a19902f196a55e98a.wav"},function(t,e,n){t.exports=n.p+"7765777ed029910c394ea6ecdc46e707.png"},function(t,e,n){t.exports=n.p+"6c9f119213f2371e5ffa564621e7c7cf.png"},function(t,e,n){t.exports=n.p+"1b708fab0fb46c4291e239a822e3d553.png"},function(t,e,n){t.exports=n.p+"5bbe8e44117d6281e0990e5a0213c814.png"},function(t,e,n){t.exports=n.p+"252e335cd8e95aa7f9af810197527c88.png"},function(t,e,n){t.exports=n.p+"7bc9ef00f9c3eac4ed90e0f78fe053f4.png"},function(t,e,n){t.exports=n.p+"4be259f95a7562b19fc50f5956f3064a.png"},function(t,e,n){t.exports=n.p+"f37c84d41789ca95567a2e9f9b3288cb.png"},function(t,e,n){t.exports=n.p+"57df989eadc0b9703add8cdbd84d82f9.png"},function(t,e,n){t.exports=n.p+"8c33cba37ae9cda19c0c4706219cd540.png"},function(t,e,n){t.exports=n.p+"78b5b4973f64552277b581a279a72a42.png"},function(t,e,n){t.exports=n.p+"6944ce0fd23293c610a6b7881300e188.png"},function(t,e,n){t.exports=n.p+"0574a2e0749918363ef5593ddc58b2e7.png"},function(t,e,n){t.exports=n.p+"e7192d5fba02e9c6c174e7e3d9487a6b.png"},function(t,e,n){t.exports=n.p+"46f00f6169dccc5ee028881800a09fe3.png"},function(t,e,n){t.exports=n.p+"3844e977328e0e91b54f2d32278684c5.png"},function(t,e,n){t.exports=n.p+"56376cf0ad0de37681a110e6dbfc3fb8.png"},function(t,e,n){t.exports=n.p+"2a3f5e19c5b2efd0462fb7cc1b704558.png"},function(t,e,n){t.exports=n.p+"4ce8baed92fdbe83ea831d09b512beb2.png"},function(t,e,n){t.exports=n.p+"b6ac9dbcd6cad76692d5dc9ffd4d530d.png"},function(t,e,n){t.exports=n.p+"d564e115a42fa163a7bc9e1328b2d216.png"},function(t,e,n){t.exports=n.p+"29171ae82e287f9d176ab7ddd7f6b382.png"},function(t,e,n){t.exports=n.p+"6f20cd91097c8be0d36eaad2bf6244ec.png"},function(t,e,n){t.exports=n.p+"ccd1e8955823c41dd50406b82e3d7dc0.png"},function(t,e,n){t.exports=n.p+"598df00bd95514ed5a3f054793f36da1.png"},function(t,e,n){t.exports=n.p+"022ab466b958b1e014b14ab33cf74a84.png"},function(t,e,n){t.exports=n.p+"c150a67e689f09935b6d97e1989f8b56.png"},function(t,e,n){t.exports=n.p+"17b342f332f5ab3ea92edee594cc0ff7.png"},function(t,e,n){t.exports=n.p+"bfc4eed12d62bc8834e80f5ad6a79e14.png"},function(t,e,n){t.exports=n.p+"0cfb30ca844b8dc2e00ca6a6b6125ca5.png"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),o=n(15),r=n(115),s=n(114),u=n(113),a=n(112),c=n(111),d=n(110),f=n(106),l=n(12),p=n(42),h=n(105),g=n(98),y=new s.default,w=new r.MainMenu(y);y.add(o.Scenes.MAIN_MENU,w),y.add(o.Scenes.GAME_OVER,new a.GameOver(y)),y.add(o.Scenes.STORY_GAME_WINDOW,new h.StoryGameWindow(y)),y.add(o.Scenes.GRID_GAME_WINDOW,new g.GridGameWindow(y)),y.add(o.Scenes.VICTORY,new c.Victory(y)),y.add(o.Scenes.OPTIONS,new d.Options(y)),y.add(o.Scenes.HELP,new f.Help(y));var b=new u.GameLoader;Object.keys(i.Resources).forEach(function(t){return b.addResource(i.Resources[t])}),y.start(b).then(function(){l.default.initialize(y),p.default.initialize(),y.goToScene(o.Scenes.MAIN_MENU)})}]);
//# sourceMappingURL=main.js.map