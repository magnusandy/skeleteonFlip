!function(t){function e(e){for(var r,c,a=e[0],u=e[1],s=e[2],d=0,p=[];d<a.length;d++)c=a[d],o[c]&&p.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(f&&f(e);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},o={1:0},i=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},c.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var s=0;s<a.length;s++)e(a[s]);var f=u;i.push([234,0]),n()}([,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n(4),i=n(131),c=n(130),a=n(129),u=n(128),s=n(127),f=n(126),d=n(125),p=n(50),l=n(124),h=n(123),g=n(122),y=n(121),w=n(120),C=n(119),b=n(118),S=n(117),_=n(116),v=n(115),x=n(114),O=n(113),m=n(112);e.uiHeart=m;var k=n(111),P=n(110),T=n(109),A=n(108),M=n(107),R=n(106),E=n(105),D=n(104),G=n(103),j=n(102),z=n(101),I=n(100),W=n(99),H=n(98),N={victory:new r.Texture(M),gameOver:new r.Texture(l),title:new r.Texture(p),sword:new r.Texture(i),skull:new r.Texture(c),potion:new r.Texture(a),coin:new r.Texture(u),card:new r.Texture(s),startMenu:new r.Texture(f),optionMenu:new r.Texture(d),backgroundTile:new r.Texture(H),0:new r.Texture(h),1:new r.Texture(g),2:new r.Texture(y),3:new r.Texture(w),4:new r.Texture(C),5:new r.Texture(b),6:new r.Texture(S),7:new r.Texture(_),8:new r.Texture(v),9:new r.Texture(x),uiSword:new r.Texture(O),uiHeart:new r.Texture(m),uiLeft:new r.Texture(k),uiRight:new r.Texture(P),uiX:new r.Texture(T),uiBlank:new r.Texture(A),cardSound:new r.Sound(R),boneSound:new r.Sound(D),coinSound:new r.Sound(z),laughSound:new r.Sound(j),potionSound:new r.Sound(E),swordSound:new r.Sound(G),victorySound:new r.Sound(W),backgroundMusic:new r.Sound(I)};e.Resources=N;var V={maxHealth:3,maxAttack:2,gridPadding:4,backgroundColor:o.Color.Gray};e.Config=V},,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.gridSize=t,this.difficulty=e,this.disableProgression=n}return t.get=function(){return this.singleton?this.singleton:(this.singleton=new t(t.baseGridSize,t.baseDifficulty,!1),this.singleton)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.getDifficulty=function(){return this.difficulty},t.prototype.getSkullFactor=function(){return t.getBuffAndSkullByDifficulty(this.difficulty).skullFactor},t.prototype.getBuffFactor=function(){return t.getBuffAndSkullByDifficulty(this.difficulty).buffFactor},t.prototype.progress=function(){this.disableProgression||(5===this.difficulty?(this.difficulty=this.nextDifficulty(this.difficulty,this.gridSize),this.gridSize=this.nextGridSize(this.gridSize)):(this.nextDifficulty(this.difficulty,this.gridSize),this.difficulty=this.nextDifficulty(this.difficulty,this.gridSize)),console.log(this))},t.prototype.resetProgress=function(){this.disableProgression||(this.difficulty=t.baseDifficulty,this.gridSize=t.baseGridSize)},t.prototype.nextGridSize=function(t){return 9===t?9:t+1},t.prototype.nextDifficulty=function(t,e){if(9!==e||5!==t)return 2===t||4===t?t+1:5===t?1:t+2},t.getBuffAndSkullByDifficulty=function(t){var e=function(t,e){return{skullFactor:t,buffFactor:e}};switch(t){case 1:return e(3,0);case 2:return e(2.5,0);case 3:return e(2.5,1);case 4:return e(2,1);case 5:return e(2,2)}},t.baseGridSize=4,t.baseDifficulty=1,t}();e.default=r},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.GAME_WINDOW="gameWindow",t.MAIN_MENU="mainMenu",t.GAME_OVER="gameOver",t.VICTORY="victory"}(e.Scenes||(e.Scenes={}))},,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=function(){function t(){}return t.get=function(){return t.soundManager?t.soundManager:(t.soundManager=new t,t.soundManager)},t.prototype.backgroundMusicStart=function(){this.backgroundSound||(this.backgroundSound=r.Resources.backgroundMusic,this.backgroundSound.loop=!0,this.backgroundSound.play(.1))},t.prototype.playSoundInterrupt=function(t,e){this.currentSound&&this.currentSound.isPlaying()&&(this.currentSound.pause(),this.currentSound=null),this.playSoundWithAfter(t,e)},t.prototype.playSoundWithAfter=function(t,e){this.currentSound=t,e?t.play().then(e):t.play()},t}();e.default=o},,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4);function o(t,e,n,o,i,c){var a=i||1,u=t*a,s=e*a,f=s/o;if(f*n>t){var d,p=u/n;return{width:o*(d=c<p?c:p),height:u,scale:new r.Vector(d,d)}}return{width:s,height:n*(d=c<f?c:f),scale:new r.Vector(d,d)}}e.calcDimensionsSingleObjectTexture=function(t,e,n,r,i){return o(t,e,n.height,n.width,r,i)},e.calcDimensionsSingleObject=o},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,c=n(4),a=n(7),u=n(4),s=n(49),f=n(25),d=n(14);!function(t){t.COIN="coin",t.SKELETON="skeleton",t.POTION="potion",t.ATTACK="attack"}(i=e.CardType||(e.CardType={}));var p=function(t){function e(n,r,o,c,u,d,p){var l=t.call(this)||this;l.onEnter=function(){l.baseSprite.clearEffects(),l.baseSprite.addEffect(new s.Darken(.2))},l.onExit=function(){l.baseSprite.clearEffects()},l.playSound=function(){var t;l.cardType===i.SKELETON?t=a.Resources.boneSound:l.cardType===i.ATTACK?t=a.Resources.swordSound:l.cardType===i.COIN?t=a.Resources.coinSound:l.cardType===i.POTION&&(t=a.Resources.potionSound),f.default.get().playSoundInterrupt(t)},l.cardType=d,l.passedInOnClick=c,l.row=o,l.col=r,l.flipped=!1,l.texture=p;var h=e.calcCardDimensions(2*n.y,2*n.x);return l.baseSprite=e.sprite(a.Resources.card,h.scale),l.addDrawing("base",l.baseSprite),l.addDrawing("flip",e.sprite(l.texture,h.scale)),l.setWidth(h.width),l.setHeight(h.height),l.on("pointerup",l.fullOnClick),l.on("pointerenter",l.onEnter),l.on("pointerleave",l.onExit),l.x=e.calcX(r,h.width,n)+h.width,l.y=e.calcY(h.height,o,n)+h.height,l}return o(e,t),e.calcX=function(t,e,n){return n.x-d.default.get().getGridSize()/2*e-(d.default.get().getGridSize()-1)*a.Config.gridPadding/2+e*t+a.Config.gridPadding*t},e.calcY=function(t,e,n){return n.y-d.default.get().getGridSize()/2*t-(d.default.get().getGridSize()-1)*a.Config.gridPadding/2+t*e+a.Config.gridPadding*e},e.calcCardDimensions=function(t,n){var r=a.Resources.card,o=r.height,i=r.width,c=e.calcMaxCardHeight(t),s=e.calcMaxCardWidth(n),f=s/i;if(f*(o*(d.default.get().getGridSize()+1))>t){var p=c/o;return{width:i*p,height:c,scale:new u.Vector(p,p)}}return{width:s,height:o*f,scale:new u.Vector(f,f)}},e.calcMaxCardHeight=function(t){return.85*t/(d.default.get().getGridSize()+1)-a.Config.gridPadding},e.calcMaxCardWidth=function(t){return.85*t/(d.default.get().getGridSize()+1)-a.Config.gridPadding},e.sprite=function(t,e){var n=new u.Sprite(t,0,0,t.width,t.height);return n.scale=e,n},e.prototype.fullOnClick=function(){this.flipped||(this.flipped=!0,this.setDrawing("flip"),f.default.get().playSoundInterrupt(a.Resources.cardSound,this.playSound),this.passedInOnClick())},e.prototype.type=function(){return this.cardType},e.prototype.getRow=function(){return this.row},e.prototype.getCol=function(){return this.col},e.prototype.isFlipped=function(){return this.flipped},e.skeleton=function(t,n,r,o){return new e(t,r,n,o,c.Color.White,i.SKELETON,a.Resources.skull)},e.potion=function(t,n,r,o){return new e(t,r,n,o,c.Color.Red,i.POTION,a.Resources.potion)},e.attack=function(t,n,r,o){return new e(t,r,n,o,c.Color.Gray,i.ATTACK,a.Resources.sword)},e.coin=function(t,n,r,o){return new e(t,r,n,o,c.Color.Yellow,i.COIN,a.Resources.coin)},e}(c.Actor);e.Card=p},,,,,,,,,,,,,,,function(t,e,n){t.exports=n.p+"32e41cd2c45011981855c5231583be07.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),c=n(7),a=n(17),u=n(25),s=n(14),f=n(34),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onInitialize=function(t){var e=this;this.engine=t;var n=new i.Actor;n.addDrawing(c.Resources.victory.asSprite()),n.x=this.engine.drawWidth/2,n.y=this.engine.drawHeight/2;var r=f.calcDimensionsSingleObjectTexture(this.engine.drawHeight,this.engine.drawWidth,c.Resources.victory,.8,1.5);n.setHeight(r.height),n.setWidth(r.width),n.scale=r.scale,n.on("pointerup",function(){s.default.get().progress(),e.engine.goToScene(a.Scenes.GAME_WINDOW)}),this.add(n)},e.prototype.onActivate=function(){u.default.get().playSoundInterrupt(c.Resources.victorySound)},e.prototype.onDeactivate=function(){},e}(i.Scene);e.Victory=d},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),c=n(7),a=n(17),u=n(25),s=n(14),f=n(34),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onInitialize=function(t){var e=this;this.engine=t;var n=new i.Actor,r=new i.SpriteSheet(c.Resources.gameOver,3,1,360,360).getAnimationForAll(this.engine,125);n.addDrawing("idle",r);var o=f.calcDimensionsSingleObject(this.engine.drawHeight,this.engine.drawWidth,360,360,.8,1.5);this.add(n),n.x=this.engine.drawWidth/2,n.y=this.engine.drawHeight/2,console.log(o),n.setHeight(o.height),n.setWidth(o.width),n.scale=o.scale,n.on("pointerup",function(){s.default.get().resetProgress(),e.engine.goToScene(a.Scenes.MAIN_MENU)})},e.prototype.onActivate=function(){u.default.get().playSoundInterrupt(c.Resources.laughSound)},e.prototype.onDeactivate=function(){c.Resources.laughSound.stop()},e}(i.Scene);e.GameOver=d},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),c=n(7),a=n(50),u=function(t){function e(){var e=t.call(this)||this;return e.backgroundColor=c.Config.backgroundColor.toString(),e.logo=a,e.logoHeight=96,e.logoWidth=480,e}return o(e,t),e}(i.Loader);e.GameLoader=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),c=n(7),a=function(t){function e(){var e=t.call(this,{displayMode:i.DisplayMode.FullScreen,suppressPlayButton:!0})||this;return e.backgroundColor=c.Config.backgroundColor,e}return o(e,t),e.prototype.start=function(e){return t.prototype.start.call(this,e)},e}(i.Engine);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),c=n(49),a=function(t){function e(e,n,r){var o=t.call(this)||this;return o.onDown=function(){o.sprite.clearEffects(),o.sprite.addEffect(new c.Darken(.2))},o.onEnter=function(){o.sprite.clearEffects(),o.sprite.addEffect(new c.Darken(.1))},o.onExit=function(){o.sprite.clearEffects()},o.sprite=e.asSprite(),o.on("pointerdown",o.onDown),o.on("pointerup",o.onClickWrapper(n)),o.on("pointerenter",o.onEnter),o.on("pointerleave",o.onExit),o}return o(e,t),e.prototype.onClickWrapper=function(t){var e=this;return function(){e.sprite.clearEffects(),t()}},e}(i.Actor);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),c=n(7),a=n(17),u=n(94),s=n(34),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onInitialize=function(t){this.screenWidth=t.drawWidth,this.screenHeight=t.drawHeight,this.game=t},e.prototype.onActivate=function(){var t=this,e=new i.Vector(1,1);this.start=new u.default(c.Resources.startMenu,function(){return t.game.goToScene(a.Scenes.GAME_WINDOW)},e),this.sizeProperly(this.start,.4,.5,c.Resources.startMenu),this.add(this.start),this.options=new u.default(c.Resources.optionMenu,function(){},e),this.sizeProperly(this.options,.4,.5,c.Resources.optionMenu),this.add(this.options),this.title=this.sizeProperly(new i.Actor,.8,1.5,c.Resources.title),this.add(this.title),this.placeActors()},e.prototype.sizeProperly=function(t,e,n,r){var o=s.calcDimensionsSingleObjectTexture(this.screenHeight,this.screenWidth,r,e,n);return console.log(o),t.addDrawing(r),t.scale=o.scale,t.setHeight(o.height),t.setWidth(o.width),t},e.prototype.placeActors=function(){console.log(this.start),this.start.x=this.screenWidth/2,this.start.y=this.screenHeight/2-this.start.getHeight()/2-c.Config.gridPadding,this.options.x=this.screenWidth/2,this.options.y=this.screenHeight/2+this.options.getHeight()/2+c.Config.gridPadding,this.title.x=this.screenWidth/2,this.title.y=this.screenHeight/2-1.7*this.start.getHeight()},e.prototype.onDeactivate=function(){},e}(i.Scene);e.MainMenu=f},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),c=n(7),a=n(35),u=n(14),s=function(t){function e(n,r,o,i){var u=t.call(this)||this;u.type=n,u.index=r,u.screenCenter=o;var s=a.Card.calcCardDimensions(2*o.y,2*o.x);return u.addDrawing("0",e.sprite(c.Resources[0],s.scale)),u.addDrawing("1",e.sprite(c.Resources[1],s.scale)),u.addDrawing("2",e.sprite(c.Resources[2],s.scale)),u.addDrawing("3",e.sprite(c.Resources[3],s.scale)),u.addDrawing("4",e.sprite(c.Resources[4],s.scale)),u.addDrawing("5",e.sprite(c.Resources[5],s.scale)),u.addDrawing("6",e.sprite(c.Resources[6],s.scale)),u.addDrawing("7",e.sprite(c.Resources[7],s.scale)),u.addDrawing("8",e.sprite(c.Resources[8],s.scale)),u.addDrawing("9",e.sprite(c.Resources[9],s.scale)),u.setWidth(s.width),u.setHeight(s.height),u.x=e.calcX(n,r,o,s.width)+s.width,u.y=e.calcY(n,r,o,s.height)+s.height,u.setCount(i),u}return o(e,t),e.calcX=function(t,e,n,r){var o=n.x-u.default.get().getGridSize()/2*r-r-(u.default.get().getGridSize()+1)*c.Config.gridPadding/2;return"row"===t?o:o+r+r*e+c.Config.gridPadding*(e+1)},e.calcY=function(t,e,n,r){var o=n.y-u.default.get().getGridSize()/2*r-r-(u.default.get().getGridSize()+1)*c.Config.gridPadding/2;return"col"===t?o:o+r+r*e+c.Config.gridPadding*(e+1)},e.sprite=function(t,e){var n=t.asSprite();return n.scale=e,n},e.prototype.setCount=function(t){return this.setDrawing(""+t),this},e}(i.Actor);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(35),o=n(33),i=n(4),c=n(14),a=function(){function t(e,n,r){this.skeletonCount=0,this.potionCount=0,this.swordCount=0,this.gridSize=n,this.callbackProvider=e,this.screenCenter=r,this.grid=t.blankGrid(n,e,this.screenCenter)}return t.prototype.getGridAsList=function(){return o.Stream.of(this.grid).map(function(t){return o.Stream.ofValues.apply(o.Stream,t)}).flatMap(o.Function.identity()).toArray()},t.prototype.getCard=function(t,e){return this.grid[t][e]},t.prototype.getRow=function(t){return o.Stream.of(this.grid).map(function(t){return o.Stream.ofValues.apply(o.Stream,t)}).flatMap(function(t){return t}).filter(function(e){return e.getRow()==t}).toArray()},t.prototype.getCol=function(t){return o.Stream.of(this.grid).map(function(t){return o.Stream.ofValues.apply(o.Stream,t)}).flatMap(function(t){return t}).filter(function(e){return e.getCol()==t}).toArray()},t.blankGrid=function(t,e,n){var r=this;return o.Stream.range(0,t).map(function(o){return r.blankGridRow(t,o,e,n)}).toArray()},t.blankGridRow=function(t,e,n,i){return o.Stream.range(0,t).map(function(t){return r.Card.coin(i,e,t,n.coinCardCallback)}).toArray()},t.prototype.initializeSkeletons=function(){for(;this.needMoreSkeletons();){var t=this.randomCoord(),e=this.randomCoord();this.isCoin(t,e)&&this.insertCard(t,e,r.Card.skeleton(this.screenCenter,t,e,this.callbackProvider.skeletonCardCallback))}},t.prototype.initializeBuffs=function(){for(;this.needMoreBuffs();){var t=this.randomCoord(),e=this.randomCoord();this.isCoin(t,e)&&this.insertCard(t,e,this.generateBuffCard(t,e))}},t.prototype.generateBuffCard=function(t,e){return Math.random()<.5?r.Card.attack(this.screenCenter,t,e,this.callbackProvider.attackCardCallback):r.Card.potion(this.screenCenter,t,e,this.callbackProvider.potionCardCallback)},t.prototype.insertCard=function(t,e,n){n.type()==r.CardType.SKELETON?this.skeletonCount++:n.type()==r.CardType.ATTACK?this.swordCount++:n.type()==r.CardType.POTION&&this.potionCount++,this.grid[t][e]=n},t.prototype.isCoin=function(t,e){return this.grid[t][e].type()==r.CardType.COIN},t.prototype.needMoreSkeletons=function(){return this.skeletonCount<Math.ceil(this.gridSize*this.gridSize/c.default.get().getSkullFactor())},t.prototype.needMoreBuffs=function(){return this.potionCount+this.swordCount<this.skeletonCount-c.default.get().getBuffFactor()},t.prototype.randomCoord=function(){return Math.floor(Math.random()*this.gridSize)},t.createGrid=function(e,n,r){var o=new t(e,n,new i.Vector(r.drawWidth/2,r.drawHeight/2));return o.initializeSkeletons(),o.initializeBuffs(),o},t}();e.GridCoordinator=a},function(t,e,n){t.exports=n.p+"76c1df520c3964c47773bce748158efd.png"},function(t,e,n){t.exports=n.p+"5acc4c358abe356ab34cb46990213c87.mp3"},function(t,e,n){t.exports=n.p+"e1587389071cad642af4ea472a7657df.wav"},function(t,e,n){t.exports=n.p+"7969b4d1ca99e09c909f6b4247f2e20a.wav"},function(t,e,n){t.exports=n.p+"ec591911768b22068d38bb5b2a321448.ogg"},function(t,e,n){t.exports=n.p+"c17429a3194184f1823e8652b19665db.wav"},function(t,e,n){t.exports=n.p+"9b230c404133d31e8b32b72e4f4709d6.wav"},function(t,e,n){t.exports=n.p+"84f7a92ac15bb28de085370686c46b57.wav"},function(t,e,n){t.exports=n.p+"b58455f5ec6aaf2a19902f196a55e98a.wav"},function(t,e,n){t.exports=n.p+"58a173980e88f9c87fc59189eecffa32.png"},function(t,e,n){t.exports=n.p+"252e335cd8e95aa7f9af810197527c88.png"},function(t,e,n){t.exports=n.p+"7bc9ef00f9c3eac4ed90e0f78fe053f4.png"},function(t,e,n){t.exports=n.p+"4be259f95a7562b19fc50f5956f3064a.png"},function(t,e,n){t.exports=n.p+"f37c84d41789ca95567a2e9f9b3288cb.png"},function(t,e,n){t.exports=n.p+"965a27cff1d4258fa5cd446cc3aad69d.png"},function(t,e,n){t.exports=n.p+"04bae7f03193a414f9a11713d3a05357.png"},function(t,e,n){t.exports=n.p+"6944ce0fd23293c610a6b7881300e188.png"},function(t,e,n){t.exports=n.p+"0574a2e0749918363ef5593ddc58b2e7.png"},function(t,e,n){t.exports=n.p+"e7192d5fba02e9c6c174e7e3d9487a6b.png"},function(t,e,n){t.exports=n.p+"46f00f6169dccc5ee028881800a09fe3.png"},function(t,e,n){t.exports=n.p+"3844e977328e0e91b54f2d32278684c5.png"},function(t,e,n){t.exports=n.p+"56376cf0ad0de37681a110e6dbfc3fb8.png"},function(t,e,n){t.exports=n.p+"2a3f5e19c5b2efd0462fb7cc1b704558.png"},function(t,e,n){t.exports=n.p+"4ce8baed92fdbe83ea831d09b512beb2.png"},function(t,e,n){t.exports=n.p+"b6ac9dbcd6cad76692d5dc9ffd4d530d.png"},function(t,e,n){t.exports=n.p+"d564e115a42fa163a7bc9e1328b2d216.png"},function(t,e,n){t.exports=n.p+"7f0a2a655d51479def4f8b21fd3b5738.png"},function(t,e,n){t.exports=n.p+"ccd1e8955823c41dd50406b82e3d7dc0.png"},function(t,e,n){t.exports=n.p+"598df00bd95514ed5a3f054793f36da1.png"},function(t,e,n){t.exports=n.p+"022ab466b958b1e014b14ab33cf74a84.png"},function(t,e,n){t.exports=n.p+"c150a67e689f09935b6d97e1989f8b56.png"},function(t,e,n){t.exports=n.p+"17b342f332f5ab3ea92edee594cc0ff7.png"},function(t,e,n){t.exports=n.p+"bfc4eed12d62bc8834e80f5ad6a79e14.png"},function(t,e,n){t.exports=n.p+"0cfb30ca844b8dc2e00ca6a6b6125ca5.png"},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),c=function(t){function e(e,n,r,o){var c=t.call(this)||this;return c.x=n,c.y=r,c.sprite=new i.Sprite(o,0,0,o.width,o.height),c.addDrawing(c.sprite),c.setHeight(50),c.setWidth(50),c.scale=new i.Vector(.25,.25),c.setEnabled(e),c}return o(e,t),e.prototype.setEnabled=function(t){return this.enabled=t,this.sprite.clearEffects(),t?this.sprite.opacity(1):this.sprite.opacity(e.DISABLED_OPACITY),this},e.prototype.isEnabled=function(){return this.enabled},e.DISABLED_OPACITY=.5,e}(i.Actor);e.default=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,function(t,e){},,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(33),o=n(132),i=function(){function t(t,e,n,r){this.current=e,this.max=t,this.onZero=n,this.statActors=r}return t.create=function(e,n,i,c,a,u){var s=u||0,f=r.Stream.range(0,i).map(function(t){return t>s-1?new o.default(!1,e+50*t,n,a):new o.default(!0,e+50*t,n,a)}).toArray();return new t(i,s,c,f)},t.prototype.add=function(t){return this.current+t>this.max?this.current=this.max:this.current=this.current+t,this.statActors[this.current-1].setEnabled(!0),this.current},t.prototype.subtract=function(t){return this.current-t<=0?(this.current=0,this.onZero()):this.current=this.current-t,this.statActors[this.current].setEnabled(!1),this.current},t.prototype.getCurrent=function(){return this.current},t.prototype.getStatActors=function(){return this.statActors},t}();e.NumberCoordinator=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(231),o=n(35),i=n(7),c=n(33),a=n(97),u=n(4),s=n(17),f=n(96),d=n(14),p=function(){function t(t,e,n){var r=this;this.skeletonCardCallback=function(){r.attackCoordinator.getCurrent()>0?r.attackCoordinator.subtract(1):r.healthCoordinator.subtract(1),r.updateLabels(),r.checkIfCompleteGame()},this.coinCardCallback=function(){r.checkIfCompleteGame()},this.attackCardCallback=function(){r.attackCoordinator.add(1),r.checkIfCompleteGame()},this.potionCardCallback=function(){r.healthCoordinator.add(1),r.checkIfCompleteGame()},this.healthCoordinator=e,this.attackCoordinator=n,this.engine=t}return t.initialize=function(e){var n=new t(e,r.NumberCoordinator.create(50,50,i.Config.maxHealth,function(){e.goToScene(s.Scenes.GAME_OVER)},i.Resources.uiHeart,i.Config.maxHealth),r.NumberCoordinator.create(50,100,i.Config.maxAttack,function(){},i.Resources.uiSword));return n.gridCoordinator=a.GridCoordinator.createGrid(n,d.default.get().getGridSize(),e),n.rowCounts=n.createRowCountCards(),n.columnCounts=n.createColCountCards(),n},t.prototype.getStatTrackers=function(){return this.healthCoordinator.getStatActors().concat(this.attackCoordinator.getStatActors())},t.prototype.getRowCountCards=function(){return this.rowCounts},t.prototype.getColCountCards=function(){return this.columnCounts},t.prototype.createColCountCards=function(){var t=this,e=new u.Vector(this.engine.drawWidth/2,this.engine.drawHeight/2);return c.Stream.of(this.gridCoordinator.getRow(0)).map(function(n){return new f.default("col",n.getCol(),e,t.skeletonCountForCol(n.getCol()))}).toArray()},t.prototype.createRowCountCards=function(){var t=this,e=new u.Vector(this.engine.drawWidth/2,this.engine.drawHeight/2);return c.Stream.of(this.gridCoordinator.getCol(0)).map(function(n){return new f.default("row",n.getRow(),e,t.skeletonCountForRow(n.getRow()))}).toArray()},t.prototype.skeletonCountForRow=function(t){return c.Stream.of(this.gridCoordinator.getRow(t)).filter(function(t){return!t.isFlipped()}).filter(function(t){return t.type()==o.CardType.SKELETON}).count()},t.prototype.skeletonCountForCol=function(t){return c.Stream.of(this.gridCoordinator.getCol(t)).filter(function(t){return!t.isFlipped()}).filter(function(t){return t.type()==o.CardType.SKELETON}).count()},t.prototype.getGridAsList=function(){return this.gridCoordinator.getGridAsList()},t.prototype.updateLabels=function(){var t=this;this.rowCounts.forEach(function(e,n){e.setCount(t.skeletonCountForRow(n))}),this.columnCounts.forEach(function(e,n){e.setCount(t.skeletonCountForCol(n))})},t.prototype.checkIfCompleteGame=function(){c.Stream.of(this.getGridAsList()).allMatch(function(t){return t.isFlipped()})&&this.healthCoordinator.getCurrent()>0&&this.engine.goToScene(s.Scenes.VICTORY)},t}();e.GameCoordinatior=p},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),c=n(232),a=n(33),u=n(25),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onInitialize=function(t){this.engine=t},e.prototype.onActivate=function(){var t=this;u.default.get().backgroundMusicStart();var e=c.GameCoordinatior.initialize(this.engine);this.coordinator=e,e.getGridAsList().forEach(function(e){return t.add(e)}),e.getColCountCards().forEach(function(e){return t.add(e)}),e.getRowCountCards().forEach(function(e){return t.add(e)}),a.Stream.ofValues(this.coordinator.getStatTrackers()).map(function(t){return a.Stream.ofValues.apply(a.Stream,t)}).flatMap(function(t){return t}).forEach(function(e){return t.add(e)})},e.prototype.onDeactivate=function(){var t=this;this.coordinator.getGridAsList().forEach(function(e){return t.remove(e)}),this.coordinator.getColCountCards().forEach(function(e){return t.remove(e)}),this.coordinator.getRowCountCards().forEach(function(e){return t.remove(e)}),a.Stream.ofValues(this.coordinator.getStatTrackers()).map(function(t){return a.Stream.ofValues.apply(a.Stream,t)}).flatMap(function(t){return t}).forEach(function(e){return t.remove(e)})},e}(i.Scene);e.GameWindow=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(233),o=n(7),i=n(17),c=n(95),a=n(93),u=n(92),s=n(91),f=n(90),d=new a.default,p=new c.MainMenu(d);d.add(i.Scenes.MAIN_MENU,p),d.add(i.Scenes.GAME_OVER,new s.GameOver(d)),d.add(i.Scenes.GAME_WINDOW,new r.GameWindow(d)),d.add(i.Scenes.VICTORY,new f.Victory(d));var l=new u.GameLoader;Object.keys(o.Resources).forEach(function(t){return l.addResource(o.Resources[t])}),d.start(l).then(function(){d.goToScene(i.Scenes.MAIN_MENU)})}]);
//# sourceMappingURL=main.js.map