{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/resources.ts","webpack:///./src/engine/managers/sizingManager.ts","webpack:///./src/engine/progression/progressionManager.ts","webpack:///./src/scenes/scenes.ts","webpack:///./src/engine/managers/soundManager.ts","webpack:///./src/actors/bars/buttonBase.ts","webpack:///./src/engine/helpers.ts","webpack:///./src/engine/progression/playerSettingsManager.ts","webpack:///./src/engine/managers/fontManager.ts","webpack:///./src/engine/managers/backgroundManager.ts","webpack:///./src/actors/card/card.ts","webpack:///./src/actors/bars/exitButton.ts","webpack:///./src/scenes/BaseScene.ts","webpack:///./src/engine/progression/gridState.ts","webpack:///./src/scenes/gameWindows/gameWindowBase.ts","webpack:///./src/engine/progression/difficulty.ts","webpack:///./src/images/ui/x.png","webpack:///./src/images/ui/heart.png","webpack:///./src/images/ui/sword.png","webpack:///./src/images/numbers/3.png","webpack:///./src/images/title.png","webpack:///./src/images/coin.png","webpack:///./src/images/potion.png","webpack:///./src/images/skull.png","webpack:///./src/images/sword.png","webpack:///./src/scenes/gameWindows/gridGameWindow.ts","webpack:///./src/actors/bars/coinCount.ts","webpack:///./src/actors/card/count.ts","webpack:///./src/coordinator/gridCoordinator.ts","webpack:///./src/actors/bars/statTracker.ts","webpack:///./src/coordinator/numberCoordinator.ts","webpack:///./src/coordinator/coordinator.ts","webpack:///./src/actors/bars/level.ts","webpack:///./src/scenes/gameWindows/storyGameWindow.ts","webpack:///./src/modal/modal.tsx","webpack:///./src/scenes/help.ts","webpack:///./src/actors/bars/radioButton.ts","webpack:///./src/actors/bars/labeledRadio.ts","webpack:///./src/actors/bars/numberSelector.ts","webpack:///./src/scenes/options.ts","webpack:///./src/scenes/victory.ts","webpack:///./src/scenes/gameOver.ts","webpack:///./src/engine/game/GameLoader.ts","webpack:///./src/engine/game/Game.ts","webpack:///./src/actors/bars/scrollBar.ts","webpack:///./src/scenes/mainMenu.ts","webpack:///./src/images/background.png","webpack:///./src/sounds/button.wav","webpack:///./src/sounds/victory.mp3","webpack:///./src/sounds/background.wav","webpack:///./src/sounds/coin.wav","webpack:///./src/sounds/laugh.ogg","webpack:///./src/sounds/sword.wav","webpack:///./src/sounds/bone.wav","webpack:///./src/sounds/potion.wav","webpack:///./src/sounds/card.wav","webpack:///./src/images/victory.png","webpack:///./src/fonts/myMono.png","webpack:///./src/images/helpTitle.png","webpack:///./src/images/optionTitle.png","webpack:///./src/images/ui/scroll.png","webpack:///./src/images/ui/blank.png","webpack:///./src/images/ui/right.png","webpack:///./src/images/ui/left.png","webpack:///./src/images/ui/coinPile.png","webpack:///./src/images/numbers/9.png","webpack:///./src/images/numbers/8.png","webpack:///./src/images/numbers/7.png","webpack:///./src/images/numbers/6.png","webpack:///./src/images/numbers/5.png","webpack:///./src/images/numbers/4.png","webpack:///./src/images/numbers/2.png","webpack:///./src/images/numbers/1.png","webpack:///./src/images/numbers/0.png","webpack:///./src/images/gameOver.png","webpack:///./src/images/menu/menu.png","webpack:///./src/images/menu/next.png","webpack:///./src/images/menu/confirm.png","webpack:///./src/images/menu/playing.png","webpack:///./src/images/menu/credits.png","webpack:///./src/images/menu/intro.png","webpack:///./src/images/menu/cards.png","webpack:///./src/images/menu/help.png","webpack:///./src/images/menu/options.png","webpack:///./src/images/menu/start.png","webpack:///./src/images/card.png","webpack:///./src/index.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","p","jsonpArray","window","webpackJsonp","oldJsonpFunction","bind","slice","ex","sword","skull","potion","coin","card","startMenu","optionMenu","helpMenu","cardsMenu","introMenu","creditsMenu","playingMenu","confirmMenu","nextMenu","menuMenu","title","gameOverImg","zero","one","two","three","four","five","six","seven","eight","nine","uiSword","uiHeart","uiCoins","uiLeft","uiRight","uiX","uiBlank","uiScroll","optionTitle","helpTitle","fontMono","victory","cardSound","potionSound","boneSound","swordSound","laughSound","coinSound","backgroundMusic","victorySound","buttonSound","backgroundTile","Resources","Texture","gameOver","cardMenu","0","2","3","4","5","6","7","8","9","myMono","Sound","Config","maxHealth","maxAttack","gridPadding","backgroundColor","exitButtonSize","uiBigSize","optionPadding","t","e","SizingManager","engine","this","initialize","singleton","console","log","isMobile","drawWidth","getUIItemSize","getUIButtonSizing","padding","maxScale","getMenuHeight","difficulty_1","playerSettingsManager_1","ProgressionManager","getGameGridSize","ps","isProgressionDisabled","getChosenGridSize","getCurrentLevel","getOptionGridSize","getDifficulty","getChosenDifficulty","getSkullFactor","getSkeletonFactor","getBuffFactor","progress","currentLevel","currentStage","getCurrentStage","stagesPerNormalLevel","maxLevel","setCurrentStage","setCurrentLevel","setGridSize","newSize","setChosenGridSize","setDifficulty","difficulty","setChosenDifficulty","Difficulty","getByDifficultyLevel","setProgressionDisabled","isProgressDisabled","resetProgress","getLevelString","Scenes","progressionManager_1","STORY_GAME_WINDOW","GRID_GAME_WINDOW","MAIN_MENU","GAME_OVER","VICTORY","OPTIONS","HELP","getGameWindow","resources_1","SoundManager","soundManager","disableSound","backgroundSound","stop","backgroundMusicStart","isSoundOff","volume","loop","play","backgroundMusicEnd","playSoundInterrupt","sound","after","currentSound","isPlaying","pause","playSoundWithAfter","then","__extends","setPrototypeOf","__proto__","Array","constructor","create","excalibur_1","SpriteEffects_1","soundManager_1","helpers_1","ButtonBase","_super","texture","onClick","disabled","_this","onDown","sprite","clearEffects","addEffect","Darken","onEnter","onExit","Sprite","width","height","addDrawing","on","EventTypes","PointerUp","onClickWrapper","getSprite","safePointerUp","setDisabled","Actor","calcDimensionsSingleObject","screenHeight","screenWidth","textHeight","textWidth","paddingPercent","paddingToUse","maxHeight","maxWidth","scaleByWidth","scaleToUse","scaleByHeight","scale","Vector","calcDimensionsSingleObjectTexture","event","ev","type","java8script_1","localForage","gridState_1","PlayerSettingsManager","toggleSound","progressionDisabled","chosenDiff","chosenGridSize","maxDiff","storyGrid","practiceGrid","totalCoins","soundOff","chosenDifficulty","maxDifficulty","config","version","size","storeName","description","getItem","STORE_KEY","v","DEFAULT","saveData","deserializeV1","saveGridState","gridState","Optional","ofNullable","saveToStorage","getGridState","newCurrent","newStage","gridSize","difficutly","setIsSoundOff","isProgDisabled","getTotalCoins","setTotalCoins","newTotal","serializeV1","getDifficultyLevel","map","g","toSaveState","orElse","save","GridState","fromSaveState","setItem","VERY_EASY","NORMAL","empty","FontManager","generalMono","SpriteFont","getMono","BackgroundManager","tile","numberOfCols","Math","ceil","numberOfRows","tileMap","TileMap","registerSpriteSheet","SpriteSheet","tileSprite","TileSprite","row","getCellByIndex","pushSprite","getTileMap","getDefaultTileMap","drawHeight","getCustomTileMap","CardType","sizingManager_1","COIN","SKELETON","POTION","ATTACK","Card","screenCenter","col","faceColor","baseSprite","playSound","cardType","passedInOnClick","flipped","dims","calcCardDimensions","y","x","setWidth","setHeight","fullOnClick","calcX","calcY","cardWidth","center","cardHeight","_a","usableHeight","calcMaxCardHeight","calcMaxCardWidth","silentSetFlipped","setDrawing","getRow","getCol","isFlipped","skeleton","Color","White","Red","attack","Gray","Yellow","callbackProvider","skeletonCardCallback","attackCardCallback","coinCardCallback","potionCardCallback","buttonBase_1","ExitButton","backgroundManager_1","scrollBar_1","BaseScene","scrollBar","add","setBackround","bottomOfBottomElement","addTileMap","initScroll","setScrollBottom","camera","strategy","lockToActorAxis","Axis","Y","createButton","button","Scene","grid","hearts","swords","coins","getGridSize","getHearts","getSwords","getCoins","Stream","ofValues","cardState","toArray","CardState","getType","coordinator_1","scenes_1","exitButton_1","GameWindowBase","onInitialize","goToScene","coordinator","GameCoordinator","onActivate","getAllActors","forEach","onDeactivate","remove","difficultyLevel","buff","text","buffFactor","skeletonFactor","difficultyName","level","of","EASY","HARD","VERY_HARD","filter","diff","findFirst","orElseThrow","Error","gameWindowBase_1","GridGameWindow","currentOptionGridSize","resetGame","fontManager_1","CoinCount","currentCount","countIcon","countLabel","coinCount","coinIcon","coinActor","createCoinIcon","createCountLabel","getRight","getCoinCount","addToCoinCount","toAdd","drawables","actor","label","Label","fontSize","baseAlign","BaseAlign","Middle","textAlign","TextAlign","Left","color","fromHex","card_1","Count","index","initialCount","setCount","leftSide","top","asSprite","clone","count","GridCoordinator","skeletonCount","potionCount","swordCount","blankGrid","createGridFromState","state","loadSavedGrid","orElseGet","createNewGrid","coord","initializeSkeletons","initializeBuffs","currentGridState","cardStates","getGridAsList","flatMap","a","rowIndex","colIndex","range","rowNum","blankGridRow","columnIndex","needMoreSkeletons","randomCoord","isCardACoin","insertCard","needMoreBuffs","generateBuffCard","initializeFromState","createdCard","random","floor","StatTracker","enabled","setEnabled","opacity","DISABLED_OPACITY","isEnabled","statTracker_1","NumberCoordinator","max","current","onZeroCallback","statActors","onZero","defaultedCurrent","idx","subtract","getCurrent","getStatActors","numberCoordinator_1","gridCoordinator_1","count_1","coinCount_1","updateLabels","rowCounts","skeletonCountForRow","columnCounts","skeletonCountForCol","attackCoordinator","healthCoordinator","saveGridProgress","checkIfCompleteGame","shouldCreateFresh","mm","saveState","gs","gridCoordinator","createRowCountCards","createColCountCards","getStatTrackers","concat","getRowCountCards","getColCountCards","allFlipped","allMatch","psm","progman","LevelDisplay","startingLevel","createLabelText","Center","PREFIX","updateLevel","newLevel","level_1","StoryGameWindow","levelDisplay","React","ReactModal","react_dom_1","xButton","skullImage","swordImage","potionImage","coinImage","heartUIImg","swordUIImage","threeImage","styles","margin","flex","h1","holder","imgHolder","cardImg","ModalRenderer","isOpen","setOpenAndRerender","innerStuff","render","open","closeFunc","props","createElement","E","__assign","document","getElementById","introModal","style","howToPlayModal","src","alt","cardModal","textModal","content","borderRadius","borderWidth","borderColor","appElement","float","position","right","onPointerUp","borderStyle","minHeight","display","Component","modal_1","Help","titleDims","modalRenderer","centerx","sizing","intro","getBottom","playing","cards","credits","RadioButton","defaultValue","onToggle","currentSprite","toggleButton","checked","setCheckedDrawing","ifPresent","func","checkedSprite","uncheckedSprite","setOnToggle","isChecked","setChecked","radioButton_1","LabeledRadio","defaultVal","textSize","buttonSize","labelWidth","getTextWidth","ctx","radio","addOnToggle","getDrawables","NumberSelector","min","updateDisabled","isDisabled","leftButtonSprite","rightButtonSprite","disColor","topLabel","numberLabel","Colorize","leftButton","rightButton","Black","labelText","addBy","nextCurrent","setCurrent","numberSelector_1","labeledRadio_1","Options","arguments","onConfirm","progressionToggle","itemSize","addTitle","addSoundToggle","addDifficultySize","addProgressionToggle","callbackForEnabling","addGridSize","createbuttonDims","createButtonY","Victory","onNext","buttonDims","imageDims","offset","victoryActor","nextButton","GameOver","onMenu","gameOverActor","playerIdleAnimation","getAnimationForAll","menuButton","logoImg","GameLoader","toString","logo","logoHeight","logoWidth","Loader","Game","suppressConsoleBootMessage","displayMode","DisplayMode","FullScreen","pointerScope","Input","PointerScope","Canvas","suppressPlayButton","start","loader","Engine","ScrollBar","isDragging","scrollBarBotton","scrollBarTop","pe","worldY","pointer","lastWorldPos","num","visible","MainMenu","centerX","options","help","mainMenu_1","Game_1","GameLoader_1","gameOver_1","victory_1","options_1","help_1","storyGameWindow_1","gridGameWindow_1","game","mainMenu","keys","k","addResource"],"mappings":"aACA,SAAAA,EAAAC,GAOA,IANA,IAKAC,EAAAC,EALAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAGAM,EAAA,EAAAC,KACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAIA,IADAe,KAAAhB,GACAO,EAAAC,QACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,OAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,KACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,MAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,KAKApB,GACAqB,EAAA,GAGAZ,KAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,IACAK,EAAAL,EACAgC,KACAF,YAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,KAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,GACAI,gBACAC,cACAC,IAAAL,KAMAX,EAAAiB,EAAA,SAAAb,GACApB,OAAA6B,eAAAT,EAAA,cAAiDc,YAIjDlB,EAAAmB,EAAA,SAAAd,GACA,IAAAM,EAAAN,KAAAe,WACA,WAA2B,OAAAf,EAAAgB,SAC3B,WAAiC,OAAAhB,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAU,EAAAC,GAAsD,OAAAvC,OAAAC,UAAAC,eAAAC,KAAAmC,EAAAC,IAGtDvB,EAAAwB,EAAA,GAEA,IAAAC,EAAAC,OAAAC,aAAAD,OAAAC,iBACAC,EAAAH,EAAA1C,KAAA8C,KAAAJ,GACAA,EAAA1C,KAAAX,EACAqD,IAAAK,QACA,QAAAnD,EAAA,EAAgBA,EAAA8C,EAAA5C,OAAuBF,IAAAP,EAAAqD,EAAA9C,IACvC,IAAAU,EAAAuC,EAIArC,EAAAR,MAAA,QAEAU,wFCrIA,IAAAsC,EAAA/B,EAAA,GAEMgC,EAAQhC,EAAQ,KAChBiC,EAAQjC,EAAQ,KAChBkC,EAASlC,EAAQ,KACjBmC,EAAOnC,EAAQ,KACfoC,EAAOpC,EAAQ,KACfqC,EAAYrC,EAAQ,KACpBsC,EAAatC,EAAQ,KACrBuC,EAAWvC,EAAQ,KACnBwC,EAAYxC,EAAQ,KACpByC,EAAYzC,EAAQ,KACpB0C,EAAc1C,EAAQ,KACtB2C,EAAc3C,EAAQ,KACtB4C,EAAc5C,EAAQ,KACtB6C,EAAW7C,EAAQ,KACnB8C,EAAW9C,EAAQ,KAEnB+C,EAAQ/C,EAAQ,KAChBgD,EAAchD,EAAQ,KACtBiD,EAAOjD,EAAQ,KACfkD,EAAMlD,EAAQ,KACdmD,EAAMnD,EAAQ,KACdoD,EAAQpD,EAAQ,KAChBqD,EAAOrD,EAAQ,KACfsD,EAAOtD,EAAQ,KACfuD,EAAMvD,EAAQ,KACdwD,EAAQxD,EAAQ,KAChByD,EAAQzD,EAAQ,KAChB0D,EAAO1D,EAAQ,KAEf2D,EAAU3D,EAAQ,KAClB4D,EAAU5D,EAAQ,KA8FII,EAAAwD,UA7F5B,IAAMC,EAAU7D,EAAQ,KAClB8D,EAAS9D,EAAQ,KACjB+D,EAAU/D,EAAQ,KAClBgE,EAAMhE,EAAQ,KACdiE,EAAUjE,EAAQ,KAClBkE,EAAWlE,EAAQ,KAEnBmE,EAAcnE,EAAQ,KACtBoE,EAAYpE,EAAQ,KAEpBqE,EAAWrE,EAAQ,KAEnBsE,EAAUtE,EAAQ,KAClBuE,EAAYvE,EAAQ,KACpBwE,EAAcxE,EAAQ,KACtByE,EAAYzE,EAAQ,KACpB0E,EAAa1E,EAAQ,KACrB2E,EAAa3E,EAAQ,KACrB4E,EAAY5E,EAAQ,KACpB6E,EAAkB7E,EAAQ,KAC1B8E,EAAe9E,EAAQ,KACvB+E,EAAc/E,EAAQ,KAEtBgF,EAAiBhF,EAAQ,KAEzBiF,GACFX,QAAS,IAAIvC,EAAGmD,QAAQZ,GACxBa,SAAU,IAAIpD,EAAGmD,QAAQlC,GACzBD,MAAO,IAAIhB,EAAGmD,QAAQnC,GACtBf,MAAO,IAAID,EAAGmD,QAAQlD,GACtBC,MAAO,IAAIF,EAAGmD,QAAQjD,GACtBC,OAAQ,IAAIH,EAAGmD,QAAQhD,GACvBC,KAAM,IAAIJ,EAAGmD,QAAQ/C,GACrBC,KAAM,IAAIL,EAAGmD,QAAQ9C,GAErBC,UAAW,IAAIN,EAAGmD,QAAQ7C,GAC1BC,WAAY,IAAIP,EAAGmD,QAAQ5C,GAC3BC,SAAU,IAAIR,EAAGmD,QAAQ3C,GACzB6C,SAAU,IAAIrD,EAAGmD,QAAQ1C,GACzBC,UAAW,IAAIV,EAAGmD,QAAQzC,GAC1BC,YAAa,IAAIX,EAAGmD,QAAQxC,GAC5BC,YAAa,IAAIZ,EAAGmD,QAAQvC,GAC5BC,YAAa,IAAIb,EAAGmD,QAAQtC,GAC5BC,SAAU,IAAId,EAAGmD,QAAQrC,GACzBC,SAAU,IAAIf,EAAGmD,QAAQpC,GAEzBqB,YAAa,IAAIpC,EAAGmD,QAAQf,GAC5BC,UAAW,IAAIrC,EAAGmD,QAAQd,GAC1BY,eAAgB,IAAIjD,EAAGmD,QAAQF,GAE/BK,EAAG,IAAItD,EAAGmD,QAAQjC,GAClB9C,EAAG,IAAI4B,EAAGmD,QAAQhC,GAClBoC,EAAG,IAAIvD,EAAGmD,QAAQ/B,GAClBoC,EAAG,IAAIxD,EAAGmD,QAAQ9B,GAClBoC,EAAG,IAAIzD,EAAGmD,QAAQ7B,GAClBoC,EAAG,IAAI1D,EAAGmD,QAAQ5B,GAClBoC,EAAG,IAAI3D,EAAGmD,QAAQ3B,GAClBoC,EAAG,IAAI5D,EAAGmD,QAAQ1B,GAClBoC,EAAG,IAAI7D,EAAGmD,QAAQzB,GAClBoC,EAAG,IAAI9D,EAAGmD,QAAQxB,GAElBC,QAAS,IAAI5B,EAAGmD,QAAQvB,GACxBC,QAAS,IAAI7B,EAAGmD,QAAQtB,GACxBE,OAAQ,IAAI/B,EAAGmD,QAAQpB,GACvBC,QAAS,IAAIhC,EAAGmD,QAAQnB,GACxBC,IAAK,IAAIjC,EAAGmD,QAAQlB,GACpBC,QAAS,IAAIlC,EAAGmD,QAAQjB,GACxBJ,QAAS,IAAI9B,EAAGmD,QAAQrB,GACxBK,SAAU,IAAInC,EAAGmD,QAAQhB,GAEzB4B,OAAQ,IAAI/D,EAAGmD,QAAQb,GAEvBE,UAAW,IAAIxC,EAAGgE,MAAMxB,GACxBE,UAAW,IAAI1C,EAAGgE,MAAMtB,GACxBG,UAAW,IAAI7C,EAAGgE,MAAMnB,GACxBD,WAAY,IAAI5C,EAAGgE,MAAMpB,GACzBH,YAAa,IAAIzC,EAAGgE,MAAMvB,GAC1BE,WAAY,IAAI3C,EAAGgE,MAAMrB,GACzBI,aAAc,IAAI/C,EAAGgE,MAAMjB,GAC3BC,YAAa,IAAIhD,EAAGgE,MAAMhB,GAC1BF,gBAAiB,IAAI9C,EAAGgE,MAAMlB,IAazBzE,EAAA6E,YAAW7E,EAAA4F,QAThBC,UAAW,EACXC,UAAW,EACXC,YAAa,EACbC,gBAAiB,UACjBC,eAAgB,GAChBC,UAAW,GACXC,cAAe,gBAAAC,EAAAC,EAAAtF,GAAA,aAAAnC,OAAA6B,eAAA4F,EAAA,cAAAvF,OAAA,IClHnB,IAAAwF,EAAA,WAII,SAAAA,EAAoBC,GAChBC,KAAKD,OAASA,EAoCtB,OAjCkBD,EAAAG,WAAd,SAAyBF,GACjBC,KAAKE,UAGLC,QAAQC,IAAI,6CAFZJ,KAAKE,UAAY,IAAIJ,EAAcC,IAM7BD,EAAA1F,IAAd,WACI,GAAG4F,KAAKE,UACJ,OAAOF,KAAKE,UAEZ,KAAM,kCAIPJ,EAAAzH,UAAAgI,SAAP,WACI,OAAOL,KAAKD,OAAOO,UAAY,MAE5BR,EAAAzH,UAAAkI,cAAP,WACI,OAAOP,KAAKK,WAAa,GAAK,IAG3BP,EAAAzH,UAAAmI,kBAAP,WACI,OAAOR,KAAKK,YACTI,QAAS,GAAKC,SAAU,KACxBD,QAAS,GAAKC,SAAU,KAGxBZ,EAAAzH,UAAAsI,cAAP,WACI,OAA8B,EAAvBX,KAAKO,iBAGpBT,EAzCA,GAAAD,EAAApF,QAAAT,GAAA,aAAA4F,EAAAC,EAAAtF,GAAA,aAAAnC,OAAA6B,eAAA4F,EAAA,cAAAvF,OAAA,ICTA,IAAAsG,EAAAxH,EAAA,KACAyH,EAAAzH,EAAA,IAEA0H,EAAA,WAKI,SAAAA,KA0FJ,OAvFkBA,EAAA1G,IAAd,WACI,OAAI4F,KAAKE,UACEF,KAAKE,WAEZF,KAAKE,UAAY,IAAIY,EACdd,KAAKE,YAIbY,EAAAzI,UAAA0I,gBAAP,WACI,IAAMC,EAAKH,EAAApG,QAAsBL,MACjC,OAAG4G,EAAGC,wBACKD,EAAGE,oBAGHF,EAAGG,kBAAoB,GAI/BL,EAAAzI,UAAA+I,kBAAP,WACI,OAAOP,EAAApG,QAAsBL,MAAM8G,qBAGhCJ,EAAAzI,UAAAgJ,cAAP,WACI,OAAOR,EAAApG,QAAsBL,MAAMkH,uBAGhCR,EAAAzI,UAAAkJ,eAAP,WACI,OAAOvB,KAAKqB,gBAAgBG,qBAGzBV,EAAAzI,UAAAoJ,cAAP,WACI,OAAOzB,KAAKqB,gBAAgBI,iBAGzBX,EAAAzI,UAAA4I,sBAAP,WACI,OAAOJ,EAAApG,QAAsBL,MAAM6G,yBAGhCH,EAAAzI,UAAAqJ,SAAP,WACI,IAAIb,EAAApG,QAAsBL,MAAM6G,wBAAyB,CACrD,IAAMU,EAAed,EAAApG,QAAsBL,MAAM+G,kBAC3CS,EAAef,EAAApG,QAAsBL,MAAMyH,kBAE9CD,GAAgBd,EAAmBgB,qBAE/BH,IAAiBd,EAAApG,QAAsBL,MAAM2H,SAE5ClB,EAAApG,QAAsBL,MAAM4H,gBAAgBJ,EAAe,IAE3Df,EAAApG,QAAsBL,MAAM4H,gBAAgB,GAC5CnB,EAAApG,QAAsBL,MAAM6H,gBAAgBN,EAAe,IAI/Dd,EAAApG,QAAsBL,MAAM4H,gBAAgBJ,EAAe,KAKhEd,EAAAzI,UAAA6J,YAAP,SAAmBC,GACftB,EAAApG,QAAsBL,MAAMgI,kBAAkBD,IAG3CrB,EAAAzI,UAAAgK,cAAP,SAAqBC,GACjBzB,EAAApG,QAAsBL,MAAMmI,oBAAoB3B,EAAA4B,WAAWC,qBAAqBH,KAG7ExB,EAAAzI,UAAAqK,uBAAP,SAA8BC,GAC1B,OAAO9B,EAAApG,QAAsBL,MAAMsI,uBAAuBC,IAGvD7B,EAAAzI,UAAAuK,cAAP,WACI,IAAM5B,EAAKH,EAAApG,QAAsBL,MAC5B4G,EAAGC,0BACJD,EAAGiB,gBAAgB,GACnBjB,EAAGgB,gBAAgB,KAIpBlB,EAAAzI,UAAAwK,eAAP,WACI,OAAIhC,EAAApG,QAAsBL,MAAMyH,kBAAoBf,EAAmBgB,qBAC5D,QAEGjB,EAAApG,QAAsBL,MAAM+G,kBAAiB,IAAIN,EAAApG,QAAsBL,MAAMyH,mBA3FhFf,EAAAgB,qBAAuB,EA8F1ChB,EA/FA,GAAAjB,EAAApF,QAAqBqG,mFCHrB,IAEYgC,EAFZC,EAAA3J,EAAA,KAEA,SAAY0J,GACRA,EAAAE,kBAAA,kBACAF,EAAAG,iBAAA,iBACAH,EAAAI,UAAA,WACAJ,EAAAK,UAAA,WACAL,EAAAM,QAAA,UACAN,EAAAO,QAAA,UACAP,EAAAQ,KAAA,OAPJ,CAAYR,EAAAtJ,EAAAsJ,SAAAtJ,EAAAsJ,YAUZtJ,EAAA+J,cAAA,WACI,OAAOR,EAAAtI,QAAmBL,MAAM6G,wBAC1B6B,EAAOG,iBACPH,EAAOE,kGCdjB,IAAAQ,EAAApK,EAAA,GACAyH,EAAAzH,EAAA,IAEAqK,EAAA,oBAAAA,KAiEA,OAzDkBA,EAAArJ,IAAd,WACI,OAAIqJ,EAAaC,aACND,EAAaC,cAEpBD,EAAaC,aAAe,IAAID,EACzBA,EAAaC,eAIrBD,EAAApL,UAAAsL,aAAP,WACQ3D,KAAK4D,kBACL5D,KAAK4D,gBAAgBC,OACrB7D,KAAK4D,gBAAkB,OAIxBH,EAAApL,UAAAyL,qBAAP,WACSjD,EAAApG,QAAsBL,MAAM2J,cACxB/D,KAAK4D,kBACN5D,KAAK4D,gBAAkBJ,EAAAnF,UAAUJ,gBACjC+B,KAAK4D,gBAAgBI,OAAS,GAC9BhE,KAAK4D,gBAAgBK,QACrBjE,KAAK4D,gBAAgBM,SAK1BT,EAAApL,UAAA8L,mBAAP,WACOtD,EAAApG,QAAsBL,MAAM2J,cACvB/D,KAAK4D,kBACL5D,KAAK4D,gBAAgBC,OACrB7D,KAAK4D,gBAAkB,OAO5BH,EAAApL,UAAA+L,mBAAP,SAA0BC,EAAcC,GAChCtE,KAAKuE,cAAgBvE,KAAKuE,aAAaC,cACvCxE,KAAKuE,aAAaE,QAClBzE,KAAKuE,aAAe,MAExBvE,KAAK0E,mBAAmBL,EAAOC,IAG3Bb,EAAApL,UAAAqM,mBAAR,SAA2BL,EAAcC,GAChCzD,EAAApG,QAAsBL,MAAM2J,eAC7B/D,KAAKuE,aAAeF,EAChBC,EACAD,EAAMH,OAAOS,KAAKL,GAElBD,EAAMH,SAKtBT,EAjEA,GAAA5D,EAAApF,QAAA1C,GAAA,WAAA6H,EAAAC,EAAAtF,GAAA,iBAAAP,EAAAK,EAAA2F,WAAA4E,YAAA5K,EAAA,SAAA4F,EAAAC,GAAA,OAAA7F,EAAA5B,OAAAyM,iBAAAC,wBAAAC,OAAA,SAAAnF,EAAAC,GAAAD,EAAAkF,UAAAjF,IAAA,SAAAD,EAAAC,GAAA,QAAAtF,KAAAsF,IAAAvH,eAAAiC,KAAAqF,EAAArF,GAAAsF,EAAAtF,MAAAqF,EAAAC,IAAA,SAAAD,EAAAC,GAAA,SAAAtF,IAAAyF,KAAAgF,YAAApF,EAAA5F,EAAA4F,EAAAC,GAAAD,EAAAvH,UAAA,OAAAwH,EAAAzH,OAAA6M,OAAApF,IAAAtF,EAAAlC,UAAAwH,EAAAxH,UAAA,IAAAkC,KAAAnC,OAAA6B,eAAA4F,EAAA,cAAAvF,OAAA,ICJA,IAAA4K,EAAA9L,EAAA,GAEA+L,EAAA/L,EAAA,IACAgM,EAAAhM,EAAA,IACAoK,EAAApK,EAAA,GACAiM,EAAAjM,EAAA,IAEAkM,EAAA,SAAAC,GAKI,SAAAD,EAAmBE,EAAqBC,EAAyBC,GAAjE,IAAAC,EACIJ,EAAAhN,KAAAyH,OAAOA,YAwBH2F,EAAAC,OAAqB,WACpBD,EAAKD,WACNC,EAAKE,OAAOC,eACZH,EAAKE,OAAOE,UAAU,IAAIZ,EAAAa,OAAO,OAKjCL,EAAAM,QAAsB,WACrBN,EAAKD,WACNC,EAAKE,OAAOC,eACZH,EAAKE,OAAOE,UAAU,IAAIZ,EAAAa,OAAO,OAKjCL,EAAAO,OAAqB,WACpBP,EAAKD,UACNC,EAAKE,OAAOC,gBAzChBH,EAAKD,SAAWA,MAChBC,EAAKE,OAAS,IAAIX,EAAAiB,OAAOX,EAAS,EAAG,EAAGA,EAAQY,MAAOZ,EAAQa,QAC/DV,EAAKW,WAAWX,EAAKE,QACrBF,EAAKY,GAAG,cAAeZ,EAAKC,QAC5BD,EAAKY,GAAGrB,EAAAsB,WAAWC,UAAWd,EAAKe,eAAejB,IAClDE,EAAKY,GAAG,eAAgBZ,EAAKM,SAC7BN,EAAKY,GAAG,eAAgBZ,EAAKO,UA2CrC,OAxDwCtB,EAAAU,EAAAC,GAgB7BD,EAAAjN,UAAAsO,UAAP,WACI,OAAO3G,KAAK6F,QAGRP,EAAAjN,UAAAqO,eAAR,SAAuBjB,GAAvB,IAAAE,EAAA3F,KACI,OAAOqF,EAAAuB,cAAc,WACZjB,EAAKD,WACNC,EAAKE,OAAOC,eACZV,EAAA3K,QAAaL,MAAMgK,mBAAmBZ,EAAAnF,UAAUF,aAChDsH,QA2BLH,EAAAjN,UAAAwO,YAAP,SAAmBnB,GACf1F,KAAK0F,SAAWA,GAGxBJ,EAxDA,CAAwCJ,EAAA4B,kGCPxC,IAAA5B,EAAA9L,EAAA,GAcA,SAAS2N,EAA2BC,EAAsBC,EAAqBC,EAAoBC,EAAmBC,EAAyB1G,GAE3I,IAAM2G,EAAeD,GAAkC,EACjDE,EAAYN,EAAeK,EAC3BE,EAAWN,EAAcI,EACzBG,EAAeD,EAAWJ,EAEhC,GAAKK,EAAeN,EAAcF,EAAc,CAE5C,IACMS,EADAC,EAAgBJ,EAAYJ,EAElC,OACId,MAAOe,GAFLM,EAAa/G,EAAWgH,EAAgBhH,EAAWgH,GAGrDrB,OAAQiB,EACRK,MAAO,IAAIzC,EAAA0C,OAAOH,EAAYA,IAIlC,OACIrB,MAAOmB,EACPlB,OAAQa,GAHNO,EAAa/G,EAAW8G,EAAe9G,EAAW8G,GAIpDG,MAAO,IAAIzC,EAAA0C,OAAOH,EAAYA,IAkBtCjO,EAAAqO,kCA3CJ,SAA2Cb,EAAsBC,EAAqBzB,EAAkB4B,EAAyB1G,GAC7H,OAAOqG,EAA2BC,EAAcC,EAAazB,EAAQa,OAAQb,EAAQY,MAAOgB,EAAgB1G,IAyC5GlH,EAAAuN,6BAEAvN,EAAAoN,cAdJ,SAAuBnB,GACnB,OAAO,SAACqC,GACsB,cAAlBA,EAAMC,GAAGC,MAETvC,uFC5ChB,IAAAwC,EAAA7O,EAAA,IACAwH,EAAAxH,EAAA,KACA8O,EAAA9O,EAAA,KAEA+O,EAAA/O,EAAA,IAkCAgP,EAAA,WAwBI,SAAAA,EAAoBC,EAChBC,EACAC,EACAC,EACAzG,EACA0G,EACA9G,EACAC,EACA8G,EACAC,EACAC,GAEA5I,KAAK6I,SAAWR,EAChBrI,KAAKsI,oBAAsBA,EAC3BtI,KAAK8I,iBAAmBP,EACxBvI,KAAKwI,eAAiBA,EACtBxI,KAAK+B,SAAWA,EAChB/B,KAAK+I,cAAgBN,EACrBzI,KAAK2B,aAAeA,EACpB3B,KAAK4B,aAAeA,EACpB5B,KAAK0I,UAAYA,EACjB1I,KAAK2I,aAAeA,EACpB3I,KAAK4I,WAAaA,EA8J1B,OA3JkBR,EAAAhO,IAAd,WACI,OAAO4F,KAAKE,WAGFkI,EAAAnI,WAAd,eAAA0F,EAAA3F,KAQI,OAPAkI,EAAYc,QACRlP,KAAM,eACNmP,QAAS,EACTC,KAAM,QACNC,UAAW,iBACXC,YAAa,oBAEVlB,EAAYmB,QAAQjB,EAAsBkB,UAAW,SAACzJ,EAAG0J,GAE5D,GADApJ,QAAQC,IAAI,2BAA4BmJ,IACpC1J,EACAM,QAAQC,IAAI,kCAAkCP,GAC9C8F,EAAKzF,UAAYkI,EAAsBoB,aACpC,GAAKD,EAEL,CACH,IAAME,EAAgBF,EACG,IAArBE,EAASR,UACTtD,EAAKzF,UAAYkI,EAAsBsB,cAAcD,SAJzD9D,EAAKzF,UAAYkI,EAAsBoB,WAiB5CpB,EAAA/P,UAAAsR,cAAP,SAAqBC,GACb5J,KAAKiB,wBACLjB,KAAK2I,aAAeV,EAAA4B,SAASC,WAAWF,GAExC5J,KAAK0I,UAAYT,EAAA4B,SAASC,WAAWF,GAEzC5J,KAAK+J,iBAGF3B,EAAA/P,UAAA2R,aAAP,WACI,OAAIhK,KAAKiB,wBACEjB,KAAK2I,aAEL3I,KAAK0I,WAIbN,EAAA/P,UAAA4J,gBAAP,SAAuBgI,GACnBjK,KAAK2B,aAAesI,EACpBjK,KAAK+J,iBAGF3B,EAAA/P,UAAA2J,gBAAP,SAAuBkI,GACnBlK,KAAK4B,aAAesI,EACpBlK,KAAK+J,iBAGF3B,EAAA/P,UAAA+J,kBAAP,SAAyB+H,GACrBnK,KAAKwI,eAAiB2B,EACtBnK,KAAK+J,iBAGF3B,EAAA/P,UAAAkK,oBAAP,SAA2B6H,GACvBpK,KAAK8I,iBAAmBsB,EACxBpK,KAAK+J,iBAGF3B,EAAA/P,UAAA0L,WAAP,WACI,OAAO/D,KAAK6I,UAGTT,EAAA/P,UAAAgS,cAAP,SAAqBtG,GACjB/D,KAAK6I,SAAW9E,EAChB/D,KAAK+J,iBAGF3B,EAAA/P,UAAA8I,gBAAP,WACI,OAAOnB,KAAK2B,cAGTyG,EAAA/P,UAAAwJ,gBAAP,WACI,OAAO7B,KAAK4B,cAGTwG,EAAA/P,UAAAiJ,oBAAP,WACI,OAAOtB,KAAK8I,kBAGTV,EAAA/P,UAAA6I,kBAAP,WACI,OAAOlB,KAAKwI,gBAGTJ,EAAA/P,UAAAqK,uBAAP,SAA8B4H,GAC1BtK,KAAKsI,oBAAsBgC,EAC3BtK,KAAK+J,iBAGF3B,EAAA/P,UAAA4I,sBAAP,WACI,OAAOjB,KAAKsI,qBAGTF,EAAA/P,UAAAkS,cAAP,WACI,OAAOvK,KAAK4I,YAGTR,EAAA/P,UAAAmS,cAAP,SAAqBC,GACjBzK,KAAK4I,WAAa6B,EAClBzK,KAAK+J,iBAGD3B,EAAA/P,UAAAqS,YAAR,WACI,OACIzB,QAAS,EACTJ,SAAU7I,KAAK6I,SACfP,oBAAqBtI,KAAKsI,oBAC1BQ,iBAAkB9I,KAAK8I,iBAAiB6B,qBACxCnC,eAAgBxI,KAAKwI,eACrBzG,SAAU/B,KAAK+B,SACfgH,cAAe/I,KAAK+I,cAAc4B,qBAClChJ,aAAc3B,KAAK2B,aACnBC,aAAc5B,KAAK4B,aACnB8G,UAAW1I,KAAK0I,UAAUkC,IAAI,SAAAC,GAAK,OAAAA,EAAEC,gBAAeC,OAAO,MAC3DpC,aAAc3I,KAAK2I,aAAaiC,IAAI,SAAAC,GAAK,OAAAA,EAAEC,gBAAeC,OAAO,MACjEnC,WAAY5I,KAAK4I,aAKVR,EAAAsB,cAAf,SAA6BsB,GACzB,OAAO,IAAI5C,EACP4C,EAAKnC,SACLmC,EAAK1C,oBACL1H,EAAA4B,WAAWC,qBAAqBuI,EAAKlC,kBACrCkC,EAAKxC,eACLwC,EAAKjJ,SACLnB,EAAA4B,WAAWC,qBAAqBuI,EAAKjC,eACrCiC,EAAKrJ,aACLqJ,EAAKpJ,aACLqG,EAAA4B,SAASC,WAAWkB,EAAKtC,WAAWkC,IAAI,SAAAvR,GAAK,OAAA8O,EAAA8C,UAAUC,cAAc7R,KACrE4O,EAAA4B,SAASC,WAAWkB,EAAKrC,cAAciC,IAAI,SAAAvR,GAAK,OAAA8O,EAAA8C,UAAUC,cAAc7R,KACxE2R,EAAKpC,aAILR,EAAA/P,UAAA0R,cAAR,WACI7B,EAAYiD,QACR/C,EAAsBkB,UACtBtJ,KAAK0K,gBAxMEtC,EAAAkB,UAAY,qBAEZlB,EAAAoB,QAAiC,IAAIpB,MAAsB,EAAcxH,EAAA4B,WAAW4I,UAAW,EAAG,EAAGxK,EAAA4B,WAAW6I,OAAQ,EAAG,EAAGpD,EAAA4B,SAASyB,QAASrD,EAAA4B,SAASyB,QAAS,GAyMrLlD,EA5MA,GAAAvI,EAAApF,QAAqB2N,0FCtCrB,IAAAlD,EAAA9L,EAAA,GACAoK,EAAApK,EAAA,GAEAmS,EAAA,WAMI,SAAAA,IACIvL,KAAKwL,YAAc,IAAItG,EAAAuG,WAAWjI,EAAAnF,UAAUa,OAAQ,6CAAiD,GAAI,EAAG,GAAI,KAexH,OAZkBqM,EAAAnR,IAAd,WACI,OAAG4F,KAAKE,UACGF,KAAKE,UAEL,IAAIqL,GAIZA,EAAAlT,UAAAqT,QAAP,WACI,OAAO1L,KAAKwL,aAGpBD,EAtBA,GAAA1L,EAAApF,QAAA1C,GAAA,SAAA6H,EAAAC,EAAAtF,GAAA,aAAAnC,OAAA6B,eAAA4F,EAAA,cAAAvF,OAAA,ICHA,IAAA4K,EAAA9L,EAAA,GACAoK,EAAApK,EAAA,GAEAuS,EAAA,WAII,SAAAA,EAAYvF,EAAeC,GACvB,IAAMuF,EAAOpI,EAAAnF,UAAUD,eACjByN,EAAeC,KAAKC,KAAK3F,EAAQwF,EAAKxF,OACtC4F,EAAeF,KAAKC,KAAK1F,EAASuF,EAAKvF,QAGvC4F,EAAU,IAAI/G,EAAAgH,QAAQ,EAAG,EAAGN,EAAKxF,MAAOwF,EAAKvF,OAAQ2F,EAAcH,GACzEI,EAAQE,oBAHQ,aAGqB,IAAIjH,EAAAkH,YAAYR,EAAM,EAAG,EAAGA,EAAKxF,MAAOwF,EAAKvF,SAElF,IADA,IAAMgG,EAAa,IAAInH,EAAAoH,WAJP,aAI2B,GAClCC,EAAM,EAAGA,EAAMP,EAAeH,EAAcU,IAEjDN,EAAQO,eAAeD,GAAKE,WAAWJ,GAE3CrM,KAAKiM,QAAUA,EAcvB,OAXYN,EAAAtT,UAAAqU,WAAR,WACI,OAAO1M,KAAKiM,SAGFN,EAAAgB,kBAAd,SAAgC5M,GAC5B,OAAO,IAAI4L,EAAkB5L,EAAOO,UAAWP,EAAO6M,YAAYF,cAGxDf,EAAAkB,iBAAd,SAA+BzG,EAAOC,GAClC,OAAO,IAAIsF,EAAkBvF,EAAOC,GAAQqG,cAEpDf,EA/BA,GAAA9L,EAAApF,QAAA1C,GAAA,gBAAA6H,EAAAC,EAAAtF,GAAA,iBAAAP,EAAAK,EAAA2F,WAAA4E,YAAA5K,EAAA,SAAA4F,EAAAC,GAAA,OAAA7F,EAAA5B,OAAAyM,iBAAAC,wBAAAC,OAAA,SAAAnF,EAAAC,GAAAD,EAAAkF,UAAAjF,IAAA,SAAAD,EAAAC,GAAA,QAAAtF,KAAAsF,IAAAvH,eAAAiC,KAAAqF,EAAArF,GAAAsF,EAAAtF,MAAAqF,EAAAC,IAAA,SAAAD,EAAAC,GAAA,SAAAtF,IAAAyF,KAAAgF,YAAApF,EAAA5F,EAAA4F,EAAAC,GAAAD,EAAAvH,UAAA,OAAAwH,EAAAzH,OAAA6M,OAAApF,IAAAtF,EAAAlC,UAAAwH,EAAAxH,UAAA,IAAAkC,KAAAnC,OAAA6B,eAAA4F,EAAA,cAAAvF,OAAA,ICHA,IAWYwS,EAXZ3R,EAAA/B,EAAA,GACAoK,EAAApK,EAAA,GAEA8L,EAAA9L,EAAA,GACA+L,EAAA/L,EAAA,IACAgM,EAAAhM,EAAA,IACA2J,EAAA3J,EAAA,IAEA2T,EAAA3T,EAAA,IAGA,SAAY0T,GACRA,EAAAE,KAAA,OACAF,EAAAG,SAAA,WACAH,EAAAI,OAAA,SACAJ,EAAAK,OAAA,SAJJ,CAAYL,EAAAtT,EAAAsT,WAAAtT,EAAAsT,cAWZ,IAAAM,EAAA,SAAA7H,GAUI,SAAA6H,EAAmBC,EAAyBC,EAAaf,EAAa9G,EAAyB8H,EAAqBvF,EAAgBxC,GAApI,IAAAG,EACIJ,EAAAhN,KAAAyH,OAAOA,KAoBH2F,EAAAM,QAAsB,WAC1BN,EAAK6H,WAAW1H,eAChBH,EAAK6H,WAAWzH,UAAU,IAAIZ,EAAAa,OAAO,MAGjCL,EAAAO,OAAqB,WACzBP,EAAK6H,WAAW1H,gBA+EZH,EAAA8H,UAAwB,WAC5B,IAAIpJ,EACAsB,EAAK+H,WAAaZ,EAASG,SAC3B5I,EAAQb,EAAAnF,UAAUR,UACX8H,EAAK+H,WAAaZ,EAASK,OAClC9I,EAAQb,EAAAnF,UAAUP,WACX6H,EAAK+H,WAAaZ,EAASE,KAClC3I,EAAQb,EAAAnF,UAAUL,UACX2H,EAAK+H,WAAaZ,EAASI,SAClC7I,EAAQb,EAAAnF,UAAUT,aAEtBwH,EAAA3K,QAAaL,MAAMgK,mBAAmBC,IAnHtCsB,EAAK+H,SAAW1F,EAChBrC,EAAKgI,gBAAkBlI,EACvBE,EAAK4G,IAAMA,EACX5G,EAAK2H,IAAMA,EACX3H,EAAKiI,WACLjI,EAAKH,QAAUA,EACf,IAAMqI,EAAoBT,EAAKU,mBAAoC,EAAjBT,EAAaU,EAAwB,EAAjBV,EAAaW,UACnFrI,EAAK6H,WAAaJ,EAAKvH,OAAOrC,EAAAnF,UAAU7C,KAAMqS,EAAKlG,OACnDhC,EAAKW,WAAW,OAAQX,EAAK6H,YAC7B7H,EAAKW,WAAW,OAAQ8G,EAAKvH,OAAOF,EAAKH,QAASqI,EAAKlG,QACvDhC,EAAKsI,SAASJ,EAAKzH,OACnBT,EAAKuI,UAAUL,EAAKxH,QACpBV,EAAKY,GAAG,YAAaZ,EAAKwI,aAC1BxI,EAAKY,GAAG,eAAgBZ,EAAKM,SAC7BN,EAAKY,GAAG,eAAgBZ,EAAKO,QAC7BP,EAAKqI,EAAIZ,EAAKgB,MAAMd,EAAKO,EAAKzH,MAAOiH,GAAgBQ,EAAKzH,MAC1DT,EAAKoI,EAAIX,EAAKiB,MAAMR,EAAKxH,OAAQkG,EAAKc,GAAgBQ,EAAKxH,SAmJnE,OA/K0BzB,EAAAwI,EAAA7H,GAwCP6H,EAAAgB,MAAf,SAAqBd,EAAagB,EAAmBC,GAKjD,OAJiBA,EAAOP,EAChBjL,EAAAtI,QAAmBL,MAAM2G,kBAAoB,EAAKuN,GAClDvL,EAAAtI,QAAmBL,MAAM2G,kBAAoB,GAAKyC,EAAApE,OAAOG,YAAe,EAE7D+O,EAAYhB,EAAQ9J,EAAApE,OAAOG,YAAc+N,GAGjDF,EAAAiB,MAAf,SAAqBG,EAAoBjC,EAAagC,GAMlD,OALYA,EAAOR,EACZhB,EAAAtS,QAAcL,MAAMuG,gBAAkB,EACrCoC,EAAAtI,QAAmBL,MAAM2G,kBAAoB,EAAKyN,GAClDzL,EAAAtI,QAAmBL,MAAM2G,kBAAoB,GAAKyC,EAAApE,OAAOG,YAAe,EAElEiP,EAAajC,EAAQ/I,EAAApE,OAAOG,YAAcgN,GAG9Ca,EAAAU,mBAAd,SAAiC9G,EAAsBC,GAC7C,IAAAwH,EAAAjL,EAAAnF,UAAA7C,KAAE6K,EAAAoI,EAAApI,OAAQD,EAAAqI,EAAArI,MACVsI,EAAe1H,EAAe+F,EAAAtS,QAAcL,MAAMuG,gBAClD2G,EAAY8F,EAAKuB,kBAAkBD,GACnCnH,EAAW6F,EAAKwB,iBAAiB3H,GACjCO,EAAeD,EAAWnB,EAEhC,GAAKoB,GAAgBnB,GAAUtD,EAAAtI,QAAmBL,MAAM2G,kBAAoB,IAAO2N,EAAc,CAE7F,IAAMhH,EAAgBJ,EAAYjB,EAClC,OACID,MAAOA,EAAQsB,EACfrB,OAAQiB,EACRK,MAAO,IAAIzC,EAAA0C,OAAOF,EAAeA,IAGrC,OACItB,MAAOmB,EACPlB,OAAQA,EAASmB,EACjBG,MAAO,IAAIzC,EAAA0C,OAAOJ,EAAcA,KAK7B4F,EAAAuB,kBAAf,SAAiC3H,GAE7B,MAD4C,IAAfA,GACGjE,EAAAtI,QAAmBL,MAAM2G,kBAAoB,GAAMyC,EAAApE,OAAOG,aAG/E6N,EAAAwB,iBAAf,SAAgC3H,GAE5B,MADoC,IAAdA,GACGlE,EAAAtI,QAAmBL,MAAM2G,kBAAoB,GAAMyC,EAAApE,OAAOG,aAGxE6N,EAAAvH,OAAf,SAAsBL,EAAqBmC,GACvC,IAAM9B,EAAoB,IAAIX,EAAAiB,OAAOX,EAAS,EAAG,EAAGA,EAAQY,MAAOZ,EAAQa,QAE3E,OADAR,EAAO8B,MAAQA,EACR9B,GAGHuH,EAAA/U,UAAA8V,YAAR,WACSnO,KAAK4N,UACN5N,KAAK6O,mBACLzJ,EAAA3K,QAAaL,MAAMgK,mBACfZ,EAAAnF,UAAUV,UACVqC,KAAKyN,WAETzN,KAAK2N,oBAINP,EAAA/U,UAAAwW,iBAAP,WACI7O,KAAK4N,WACL5N,KAAK8O,WAAW,SAEb1B,EAAA/U,UAAA2P,KAAP,WACI,OAAOhI,KAAK0N,UAiBTN,EAAA/U,UAAA0W,OAAP,WACI,OAAO/O,KAAKuM,KAGTa,EAAA/U,UAAA2W,OAAP,WACI,OAAOhP,KAAKsN,KAGTF,EAAA/U,UAAA4W,UAAP,WACI,OAAOjP,KAAK4N,SAGFR,EAAA8B,SAAd,SAAuB7B,EAAyBd,EAAae,EAAa7H,GACtE,OAAO,IAAI2H,EAAKC,EAAcC,EAAKf,EAAK9G,EAAStK,EAAGgU,MAAMC,MAAOtC,EAASG,SAAUzJ,EAAAnF,UAAUhD,QAGpF+R,EAAA9R,OAAd,SAAqB+R,EAAyBd,EAAae,EAAa7H,GACpE,OAAO,IAAI2H,EAAKC,EAAcC,EAAKf,EAAK9G,EAAStK,EAAGgU,MAAME,IAAKvC,EAASI,OAAQ1J,EAAAnF,UAAU/C,SAGhF8R,EAAAkC,OAAd,SAAqBjC,EAAyBd,EAAae,EAAa7H,GACpE,OAAO,IAAI2H,EAAKC,EAAcC,EAAKf,EAAK9G,EAAStK,EAAGgU,MAAMI,KAAMzC,EAASK,OAAQ3J,EAAAnF,UAAUjD,QAGjFgS,EAAA7R,KAAd,SAAmB8R,EAAyBd,EAAae,EAAa7H,GAClE,OAAO,IAAI2H,EAAKC,EAAcC,EAAKf,EAAK9G,EAAStK,EAAGgU,MAAMK,OAAQ1C,EAASE,KAAMxJ,EAAAnF,UAAU9C,OAGjF6R,EAAAnI,OAAd,SAAqBoI,EAAyBd,EAAae,EAAamC,EAAwCzH,EAAgB4F,GAC5H,IAAIpS,EAcJ,OAbIwM,IAAS8E,EAASG,SAClBzR,EAAO4R,EAAK8B,SAAS7B,EAAcd,EAAKe,EAAKmC,EAAiBC,sBACvD1H,IAAS8E,EAASK,OACzB3R,EAAO4R,EAAKkC,OAAOjC,EAAcd,EAAKe,EAAKmC,EAAiBE,oBACrD3H,IAAS8E,EAASE,KACzBxR,EAAO4R,EAAK7R,KAAK8R,EAAcd,EAAKe,EAAKmC,EAAiBG,kBACnD5H,IAAS8E,EAASI,SACzB1R,EAAO4R,EAAK9R,OAAO+R,EAAcd,EAAKe,EAAKmC,EAAiBI,qBAG5DjC,GACApS,EAAKqT,mBAEFrT,GAEf4R,EA/KA,CAA0BjS,EAAG2L,OAAhBtN,EAAA4T,uaCtBb,IAAA0C,EAAA1W,EAAA,IACA8L,EAAA9L,EAAA,GACAoK,EAAApK,EAAA,GAGA2W,EAAA,SAAAxK,GAEI,SAAAwK,EAAmBhQ,EAAgBmG,GAAnC,IAAAP,EAAA3F,KACUwF,EAAUhC,EAAAnF,UAAUjB,WAC1BuI,EAAAJ,EAAAhN,KAAAyH,KAAMwF,EAASU,IAAOlG,MACjB2H,MAAQ,IAAIzC,EAAA0C,OAAOpE,EAAApE,OAAOK,eAAiB+F,EAAQY,MAAO5C,EAAApE,OAAOK,eAAiB+F,EAAQa,QAC/FV,EAAKuI,UAAU1K,EAAApE,OAAOK,gBACtBkG,EAAKsI,SAASzK,EAAApE,OAAOK,gBACrBkG,EAAKqI,EAAIjO,EAAOO,UAAYkD,EAAApE,OAAOK,eAAiB,EAAI+D,EAAApE,OAAOG,YAC/DoG,EAAKoI,EAAIvK,EAAApE,OAAOK,eAAiB,EAAI+D,EAAApE,OAAOG,cAEpD,OAXgCqF,EAAAmL,EAAAxK,GAWhCwK,EAXA,CAAgCD,EAAArV,SAAnBjB,EAAAuW,4aCLb,IAAA7K,EAAA9L,EAAA,GACA4W,EAAA5W,EAAA,IACAoK,EAAApK,EAAA,GACA6W,EAAA7W,EAAA,KAEA0W,EAAA1W,EAAA,IAEA8W,EAAA,SAAA3K,GAKI,SAAA2K,EAAYnQ,GAAZ,IAAA4F,EACIJ,EAAAhN,KAAAyH,KAAMD,IAAOC,YACb2F,EAAK5F,OAASA,EACd4F,EAAKwK,UAAY,IAAIF,EAAAxV,QAAUsF,GAC/B4F,EAAKyK,IAAIzK,EAAKwK,aAyBtB,OAlCuCvL,EAAAsL,EAAA3K,GAY5B2K,EAAA7X,UAAAgY,aAAP,SAAoBC,GACZA,EAAwBtQ,KAAKD,OAAO6M,WACpC5M,KAAKuQ,WAAWP,EAAAvV,QAAkBoS,iBAAiB7M,KAAKD,OAAOO,UAAWgQ,EAAwB9M,EAAApE,OAAOO,gBAEzGK,KAAKuQ,WAAWP,EAAAvV,QAAkBkS,kBAAkB3M,KAAKD,UAI1DmQ,EAAA7X,UAAAmY,WAAP,SAAkBF,GACdtQ,KAAKmQ,UAAUM,gBAAgBzQ,KAAKD,OAAO6M,WAAa,GAAK0D,EAAwBtQ,KAAKD,OAAO6M,YAAcpJ,EAAApE,OAAOO,eACtHK,KAAK0Q,OAAOC,SAASC,gBAAgB5Q,KAAKmQ,UAAWjL,EAAA2L,KAAKC,IAGvDZ,EAAA7X,UAAA0Y,aAAP,SAAoBlD,EAAmBG,EAAWD,EAAWvI,EAAkBC,GAC3E,IAAMuL,EAAS,IAAIlB,EAAArV,QAAW+K,EAASC,GAMvC,OALAuL,EAAOhD,EAAIA,EACXgD,EAAOjD,EAAIA,EACXiD,EAAOrJ,MAAQkG,EAAKlG,MACpBqJ,EAAO9C,UAAUL,EAAKxH,QACtB2K,EAAO/C,SAASJ,EAAKzH,OACd4K,GAEfd,EAlCA,CAAuChL,EAAA+L,kGCLvC,IAAAhJ,EAAA7O,EAAA,IAEA6R,EAAA,WAOI,SAAAA,EAAYd,EAAkB+G,EAAqBC,EAAgBC,EAAgBC,GAC/ErR,KAAKmK,SAAWA,EAChBnK,KAAKkR,KAAOA,EACZlR,KAAKmR,OAASA,EACdnR,KAAKoR,OAASA,EACdpR,KAAKqR,MAAQA,EA8CrB,OA3CWpG,EAAA5S,UAAAiZ,YAAP,WACI,OAAOtR,KAAKmK,UAGTc,EAAA5S,UAAA2R,aAAP,WACI,OAAOhK,KAAKkR,MAGTjG,EAAA5S,UAAAkZ,UAAP,WACI,OAAOvR,KAAKmR,QAGTlG,EAAA5S,UAAAmZ,UAAP,WACI,OAAOxR,KAAKoR,QAGTnG,EAAA5S,UAAAoZ,SAAP,WACI,OAAOzR,KAAKqR,OAGTpG,EAAA5S,UAAAyS,YAAP,WACI,IAAMnB,EAAkC1B,EAAAyJ,OAAOC,SAAQ/Y,MAAfqP,EAAAyJ,OAAmB1R,KAAKkR,MAC3DtG,IAAI,SAAA2B,GAAO,OAAAtE,EAAAyJ,OAAOC,SAAQ/Y,MAAfqP,EAAAyJ,OAAmBnF,GAC1B3B,IAAI,SAAAgH,GAAa,OAAAA,EAAU9G,gBAC3B+G,YACJA,UACL,OACIV,OAAQnR,KAAKuR,YACbH,OAAQpR,KAAKwR,YACbH,MAAOrR,KAAKyR,WACZtH,SAAUnK,KAAKsR,cACfJ,KAAMvH,IAIAsB,EAAAC,cAAd,SAA4BF,GACxB,IAAMrB,EAA+B1B,EAAAyJ,OAAOC,SAAQ/Y,MAAfqP,EAAAyJ,OAAmB1G,EAAKkG,MACxDtG,IAAI,SAAA2B,GAAO,OAAAtE,EAAAyJ,OAAOC,SAAQ/Y,MAAfqP,EAAAyJ,OAAmBnF,GAC1B3B,IAAI,SAAAgH,GAAa,OAAAE,EAAU5G,cAAc0G,KACzCC,YACJA,UACL,OAAO,IAAI5G,EAAUD,EAAKb,SAAUR,EAAeqB,EAAKmG,OAAQnG,EAAKoG,OAAQpG,EAAKqG,QAE1FpG,EA1DA,GAAazR,EAAAyR,YA4Db,IAAA6G,EAAA,WAII,SAAAA,EAAY9J,EAAgB4F,GACxB5N,KAAKgI,KAAOA,EACZhI,KAAK4N,QAAUA,EAwBvB,OArBWkE,EAAAzZ,UAAA0Z,QAAP,WACI,OAAO/R,KAAKgI,MAGT8J,EAAAzZ,UAAA4W,UAAP,WACI,OAAOjP,KAAK4N,SAGTkE,EAAAzZ,UAAAyS,YAAP,WACI,OACI9C,KAAMhI,KAAKgI,KACX4F,QAAS5N,KAAK4N,UAIRkE,EAAA5G,cAAd,SAA4BF,GACxB,OAAO,IAAI8G,EACP9G,EAAKhD,KACLgD,EAAK4C,UAGjBkE,EA9BA,GAAatY,EAAAsY,wbChEb,IAAAE,EAAA5Y,EAAA,KACAgM,EAAAhM,EAAA,IACA4W,EAAA5W,EAAA,IACA8L,EAAA9L,EAAA,GACA6Y,EAAA7Y,EAAA,IACA8Y,EAAA9Y,EAAA,IAEA+Y,EAAA,SAAA5M,GAAA,SAAA4M,mDAsBA,OAtB6CvN,EAAAuN,EAAA5M,GAKpC4M,EAAA9Z,UAAA+Z,aAAP,SAAoBrS,GAClBC,KAAKD,OAASA,EACdC,KAAKoQ,IAAIJ,EAAAvV,QAAkBkS,kBAAkB5M,IAC7CC,KAAKoQ,IAAI,IAAI8B,EAAAnC,WAAWhQ,EAAQ,WAAM,OAAAA,EAAOsS,UAAUJ,EAAAnP,OAAOI,cAC9DlD,KAAKsS,YAAcN,EAAAO,gBAAgBtS,WAAWD,KAAKD,SAG9CoS,EAAA9Z,UAAAma,WAAP,eAAA7M,EAAA3F,KACEoF,EAAA3K,QAAaL,MAAM0J,uBACnB9D,KAAKsS,YAAYG,eACdC,QAAQ,SAAA9Y,GAAK,OAAA+L,EAAKyK,IAAIxW,MAGpBuY,EAAA9Z,UAAAsa,aAAP,eAAAhN,EAAA3F,KACEA,KAAKsS,YAAYG,eACdC,QAAQ,SAAA9Y,GAAK,OAAA+L,EAAKiN,OAAOhZ,MAEhCuY,EAtBA,CAA6CjN,EAAA+L,OAAvBzX,EAAA2Y,2ICPtB,IAAAlK,EAAA7O,EAAA,IAOAoJ,EAAA,WAYI,SAAAA,EAAoBqQ,EAAyB3D,EAAkB4D,EAAcC,GACzE/S,KAAK6S,gBAAkBA,EACvB7S,KAAKgT,WAAaF,EAClB9S,KAAMiT,eAAiB/D,EACvBlP,KAAKkT,eAAiBH,EA0B9B,OAvBWvQ,EAAAnK,UAAAmJ,kBAAP,WACI,OAAOxB,KAAKiT,gBAGTzQ,EAAAnK,UAAAoJ,cAAP,WACI,OAAOzB,KAAKgT,YAGTxQ,EAAAnK,UAAAsS,mBAAP,WACI,OAAO3K,KAAK6S,iBAGFrQ,EAAAC,qBAAd,SAAmC0Q,GAC/B,OAAOlL,EAAAyJ,OAAO0B,IACVpT,KAAKoL,UACLpL,KAAKqT,KACLrT,KAAKqL,OACLrL,KAAKsT,KACLtT,KAAKuT,YACNC,OAAO,SAAAC,GAAQ,OAAAA,EAAK9I,uBAAyBwI,IAC/CO,YACAC,YAAY,WAAM,WAAIC,MAAM,2CAvCnBpR,EAAA4I,UAAY,IAAI5I,EAAW,EAAG,EAAK,EAAK,aACxCA,EAAA6Q,KAAO,IAAI7Q,EAAW,EAAG,IAAK,EAAK,QACnCA,EAAA6I,OAAS,IAAI7I,EAAW,EAAG,IAAK,EAAK,UACrCA,EAAA8Q,KAAO,IAAI9Q,EAAW,EAAG,EAAK,EAAK,QACnCA,EAAA+Q,UAAY,IAAI/Q,EAAW,EAAG,EAAK,EAAK,aAqC1DA,EA1CA,GAAahJ,EAAAgJ,8BCPb/I,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,kDAAAgF,EAAAC,EAAAtF,GAAA,iBAAAP,EAAAK,EAAA2F,WAAA4E,YAAA5K,EAAA,SAAA4F,EAAAC,GAAA,OAAA7F,EAAA5B,OAAAyM,iBAAAC,wBAAAC,OAAA,SAAAnF,EAAAC,GAAAD,EAAAkF,UAAAjF,IAAA,SAAAD,EAAAC,GAAA,QAAAtF,KAAAsF,IAAAvH,eAAAiC,KAAAqF,EAAArF,GAAAsF,EAAAtF,MAAAqF,EAAAC,IAAA,SAAAD,EAAAC,GAAA,SAAAtF,IAAAyF,KAAAgF,YAAApF,EAAA5F,EAAA4F,EAAAC,GAAAD,EAAAvH,UAAA,OAAAwH,EAAAzH,OAAA6M,OAAApF,IAAAtF,EAAAlC,UAAAwH,EAAAxH,UAAA,IAAAkC,KAAAnC,OAAA6B,eAAA4F,EAAA,cAAAvF,OAAA,ICAA,IAAAuZ,EAAAza,EAAA,IACA2J,EAAA3J,EAAA,IAEA0a,EAAA,SAAAvO,GAAA,SAAAuO,mDAiBA,OAjBoClP,EAAAkP,EAAAvO,GAG3BuO,EAAAzb,UAAA+Z,aAAP,SAAoBrS,GAClBwF,EAAAlN,UAAM+Z,aAAY7Z,KAAAyH,KAACD,GACnBC,KAAK+T,sBAAwBhR,EAAAtI,QAAmBL,MAAMgH,qBAIjD0S,EAAAzb,UAAAma,WAAP,WACE,IAAMrQ,EAAUY,EAAAtI,QAAmBL,MAAMgH,oBACtCpB,KAAK+T,uBAAyB5R,IAC/BnC,KAAK+T,sBAAwB5R,EAC7BnC,KAAKsS,YAAY0B,eAEnBzO,EAAAlN,UAAMma,WAAUja,KAAAyH,OAEpB8T,EAjBA,CAAoCD,EAAA1B,gBAAvB3Y,EAAAsa,gGCHb,IAAA5O,EAAA9L,EAAA,GACAoK,EAAApK,EAAA,GACA2T,EAAA3T,EAAA,GACA6a,EAAA7a,EAAA,IAEA8a,EAAA,WAMI,SAAAA,EAAoBC,EAAsBC,EAAkBC,GACxDrU,KAAKsU,UAAYH,EACjBnU,KAAKuU,SAAWH,EAChBpU,KAAKqU,WAAaA,EAqD1B,OAlDkBH,EAAAjP,OAAd,SAAqB+I,EAAWD,EAAWoG,GACvC,IAAMK,EAAYN,EAAUO,eAAezG,EAAGD,GAC9C,OAAO,IAAImG,EACPC,EACAK,EACAN,EAAUQ,iBAAiBP,EAAcK,EAAUG,WAAanR,EAAApE,OAAOG,YAAawO,KAIrFmG,EAAA7b,UAAAuc,aAAP,WACI,OAAO5U,KAAKsU,WAGTJ,EAAA7b,UAAAwc,eAAP,SAAsBC,GAClB9U,KAAKsU,UAAYtU,KAAKsU,UAAYQ,EAClC9U,KAAKqU,WAAWtB,KAAO,GAAG/S,KAAKsU,WAG5BJ,EAAA7b,UAAA0c,UAAP,WACI,OACI/U,KAAKuU,SACLvU,KAAKqU,aAIEH,EAAAO,eAAf,SAA8BzG,EAAWD,GACrC,IAAMvI,EAAUhC,EAAAnF,UAAUpB,QACpB4I,EAAS,IAAIX,EAAAiB,OAAOX,EAAS,EAAG,EAAGA,EAAQY,MAAOZ,EAAQa,QAC1DsB,EAAQ,IAAIzC,EAAA0C,OAAOmF,EAAAtS,QAAcL,MAAMmG,gBAAkBiF,EAAQY,MAAO2G,EAAAtS,QAAcL,MAAMmG,gBAAkBiF,EAAQa,QACtH2O,EAAQ,IAAI9P,EAAA4B,MAAMkH,EAAGD,EAAGvI,EAAQY,MAAOZ,EAAQa,QAGrD,OAFA2O,EAAM1O,WAAWT,GACjBmP,EAAMrN,MAAQA,EACPqN,GAGId,EAAAQ,iBAAf,SAAgCP,EAAsBnG,EAAWD,GAC7D,IAAMkH,EAAQ,IAAI/P,EAAAgQ,MACd,GAAGf,EACHnG,EACAD,EACA,KACAkG,EAAAxZ,QAAYL,MAAMsR,WAOtB,OAJAuJ,EAAME,SAAiD,GAAtCpI,EAAAtS,QAAcL,MAAMmG,gBACrC0U,EAAMG,UAAYlQ,EAAAmQ,UAAUC,OAC5BL,EAAMM,UAAYrQ,EAAAsQ,UAAUC,KAC5BR,EAAMS,MAAQxQ,EAAAiK,MAAMwG,QAAQ,WACrBV,GAEff,EA9DA,GAAArU,EAAApF,QAAApB,GAAA,SAAAuG,EAAAC,EAAAtF,GAAA,iBAAAP,EAAAK,EAAA2F,WAAA4E,YAAA5K,EAAA,SAAA4F,EAAAC,GAAA,OAAA7F,EAAA5B,OAAAyM,iBAAAC,wBAAAC,OAAA,SAAAnF,EAAAC,GAAAD,EAAAkF,UAAAjF,IAAA,SAAAD,EAAAC,GAAA,QAAAtF,KAAAsF,IAAAvH,eAAAiC,KAAAqF,EAAArF,GAAAsF,EAAAtF,MAAAqF,EAAAC,IAAA,SAAAD,EAAAC,GAAA,SAAAtF,IAAAyF,KAAAgF,YAAApF,EAAA5F,EAAA4F,EAAAC,GAAAD,EAAAvH,UAAA,OAAAwH,EAAAzH,OAAA6M,OAAApF,IAAAtF,EAAAlC,UAAAwH,EAAAxH,UAAA,IAAAkC,KAAAnC,OAAA6B,eAAA4F,EAAA,cAAAvF,OAAA,ICLA,IAAAa,EAAA/B,EAAA,GACAoK,EAAApK,EAAA,GACAwc,EAAAxc,EAAA,IAEA2J,EAAA3J,EAAA,IACA2T,EAAA3T,EAAA,GAIAyc,EAAA,SAAAtQ,GAMI,SAAAsQ,EAAmB7N,EAAiB8N,EAAezI,EAAyB0I,GAA5E,IAAApQ,EACIJ,EAAAhN,KAAAyH,OAAOA,KACP2F,EAAKqC,KAAOA,EACZrC,EAAKmQ,MAAQA,EACbnQ,EAAK0H,aAAeA,EACpB,IAAMQ,EAAO+H,EAAAxI,KAAKU,mBAAoC,EAAjBT,EAAaU,EAAwB,EAAjBV,EAAaW,UAEtErI,EAAKW,WAAW,IAAKuP,EAAMhQ,OAAOrC,EAAAnF,UAAU,GAAIwP,EAAKlG,QACrDhC,EAAKW,WAAW,IAAKuP,EAAMhQ,OAAOrC,EAAAnF,UAAU,GAAIwP,EAAKlG,QACrDhC,EAAKW,WAAW,IAAKuP,EAAMhQ,OAAOrC,EAAAnF,UAAU,GAAIwP,EAAKlG,QACrDhC,EAAKW,WAAW,IAAKuP,EAAMhQ,OAAOrC,EAAAnF,UAAU,GAAIwP,EAAKlG,QACrDhC,EAAKW,WAAW,IAAKuP,EAAMhQ,OAAOrC,EAAAnF,UAAU,GAAIwP,EAAKlG,QACrDhC,EAAKW,WAAW,IAAKuP,EAAMhQ,OAAOrC,EAAAnF,UAAU,GAAIwP,EAAKlG,QACrDhC,EAAKW,WAAW,IAAKuP,EAAMhQ,OAAOrC,EAAAnF,UAAU,GAAIwP,EAAKlG,QACrDhC,EAAKW,WAAW,IAAKuP,EAAMhQ,OAAOrC,EAAAnF,UAAU,GAAIwP,EAAKlG,QACrDhC,EAAKW,WAAW,IAAKuP,EAAMhQ,OAAOrC,EAAAnF,UAAU,GAAIwP,EAAKlG,QACrDhC,EAAKW,WAAW,IAAKuP,EAAMhQ,OAAOrC,EAAAnF,UAAU,GAAIwP,EAAKlG,QACrDhC,EAAKsI,SAASJ,EAAKzH,OACnBT,EAAKuI,UAAUL,EAAKxH,QACpBV,EAAKqI,EAAI6H,EAAMzH,MAAMpG,EAAM8N,EAAOzI,EAAcQ,EAAKzH,OAASyH,EAAKzH,MACnET,EAAKoI,EAAI8H,EAAMxH,MAAMrG,EAAM8N,EAAOzI,EAAcQ,EAAKxH,QAAUwH,EAAKxH,OACpEV,EAAKqQ,SAASD,KAwCtB,OAnEmCnR,EAAAiR,EAAAtQ,GA8BhBsQ,EAAAzH,MAAf,SAAqBpG,EAAiB8N,EAAevH,EAAmBD,GACpE,IAAM2H,EAAW1H,EAAOP,EAChBjL,EAAAtI,QAAmBL,MAAM2G,kBAAoB,EAAKuN,EACpDA,GACEvL,EAAAtI,QAAmBL,MAAM2G,kBAAoB,GAAKyC,EAAApE,OAAOG,YAAe,EAEhF,MAAa,QAATyI,EACOiO,EAEAA,EAAW3H,EAAaA,EAAYwH,EAAUtS,EAAApE,OAAOG,aAAeuW,EAAQ,IAI5ED,EAAAxH,MAAf,SAAqBrG,EAAiB8N,EAAevH,EAAmBC,GACpE,IAAM0H,EAAM3H,EAAOR,EACbhB,EAAAtS,QAAcL,MAAMuG,gBAAkB,EACpCoC,EAAAtI,QAAmBL,MAAM2G,kBAAoB,EAAKyN,EACpDA,GACEzL,EAAAtI,QAAmBL,MAAM2G,kBAAoB,GAAKyC,EAAApE,OAAOG,YAAe,EAEhF,MAAa,QAATyI,EACOkO,EAEAA,EAAM1H,EAAcA,EAAasH,EAAUtS,EAAApE,OAAOG,aAAeuW,EAAQ,IAIzED,EAAAhQ,OAAf,SAAsBL,EAAqBmC,GACvC,IAAM9B,EAAoBL,EAAQ2Q,WAAWC,QAE7C,OADAvQ,EAAO8B,MAAQA,EACR9B,GAGJgQ,EAAAxd,UAAA2d,SAAP,SAAgBK,GAEZ,OADArW,KAAK8O,WAAW,GAAGuH,GACZrW,MAEf6V,EAnEA,CAAmC1a,EAAG2L,kGCTtC,IAAA8O,EAAAxc,EAAA,IAEA6O,EAAA7O,EAAA,IACA8L,EAAA9L,EAAA,GACA2J,EAAA3J,EAAA,IACA+O,EAAA/O,EAAA,IAGAkd,EAAA,WAQI,SAAAA,EAAoB7G,EAAwCtF,EAAkBkD,GAC1ErN,KAAKuW,cAAgB,EACrBvW,KAAKwW,YAAc,EACnBxW,KAAKyW,WAAa,EAClBzW,KAAKmK,SAAWA,EAChBnK,KAAKkR,KAAOoF,EAAgBI,UAAUvM,EAAUsF,EAAkBpC,GAoI1E,OAjIkBiJ,EAAAK,oBAAd,SAAkClH,EAAwCtF,EAAkByM,EAA4B7W,GACpH,OAAO6W,EACFhM,IAAI,SAAAvR,GAAK,OAAAid,EAAgBO,cAAcpH,EAAkB1P,EAAQ1G,KACjEyd,UAAU,WAAM,OAAAR,EAAgBS,cAActH,EAAkBtF,EAAUpK,MAGrEuW,EAAAS,cAAd,SAA4BtH,EAAwCtF,EAAkBpK,GAClF,IAAMsN,EAAe,IAAInI,EAAA0C,OAAO7H,EAAOO,UAAY,EAAGP,EAAO6M,WAAa,GACpEoK,EAAyB,IAAIV,EAAgB7G,EAAkBtF,EAAUkD,GAG/E,OAFA2J,EAAMC,oBAAoB5J,EAAcoC,EAAiBC,sBACzDsH,EAAME,gBAAgB7J,EAAcoC,GAC7BuH,GAGJV,EAAAje,UAAA8e,iBAAP,WACI,IAAMC,EAA4BnP,EAAAyJ,OAAOC,SAAQ/Y,MAAfqP,EAAAyJ,OAAmB1R,KAAKkR,MACrDtG,IAAI,SAAA2B,GAAO,OAAAtE,EAAAyJ,OAAOC,SAAQ/Y,MAAfqP,EAAAyJ,OAAmBnF,GAC1B3B,IAAI,SAAApP,GAAQ,WAAI2M,EAAA2J,UAAUtW,EAAKwM,OAAQxM,EAAKyT,eAC5C4C,YACJA,UACL,OACI1H,SAAUnK,KAAKmK,SACfyH,UAAWwF,IAIZd,EAAAje,UAAAgf,cAAP,WACI,OAAOpP,EAAAyJ,OAAO0B,GAAGpT,KAAKkR,MACjBoG,QAAQ,SAAAC,GAAK,OAAAtP,EAAAyJ,OAAOC,SAAQ/Y,MAAfqP,EAAAyJ,OAAmB6F,KAChC1F,WAGFyE,EAAAje,UAAA0W,OAAP,SAAcyI,GACV,OAAOvP,EAAAyJ,OAAO0B,GAAGpT,KAAKkR,MACjBoG,QAAQ,SAAAC,GAAK,OAAAtP,EAAAyJ,OAAOC,SAAQ/Y,MAAfqP,EAAAyJ,OAAmB6F,KAChC/D,OAAO,SAAAhY,GAAQ,OAAAA,EAAKuT,UAAYyI,IAChC3F,WAGFyE,EAAAje,UAAA2W,OAAP,SAAcyI,GACV,OAAOxP,EAAAyJ,OAAO0B,GAAGpT,KAAKkR,MACjBoG,QAAQ,SAAAC,GAAK,OAAAtP,EAAAyJ,OAAOC,SAAQ/Y,MAAfqP,EAAAyJ,OAAmB6F,KAChC/D,OAAO,SAAAhY,GAAQ,OAAAA,EAAKwT,UAAYyI,IAChC5F,WAGMyE,EAAAI,UAAf,SAAyBvM,EAAkBsF,EAAwCpC,GAAnF,IAAA1H,EAAA3F,KACI,OAAOiI,EAAAyJ,OAAOgG,MAAM,EAAGvN,GAClBS,IAAI,SAAA+M,GAAU,OAAAhS,EAAKiS,aAAazN,EAAUwN,EAAQlI,EAAkBpC,KACpEwE,WAGMyE,EAAAsB,aAAf,SAA4BzN,EAAkBqN,EAAkB/H,EAAwCpC,GACpG,OAAOpF,EAAAyJ,OAAOgG,MAAM,EAAGvN,GAClBS,IAAI,SAAAiN,GAAe,OAAAjC,EAAAxI,KAAK7R,KAAK8R,EAAcmK,EAAUK,EAAapI,EAAiBG,oBACnFiC,WAGDyE,EAAAje,UAAA4e,oBAAR,SAA4B5J,EAAsBqC,GAC9C,KAAO1P,KAAK8X,qBAAqB,CACvB,IAAArJ,EAAAzO,KAAA+X,cAAExL,EAAAkC,EAAAlC,IAAKe,EAAAmB,EAAAnB,IACTtN,KAAKgY,YAAYzL,EAAKe,IACtBtN,KAAKiY,WAAW1L,EAAKe,EAAKsI,EAAAxI,KAAK8B,SAAS7B,EAAcd,EAAKe,EAAKoC,MAKpE4G,EAAAje,UAAA6e,gBAAR,SAAwB7J,EAAsBoC,GAC1C,KAAOzP,KAAKkY,iBAAiB,CACnB,IAAAzJ,EAAAzO,KAAA+X,cAAExL,EAAAkC,EAAAlC,IAAKe,EAAAmB,EAAAnB,IACTtN,KAAKgY,YAAYzL,EAAKe,IACtBtN,KAAKiY,WAAW1L,EAAKe,EAAKtN,KAAKmY,iBAAiB5L,EAAKe,EAAKD,EAAcoC,MAK5E6G,EAAAje,UAAA+f,oBAAR,SAA4BxB,EAAkBvJ,EAAsBoC,GAApE,IAAA9J,EAAA3F,KACIA,KAAKmK,SAAWyM,EAAMtF,cACtBsF,EAAM5M,eAAe0I,QAAQ,SAACnG,EAAkBiL,GAC5CjL,EAAImG,QAAQ,SAAClX,EAAiBic,GAC1B,IAAMY,EAAczC,EAAAxI,KAAKnI,OAAOoI,EAAcmK,EAAUC,EAAUhI,EAAkBjU,EAAKuW,UAAWvW,EAAKyT,aACzGtJ,EAAKsS,WAAWT,EAAUC,EAAUY,QAKxC/B,EAAAje,UAAA8f,iBAAR,SAAyB5L,EAAae,EAAaD,EAAsBoC,GACrE,OAAO3D,KAAKwM,SAAW,GACjB1C,EAAAxI,KAAKkC,OAAOjC,EAAcd,EAAKe,EAAKmC,EAAiBE,oBACrDiG,EAAAxI,KAAK9R,OAAO+R,EAAcd,EAAKe,EAAKmC,EAAiBI,qBAGvDyG,EAAAje,UAAA4f,WAAR,SAAmB1L,EAAae,EAAa9R,GACrCA,EAAKwM,QAAU4N,EAAA9I,SAASG,SACxBjN,KAAKuW,gBACE/a,EAAKwM,QAAU4N,EAAA9I,SAASK,OAC/BnN,KAAKyW,aACEjb,EAAKwM,QAAU4N,EAAA9I,SAASI,QAC/BlN,KAAKwW,cAETxW,KAAKkR,KAAK3E,GAAKe,GAAO9R,GAGlB8a,EAAAje,UAAA2f,YAAR,SAAoBzL,EAAae,GAC7B,OAAOtN,KAAKkR,KAAK3E,GAAKe,GAAKtF,QAAU4N,EAAA9I,SAASE,MAG1CsJ,EAAAje,UAAAyf,kBAAR,WACI,OAAO9X,KAAKuW,cAAgBzK,KAAKC,KAAO/L,KAAKmK,SAAWnK,KAAKmK,SAAapH,EAAAtI,QAAmBL,MAAMmH,mBAG/F+U,EAAAje,UAAA6f,cAAR,WAEI,OADmBlY,KAAKwW,YAAcxW,KAAKyW,WACvBzW,KAAKuW,cAAgBxT,EAAAtI,QAAmBL,MAAMqH,iBAG9D6U,EAAAje,UAAA0f,YAAR,WACI,OACIxL,IAAKT,KAAKyM,MAAMzM,KAAKwM,SAAWtY,KAAKmK,UACrCmD,IAAKxB,KAAKyM,MAAMzM,KAAKwM,SAAWtY,KAAKmK,YAI9BmM,EAAAO,cAAf,SAA6BpH,EAAwC1P,EAAmB6J,GACpF,IAAMyD,EAAe,IAAInI,EAAA0C,OAAO7H,EAAOO,UAAY,EAAGP,EAAO6M,WAAa,GACpEoK,EAAyB,IAAIV,EAAgB7G,EAAkB7F,EAAU0H,cAAejE,GAE9F,OADA2J,EAAMoB,oBAAoBxO,EAAWyD,EAAcoC,GAC5CuH,GAEfV,EAjJA,GAAa9c,EAAA8c,ibCRb,IAAApR,EAAA9L,EAAA,GACA2T,EAAA3T,EAAA,GAEAof,EAAA,SAAAjT,GAKI,SAAAiT,EAAmBC,EAAkBzK,EAAWD,EAAWvI,GAA3D,IAAAG,EACIJ,EAAAhN,KAAAyH,OAAOA,YACP2F,EAAKqI,EAAIA,EACTrI,EAAKoI,EAAIA,EACTpI,EAAKE,OAAS,IAAIX,EAAAiB,OAAOX,EAAS,EAAG,EAAGA,EAAQY,MAAOZ,EAAQa,QAC/DV,EAAKgC,MAAQ,IAAIzC,EAAA0C,OAAOmF,EAAAtS,QAAcL,MAAMmG,gBAAgBiF,EAAQY,MAAO2G,EAAAtS,QAAcL,MAAMmG,gBAAgBiF,EAAQa,QACvHV,EAAKW,WAAWX,EAAKE,QACrBF,EAAK+S,WAAWD,KAkBxB,OA9ByC7T,EAAA4T,EAAAjT,GAgB9BiT,EAAAngB,UAAAqgB,WAAP,SAAkBD,GAQd,OAPAzY,KAAKyY,QAAUA,EACfzY,KAAK6F,OAAOC,eACT2S,EACCzY,KAAK6F,OAAO8S,QAAQ,GAEpB3Y,KAAK6F,OAAO8S,QAAQH,EAAYI,kBAE7B5Y,MAGJwY,EAAAngB,UAAAwgB,UAAP,WACI,OAAO7Y,KAAKyY,SAzBDD,EAAAI,iBAA2B,GA2B9CJ,EA9BA,CAAyCtT,EAAA4B,iBAApB0R,iFCFrB,IAAAvQ,EAAA7O,EAAA,IACA0f,EAAA1f,EAAA,KACA2T,EAAA3T,EAAA,GAEA2f,EAAA,WAMI,SAAAA,EAAoBC,EAAKC,EAASC,EAAgCC,GAC9DnZ,KAAKiZ,QAAUA,EACfjZ,KAAKgZ,IAAMA,EACXhZ,KAAKoZ,OAASF,EACdlZ,KAAKmZ,WAAaA,EAuD1B,OApDkBJ,EAAA9T,OAAd,SAAqB+I,EAAGD,EAAGiL,EAAaE,EAAgC1T,EAAkByT,GACtF,IAAMI,EAA2BJ,GAAoB,EAC/CE,EAAalR,EAAAyJ,OAAOgG,MAAM,EAAGsB,GAC9BpO,IAAI,SAAA0O,GACD,OAAIA,EAAOD,EAAmB,EACnB,IAAIP,EAAAre,WAAmBuT,EAAKsL,EAAMvM,EAAAtS,QAAcL,MAAMmG,gBAAkBwN,EAAGvI,GAE3E,IAAIsT,EAAAre,WAAkBuT,EAAKsL,EAAMvM,EAAAtS,QAAcL,MAAMmG,gBAAkBwN,EAAGvI,KAGxFqM,UAEL,OAAO,IAAIkH,EACPC,EACAK,EACAH,EACAC,IAMDJ,EAAA1gB,UAAA+X,IAAP,SAAW9V,GAOP,OANK0F,KAAKiZ,QAAU3e,EAAS0F,KAAKgZ,IAC9BhZ,KAAKiZ,QAAUjZ,KAAKgZ,IAEpBhZ,KAAKiZ,QAAUjZ,KAAKiZ,QAAU3e,EAElC0F,KAAKmZ,WAAWnZ,KAAKiZ,QAAU,GAAGP,eAC3B1Y,KAAKiZ,SAITF,EAAA1gB,UAAAkhB,SAAP,SAAgBjf,GAQZ,OAPI0F,KAAKiZ,QAAU3e,GAAS,GACxB0F,KAAKiZ,QAAU,EACfjZ,KAAKoZ,UAELpZ,KAAKiZ,QAAUjZ,KAAKiZ,QAAU3e,EAElC0F,KAAKmZ,WAAWnZ,KAAKiZ,SAASP,eACvB1Y,KAAKiZ,SAITF,EAAA1gB,UAAAmhB,WAAP,WACI,OAAOxZ,KAAKiZ,SAGTF,EAAA1gB,UAAAohB,cAAP,WACI,OAAOzZ,KAAKmZ,YAEpBJ,EAjEA,GAAavf,EAAAuf,mGCLb,IAAAW,EAAAtgB,EAAA,KACAwc,EAAAxc,EAAA,IAEAoK,EAAApK,EAAA,GACA6O,EAAA7O,EAAA,IACAugB,EAAAvgB,EAAA,KACA8L,EAAA9L,EAAA,GACA6Y,EAAA7Y,EAAA,IACAwgB,EAAAxgB,EAAA,KACA2J,EAAA3J,EAAA,IACA2T,EAAA3T,EAAA,GACAyH,EAAAzH,EAAA,IACA+O,EAAA/O,EAAA,IACAygB,EAAAzgB,EAAA,KAGAmZ,EAAA,WAWI,SAAAA,EAAoBxS,GAApB,IAAA4F,EAAA3F,KAkFQA,KAAA8Z,aAAe,WACnBnU,EAAKoU,UAAUrH,QAAQ,SAAC2D,EAAOiD,GAC3BjD,EAAML,SAASrQ,EAAKqU,oBAAoBV,MAG5C3T,EAAKsU,aAAavH,QAAQ,SAAC2D,EAAOiD,GAC9BjD,EAAML,SAASrQ,EAAKuU,oBAAoBZ,OAkCzCtZ,KAAA0P,qBAAuB,WACtB/J,EAAKwU,kBAAkBX,aAAe,EACtC7T,EAAKwU,kBAAkBZ,SAAS,GAEhC5T,EAAKyU,kBAAkBb,SAAS,GAEpC5T,EAAKmU,eACLnU,EAAK0U,mBACL1U,EAAK2U,uBAGFta,KAAA4P,iBAAmB,WACtBjK,EAAK2O,UAAUO,eAAe,GAC9BlP,EAAK0U,mBACL1U,EAAK2U,uBAGFta,KAAA2P,mBAAqB,WACxBhK,EAAKwU,kBAAkB/J,IAAI,GAC3BzK,EAAK0U,mBACL1U,EAAK2U,uBAGFta,KAAA6P,mBAAqB,WACxBlK,EAAKyU,kBAAkBhK,IAAI,GAC3BzK,EAAK0U,mBACL1U,EAAK2U,uBAnJLta,KAAKD,OAASA,EACdC,KAAKgU,cA+Jb,OA5JkBzB,EAAAtS,WAAd,SAAyBF,GAErB,OADqC,IAAIwS,EAAgBxS,IAItDwS,EAAAla,UAAA2b,UAAP,SAAiBuG,GACb,IAAMC,EAAoBzN,EAAAtS,QAAcL,MAClCqgB,EAAiC5Z,EAAApG,QAAsBL,MAAM4P,eACnEhK,KAAKoa,kBAAoBV,EAAAX,kBAAkB9T,OAAOuV,EAAGja,gBAAkB,EAAGia,EAAGja,gBAAkB,EAAGiD,EAAApE,OAAOC,UAAW,aAAWmE,EAAAnF,UAAUrB,QAASyd,EAAU7P,IAAI,SAAAvR,GAAK,OAAAA,EAAEkY,cAAaxG,OAAOvH,EAAApE,OAAOC,YAClMW,KAAKma,kBAAoBT,EAAAX,kBAAkB9T,OAAOuV,EAAGja,gBAAkB,EAAwB,IAArBia,EAAGja,gBAAuBiD,EAAApE,OAAOE,UAAW,aAAWkE,EAAAnF,UAAUtB,QAAS0d,EAAU7P,IAAI,SAAAvR,GAAK,OAAAA,EAAEmY,cAAazG,OAAO,IAC7L/K,KAAKsU,UAAYuF,EAAApf,QAAUwK,OAAOuV,EAAGja,gBAAkB,EAAwB,IAArBia,EAAGja,gBAAuBka,EAAU7P,IAAI,SAAA8P,GAAM,OAAAA,EAAGjJ,aAAY1G,OAAO,IAE9H/K,KAAK2a,gBAAkBJ,EACjBZ,EAAArD,gBAAgBS,cAAc/W,KAAM+C,EAAAtI,QAAmBL,MAAM2G,kBAAmBf,KAAKD,QACrF4Z,EAAArD,gBAAgBK,oBAAoB3W,KAAM+C,EAAAtI,QAAmBL,MAAM2G,kBAAmB0Z,EAAWza,KAAKD,QAC5GC,KAAK+Z,UAAY/Z,KAAK4a,sBACtB5a,KAAKia,aAAeja,KAAK6a,uBAGrBtI,EAAAla,UAAAyiB,gBAAR,WACI,OACO9a,KAAKoa,kBAAkBX,gBAAesB,OACtC/a,KAAKma,kBAAkBV,kBAI1BlH,EAAAla,UAAA2iB,iBAAR,WACI,OAAOhb,KAAK+Z,WAGRxH,EAAAla,UAAA4iB,iBAAR,WACI,OAAOjb,KAAKia,cAGR1H,EAAAla,UAAAwiB,oBAAR,eAAAlV,EAAA3F,KACUuO,EAAS,IAAIrJ,EAAA0C,OAAO5H,KAAKD,OAAOO,UAAY,EAAGN,KAAKD,OAAO6M,WAAa,GAC9E,OAAO3E,EAAAyJ,OAAO0B,GAAGpT,KAAK2a,gBAAgB5L,OAAO,IACxCnE,IAAI,SAAApP,GAAQ,WAAIoe,EAAAnf,QAAM,MAAOe,EAAKwT,SAAUT,EAAQ5I,EAAKuU,oBAAoB1e,EAAKwT,aAClF6C,WAGDU,EAAAla,UAAAuiB,oBAAR,eAAAjV,EAAA3F,KACUuO,EAAS,IAAIrJ,EAAA0C,OAAO5H,KAAKD,OAAOO,UAAY,EAAGN,KAAKD,OAAO6M,WAAa,GAC9E,OAAO3E,EAAAyJ,OAAO0B,GAAGpT,KAAK2a,gBAAgB3L,OAAO,IACxCpE,IAAI,SAAApP,GAAQ,WAAIoe,EAAAnf,QAAM,MAAOe,EAAKuT,SAAUR,EAAQ5I,EAAKqU,oBAAoBxe,EAAKuT,aAClF8C,WAGDU,EAAAla,UAAA2hB,oBAAR,SAA4BzN,GACxB,OAAOtE,EAAAyJ,OAAO0B,GAAGpT,KAAK2a,gBAAgB5L,OAAOxC,IACxCiH,OAAO,SAAA5Z,GAAK,OAACA,EAAEqV,cACfuE,OAAO,SAAA5Z,GAAK,OAAAA,EAAEoO,QAAU4N,EAAA9I,SAASG,WACjCoJ,SAGD9D,EAAAla,UAAA6hB,oBAAR,SAA4B5M,GACxB,OAAOrF,EAAAyJ,OAAO0B,GAAGpT,KAAK2a,gBAAgB3L,OAAO1B,IACxCkG,OAAO,SAAA5Z,GAAK,OAACA,EAAEqV,cACfuE,OAAO,SAAA5Z,GAAK,OAAAA,EAAEoO,QAAU4N,EAAA9I,SAASG,WACjCoJ,SAGD9D,EAAAla,UAAAgf,cAAR,WACI,OAAOrX,KAAK2a,gBAAgBtD,iBAGzB9E,EAAAla,UAAAoa,aAAP,WACI,OAAOxK,EAAAyJ,OAAOC,SACV3R,KAAK2a,gBAAgBtD,gBACrBrX,KAAKib,mBACLjb,KAAKgb,mBACLhb,KAAK8a,kBACL/X,EAAAtI,QAAmBL,MAAM6G,2BAA+BjB,KAAKsU,UAAUS,aACzEuC,QAAQ,SAAAC,GAAK,OAAAtP,EAAAyJ,OAAOC,SAAQ/Y,MAAfqP,EAAAyJ,OAAmB6F,KAC7B1F,WAaDU,EAAAla,UAAAiiB,oBAAR,WACI,IAAMY,EAAajT,EAAAyJ,OAAO0B,GAAGpT,KAAKqX,iBAC7B8D,SAAS,SAAA3f,GAAQ,OAAAA,EAAKyT,cACiB,IAAxCjP,KAAKoa,kBAAkBZ,aACvBxZ,KAAKzB,WACE2c,GAAclb,KAAKoa,kBAAkBZ,aAAe,GAC3DxZ,KAAKtC,WAIL6U,EAAAla,UAAAkG,SAAR,WACIyB,KAAKD,OAAOsS,UAAUJ,EAAAnP,OAAOK,WAC7BJ,EAAAtI,QAAmBL,MAAMwI,gBACzB/B,EAAApG,QAAsBL,MAAMuP,gBAC5B3J,KAAKgU,eAGDzB,EAAAla,UAAAqF,QAAR,WACI,IAAM0d,EAAMva,EAAApG,QAAsBL,MAC5BihB,EAAUtY,EAAAtI,QAAmBL,MACnC4F,KAAKD,OAAOsS,UAAUJ,EAAAnP,OAAOM,SAC7BiY,EAAQ3Z,WACR0Z,EAAIzR,gBACC0R,EAAQpa,yBAETma,EAAI5Q,cAAc4Q,EAAI7Q,gBAAkBvK,KAAKsU,UAAUM,gBAE3D5U,KAAKgU,eAgCDzB,EAAAla,UAAAgiB,iBAAR,WACI,IAAMnJ,EAAOlR,KAAK2a,gBAAgBxD,mBAClCtW,EAAApG,QAAsBL,MAAMuP,cAAc,IAAIxB,EAAA8C,UAC1CiG,EAAK/G,SACL+G,EAAKU,UACL5R,KAAKoa,kBAAkBZ,aACvBxZ,KAAKma,kBAAkBX,aACvBxZ,KAAKsU,UAAUM,kBAG3BrC,EA5KA,GAAa/Y,EAAA+Y,ibChBb,IAAArN,EAAA9L,EAAA,GACA6a,EAAA7a,EAAA,IACA2J,EAAA3J,EAAA,IAEAkiB,EAAA,SAAA/V,GAEI,SAAA+V,EAAmBtN,EAAWD,EAAW7E,EAAcqS,GAAvD,IAAA5V,EACIJ,EAAAhN,KAAAyH,KACIsb,EAAaE,gBAAgBD,GAC7BvN,EACAD,EACA,KACAkG,EAAAxZ,QAAYL,MAAMsR,YACrB1L,YAED2F,EAAKwP,SAAWjM,EAChBvD,EAAKyP,UAAYlQ,EAAAmQ,UAAUC,OAC3B3P,EAAK4P,UAAYrQ,EAAAsQ,UAAUiG,SAYnC,OAzB0C7W,EAAA0W,EAAA/V,GAiBvB+V,EAAAE,gBAAf,SAA+BrI,GAC3B,OAAOpQ,EAAAtI,QAAmBL,MAAM6G,wBAA0B,GAAOqa,EAAaI,OAAM,IAAIvI,GAGrFmI,EAAAjjB,UAAAsjB,YAAP,SAAmBC,GACf5b,KAAK+S,KAAOuI,EAAaE,gBAAgBI,IArB9BN,EAAAI,OAAiB,QAwBpCJ,EAzBA,CAA0CpW,EAAAgQ,iBAArBoG,iaCHrB,IAAAO,EAAAziB,EAAA,KACA2J,EAAA3J,EAAA,IACA2T,EAAA3T,EAAA,GAGA0iB,EAAA,SAAAvW,GAAA,SAAAuW,mDAgBA,OAhBqClX,EAAAkX,EAAAvW,GAI5BuW,EAAAzjB,UAAA+Z,aAAP,SAAoBrS,GAClBwF,EAAAlN,UAAM+Z,aAAY7Z,KAAAyH,KAACD,GACnB,IAAMya,EAAoBzN,EAAAtS,QAAcL,MACxC4F,KAAK+b,aAAe,IAAIF,EAAAphB,QAAasF,EAAOO,UAAY,EAAGka,EAAG7Z,gBAAkB6Z,EAAGja,gBAAkB,EAAGia,EAAGja,gBAAiBwC,EAAAtI,QAAmBL,MAAMyI,kBACrJ7C,KAAKoQ,IAAIpQ,KAAK+b,eAITD,EAAAzjB,UAAAma,WAAP,WACEjN,EAAAlN,UAAMma,WAAUja,KAAAyH,MAChBA,KAAK+b,aAAaJ,YAAY5Y,EAAAtI,QAAmBL,MAAMyI,mBAE3DiZ,EAhBA,CAFA1iB,EAAA,IAEqC+Y,gBAAxB3Y,EAAAsiB,oqBCLb,IAAAE,EAAA5iB,EAAA,IACA6iB,EAAA7iB,EAAA,KACA8iB,EAAA9iB,EAAA,IACAoK,EAAApK,EAAA,GAEM+iB,EAAU/iB,EAAQ,KAClBgjB,EAAahjB,EAAQ,KACrBijB,EAAajjB,EAAQ,KACrBkjB,EAAcljB,EAAQ,KACtBmjB,EAAYnjB,EAAQ,KACpBojB,EAAapjB,EAAQ,KACrBqjB,EAAerjB,EAAQ,KACvBsjB,EAAatjB,EAAQ,KAyBrBujB,GACF/hB,GAAK6F,QAAS,OAAQmc,OAAQ,MAAOzH,SAAU,GAAI0H,KAAM,EAAGtH,UAAW,UACvEuH,IAAMvH,UAAW,UACjBwH,QACI3W,MAAO,QAEX4W,WACI5W,MAAO,OACPmP,UAAW,UAEf0H,SACI7W,MAAO,MAIf8W,EAAA,WAII,SAAAA,EAAYC,GAAZ,IAAAxX,EAAA3F,KAgEQA,KAAAod,mBAAqB,SAACD,EAAiBE,GAC3C1X,EAAKwX,OAASA,EACdxX,EAAK2X,QACDD,WAAYA,EACZE,KAAM5X,EAAKwX,OACXK,UAAW,WAAM,OAAA7X,EAAKyX,2BAItBpd,KAAAsd,OAAS,SAACG,GACdvB,EAAAoB,OAAOtB,EAAA0B,cAACC,EAACC,KAAKH,IACVI,SAASC,eAAe,WA1E5B9d,KAAKmd,OAASA,EA6EtB,OA1EWD,EAAA7kB,UAAA0lB,WAAP,WACI,IAAMV,EAAcrB,EAAA0B,cAAA,WAChB1B,EAAA0B,cAAA,MAAIM,MAAOrB,EAAOG,IAAE,gBACpBd,EAAA0B,cAAA,KAAGM,MAAOrB,EAAO/hB,GAAC,6BAClBohB,EAAA0B,cAAA,KAAGM,MAAOrB,EAAO/hB,GAAC,uJAClBohB,EAAA0B,cAAA,KAAGM,MAAOrB,EAAO/hB,GAAC,kLAClBohB,EAAA0B,cAAA,KAAGM,MAAOrB,EAAO/hB,GAAC,kFAEtBoF,KAAKod,sBAAyBC,IAG3BH,EAAA7kB,UAAA4lB,eAAP,WACI,IAAMZ,EAAcrB,EAAA0B,cAAA,WAChB1B,EAAA0B,cAAA,MAAIM,MAAOrB,EAAOG,IAAE,eACpBd,EAAA0B,cAAA,KAAGM,MAAOrB,EAAO/hB,0DAAuDohB,EAAA0B,cAAA,OAAKtX,MAAO,GAAI8X,IAAK1B,EAAY2B,IAAI,mCAAgCnC,EAAA0B,cAAA,OAAKtX,MAAO,GAAI8X,IAAKzB,EAAc0B,IAAI,mDACpLnC,EAAA0B,cAAA,OAAKM,MAAOrB,EAAOK,WACfhB,EAAA0B,cAAA,OAAKtX,MAAOuW,EAAOM,QAAQ7W,MAAO8X,IAAKxB,EAAYyB,IAAI,WAE3DnC,EAAA0B,cAAA,KAAGM,MAAOrB,EAAO/hB,GAAC,4GAClBohB,EAAA0B,cAAA,KAAGM,MAAOrB,EAAO/hB,GAAC,0IAEtBoF,KAAKod,sBAAyBC,IAG3BH,EAAA7kB,UAAA+lB,UAAP,WACI,IAAMf,EAAcrB,EAAA0B,cAAA,OAAKM,MAAOrB,EAAOI,QACnCf,EAAA0B,cAAA,MAAIM,MAAOrB,EAAOG,IAAE,SACpBd,EAAA0B,cAAA,OAAKM,MAAOrB,EAAOK,WACfhB,EAAA0B,cAAA,OAAKtX,MAAOuW,EAAOM,QAAQ7W,MAAO8X,IAAK9B,EAAY+B,IAAI,WAE3DnC,EAAA0B,cAAA,KAAGM,MAAOrB,EAAO/hB,GAAC,0HAElBohB,EAAA0B,cAAA,OAAKM,MAAOrB,EAAOK,WACfhB,EAAA0B,cAAA,OAAKtX,MAAOuW,EAAOM,QAAQ7W,MAAO8X,IAAK7B,EAAY8B,IAAI,WAE3DnC,EAAA0B,cAAA,KAAGM,MAAOrB,EAAO/hB,GAAC,yJAElBohB,EAAA0B,cAAA,OAAKM,MAAOrB,EAAOK,WACfhB,EAAA0B,cAAA,OAAKtX,MAAOuW,EAAOM,QAAQ7W,MAAO8X,IAAK5B,EAAa6B,IAAI,YAE5DnC,EAAA0B,cAAA,KAAGM,MAAOrB,EAAO/hB,GAAC,4HAElBohB,EAAA0B,cAAA,OAAKM,MAAOrB,EAAOK,WACfhB,EAAA0B,cAAA,OAAKtX,MAAOuW,EAAOM,QAAQ7W,MAAO8X,IAAK3B,EAAW4B,IAAI,UAE1DnC,EAAA0B,cAAA,KAAGM,MAAOrB,EAAO/hB,GAAC,uKAEtBoF,KAAKod,sBAAyBC,IAG3BH,EAAA7kB,UAAAgmB,UAAP,SAAiBliB,EAAe4W,GAC5B,IAAMsK,EAAcrB,EAAA0B,cAAA,OAAKM,MAAOrB,EAAOI,QACnCf,EAAA0B,cAAA,MAAIM,MAAOrB,EAAOG,IAAK3gB,GACvB6f,EAAA0B,cAAA,KAAGM,MAAOrB,EAAO/hB,GACZmY,IAGT/S,KAAKod,sBAAyBC,IAiBtCH,EAlFA,GAAa1jB,EAAA0jB,gBA6Fb,IAAAS,EAAA,SAAApY,GAEI,SAAAoY,EAAYF,UACRlY,EAAAhN,KAAAyH,KAAMyd,IAAMzd,KA4BpB,OA/B+B4E,EAAA+Y,EAAApY,GAM3BoY,EAAAtlB,UAAAilB,OAAA,WACI,OACItB,EAAA0B,cAACzB,GACG+B,OACIM,SACIC,aAAc,MACd/e,gBAAiB,UACjBgf,YAAa,EACbC,YAAa,UACbhe,QAAS,SAGjBie,WAAYb,SAASC,eAAe,SACpCX,OAAQnd,KAAKyd,MAAMF,MACnBvB,EAAA0B,cAAA,OAAKM,OAASW,MAAO,QAAStY,OAAQ7C,EAAApE,OAAOK,eAAgBmf,SAAU,QAASC,MAAO,OAAQ3I,IAAK,SAChG8F,EAAA0B,cAAA,KAAGM,UACChC,EAAA0B,cAAA,OAAKrX,OAAQ7C,EAAApE,OAAOK,eAAgB2G,MAAO5C,EAAApE,OAAOK,eAAgBye,IAAK/B,EAASgC,IAAI,OAAOW,YAAa9e,KAAKyd,MAAMD,cAG3HxB,EAAA0B,cAAA,OAAKM,OAASO,aAAc,OAAQQ,YAAa,QAASP,YAAa,MAAOQ,UAAW,MAAOxf,gBAAiB,UAAWif,YAAa,UAAWQ,QAAS,SACxJjf,KAAKyd,MAAMJ,cAKhCM,EA/BA,CAA+B3B,EAAMkD,sbCjJrC,IAAA1b,EAAApK,EAAA,GACA6Y,EAAA7Y,EAAA,IACA8L,EAAA9L,EAAA,GACA0W,EAAA1W,EAAA,IACAiM,EAAAjM,EAAA,IACA8Y,EAAA9Y,EAAA,IACA+lB,EAAA/lB,EAAA,KACA2T,EAAA3T,EAAA,GAGAgmB,EAAA,SAAA7Z,GAAA,SAAA6Z,mDAuDA,OAvD0Bxa,EAAAwa,EAAA7Z,GAIjB6Z,EAAA/mB,UAAA+Z,aAAP,SAAoBrS,GAApB,IAAA4F,EAAA3F,KAEEA,KAAKoQ,IAAI,IAAI8B,EAAAnC,WAAWhQ,EAAQ,WAAM,OAAAA,EAAOsS,UAAUJ,EAAAnP,OAAOI,cAE9D,IAAMmc,EAAYha,EAAAwC,kCAAkC9H,EAAO6M,WAAY7M,EAAOO,UAAWkD,EAAAnF,UAAUb,UAAW,GAAK,GAC7GrB,EAAQ,IAAI+I,EAAA4B,MAChB/G,EAAOO,UAAY,EACnB+e,EAAUhZ,OAAS,EAAI7C,EAAApE,OAAOG,YAC9B8f,EAAUjZ,MACViZ,EAAUhZ,QAEZlK,EAAMmK,WAAW9C,EAAAnF,UAAUb,WAC3BrB,EAAMwL,MAAQ0X,EAAU1X,MACxB3H,KAAKoQ,IAAIjU,GAET6D,KAAKsf,cAAgB,IAAIH,EAAAjC,kBAEzB,IAAMqC,EAAUxf,EAAOO,UAAY,EAC7Bkf,EAASzS,EAAAtS,QAAcL,MAAMoG,oBAC7BqN,EAAOxI,EAAAwC,kCAAkC9H,EAAO6M,WAAY7M,EAAOO,UAAWkD,EAAAnF,UAAUxC,UAAW2jB,EAAO/e,QAAS+e,EAAO9e,UAE1H+e,EAAQzf,KAAK+Q,aAAalD,EAAM0R,EAASpjB,EAAMujB,YAAc7R,EAAKxH,OAAS,EAAI7C,EAAApE,OAAOO,cAAe6D,EAAAnF,UAAUxC,UAAW,WAAM,OAAA8J,EAAK2Z,cAAcvB,eACnJ4B,EAAU3f,KAAK+Q,aAAalD,EAAM0R,EAASE,EAAMC,YAAclc,EAAApE,OAAOG,YAAcsO,EAAKxH,OAAS,EAAG7C,EAAAnF,UAAUtC,YAAa,WAAM,OAAA4J,EAAK2Z,cAAcrB,mBACrJ2B,EAAQ5f,KAAK+Q,aAAalD,EAAM0R,EAASI,EAAQD,YAAclc,EAAApE,OAAOG,YAAcsO,EAAKxH,OAAS,EAAG7C,EAAAnF,UAAUG,SAAU,WAAM,OAAAmH,EAAK2Z,cAAclB,cAClJyB,EAAU7f,KAAK+Q,aAAalD,EAAM0R,EAASK,EAAMF,YAAclc,EAAApE,OAAOG,YAAcsO,EAAKxH,OAAS,EAAG7C,EAAAnF,UAAUvC,YAAa,WAAM,OAAA6J,EAAK2Z,cAAcjB,UAAU,UAAW,oBAEhLre,KAAKoQ,IAAIqP,GACTzf,KAAKoQ,IAAIuP,GACT3f,KAAKoQ,IAAIwP,GACT5f,KAAKoQ,IAAIyP,GAGT7f,KAAKwQ,WAAWqP,EAAQH,aACxB1f,KAAKqQ,aAAawP,EAAQH,cAGrBN,EAAA/mB,UAAA0Y,aAAP,SAAoBlD,EAAmBG,EAAWD,EAAWvI,EAAkBC,GAC7E,IAAMuL,EAAS,IAAIlB,EAAArV,QAAW+K,EAASC,GAMvC,OALAuL,EAAOhD,EAAIA,EACXgD,EAAOjD,EAAIA,EACXiD,EAAOrJ,MAAQkG,EAAKlG,MACpBqJ,EAAO9C,UAAUL,EAAKxH,QACtB2K,EAAO/C,SAASJ,EAAKzH,OACd4K,GAGFoO,EAAA/mB,UAAAma,WAAP,aAGO4M,EAAA/mB,UAAAsa,aAAP,aAEFyM,EAvDA,CAFAhmB,EAAA,IAE0BqB,SAAbjB,EAAA4lB,saCXb,IAAAla,EAAA9L,EAAA,GACAoK,EAAApK,EAAA,GACA+L,EAAA/L,EAAA,IACA6O,EAAA7O,EAAA,IACAgM,EAAAhM,EAAA,IAEA0mB,EAAA,SAAAva,GAMI,SAAAua,EAAY5W,EAAc8E,EAAWD,EAAWgS,EAAuBC,GAAvE,IAAAra,EACIJ,EAAAhN,KAAAyH,OAAOA,YAsDH2F,EAAAC,OAAqB,WACzBD,EAAKsa,gBAAgBna,eACrBH,EAAKsa,gBAAgBla,UAAU,IAAIZ,EAAAa,OAAO,MAGtCL,EAAAM,QAAsB,WAC1BN,EAAKsa,gBAAgBna,eACrBH,EAAKsa,gBAAgBla,UAAU,IAAIZ,EAAAa,OAAO,MAGtCL,EAAAO,OAAqB,WACzBP,EAAKsa,gBAAgBna,gBAYjBH,EAAAua,aAAe,WACnBva,EAAKwa,SAAWxa,EAAKwa,QACrBxa,EAAKya,oBACLza,EAAKqa,SAASK,UAAU,SAAAC,GAAQ,OAAAA,EAAK3a,EAAKwa,YA/E1Cxa,EAAKwa,QAAUJ,EACfpa,EAAK4a,cAAgB,IAAIrb,EAAAiB,OAAO3C,EAAAnF,UAAUjB,IAAK,EAAG,EAAGoG,EAAAnF,UAAUjB,IAAIgJ,MAAO5C,EAAAnF,UAAUjB,IAAIiJ,QACxFV,EAAK6a,gBAAkB,IAAItb,EAAAiB,OAAO3C,EAAAnF,UAAUhB,QAAS,EAAG,EAAGmG,EAAAnF,UAAUhB,QAAQ+I,MAAO5C,EAAAnF,UAAUhB,QAAQgJ,QACtGV,EAAKgC,MAAQ,IAAIzC,EAAA0C,OAAOsB,EAAO1F,EAAAnF,UAAUjB,IAAIgJ,MAAO8C,EAAO1F,EAAAnF,UAAUjB,IAAIiJ,QACzEV,EAAKuI,UAAUhF,GACfvD,EAAKsI,SAAS/E,GACdvD,EAAKqI,EAAIA,EACTrI,EAAKoI,EAAIA,EACTpI,EAAKqa,SAAW/X,EAAA4B,SAASC,WAAWkW,GAGpCra,EAAKW,WAAW,UAAWX,EAAK4a,eAChC5a,EAAKW,WAAW,YAAaX,EAAK6a,iBAC9B7a,EAAKwa,QACLxa,EAAKmJ,WAAW,WAEhBnJ,EAAKmJ,WAAW,aAEpBnJ,EAAKY,GAAG,cAAeZ,EAAKC,QAC5BD,EAAKY,GAAG,eAAgBZ,EAAKM,SAC7BN,EAAKY,GAAG,eAAgBZ,EAAKO,QAC7BP,EAAKY,GAAG,YAAaZ,EAAKe,eAAef,EAAKua,iBA6DtD,OA1FyCtb,EAAAkb,EAAAva,GAgC9Bua,EAAAznB,UAAAooB,YAAP,SAAmBT,GACfhgB,KAAKggB,SAAW/X,EAAA4B,SAASuJ,GAAG4M,IAEzBF,EAAAznB,UAAAqoB,UAAP,WACI,OAAO1gB,KAAKmgB,SAGTL,EAAAznB,UAAAsoB,WAAP,SAAkBD,GACd1gB,KAAKmgB,QAAUO,EACf1gB,KAAKogB,qBAGDN,EAAAznB,UAAAqO,eAAR,SAAuBjB,GAAvB,IAAAE,EAAA3F,KACI,OAAO,SAAC8H,GACkB,cAAlBA,EAAMC,GAAGC,OAETrC,EAAKsa,gBAAgBna,eACrBV,EAAA3K,QAAaL,MAAMgK,mBAAmBZ,EAAAnF,UAAUF,aAChDsH,IACAE,EAAKM,aAMT6Z,EAAAznB,UAAA4nB,cAAR,WACI,OAAOjgB,KAAKmgB,QAAUngB,KAAKugB,cAAgBvgB,KAAKwgB,iBAiB5CV,EAAAznB,UAAA+nB,kBAAR,WACQpgB,KAAKmgB,QACLngB,KAAK8O,WAAW,WAEhB9O,KAAK8O,WAAW,cAW5BgR,EA1FA,CAAyC5a,EAAA4B,kGCNzC,IAAA8Z,EAAAxnB,EAAA,KACA8L,EAAA9L,EAAA,GACA6a,EAAA7a,EAAA,IAEAynB,EAAA,WAKI,SAAAA,EAAY5L,EAAe/L,EAAc8E,EAAWD,EAAW+S,EAAqB/gB,EAAgBigB,GAChG,IAAMe,EAAW7X,EAAe,IAAPA,EACnB8X,EAAa9X,EAAe,IAAPA,EAG3BlJ,KAAKiV,MAAQ,IAAI/P,EAAAgQ,MAAMD,EAAOjH,EAAGD,EAAG,KAAMkG,EAAAxZ,QAAYL,MAAMsR,WAC5D1L,KAAKiV,MAAME,SAAW4L,EACtB/gB,KAAKiV,MAAMG,UAAYlQ,EAAAmQ,UAAUC,OACjCtV,KAAKiV,MAAMM,UAAYrQ,EAAAsQ,UAAUiG,OACjC,IAAMwF,EAAajhB,KAAKiV,MAAMiM,aAAanhB,EAAOohB,KAClDnhB,KAAKiV,MAAMjH,EAAIA,EAAIiT,EAAW,EAE9BjhB,KAAKohB,MAAQ,IAAIR,EAAAnmB,QAAYumB,EAAYhT,EAAa,IAAXiT,EAAkBlT,EAAG+S,EAAYd,GA0BpF,OAtBWa,EAAAxoB,UAAAgpB,YAAP,SAAmBrB,GACfhgB,KAAKohB,MAAMX,YAAYT,IAGpBa,EAAAxoB,UAAAsoB,WAAP,SAAkBD,GACd1gB,KAAKohB,MAAMT,WAAWD,IAGnBG,EAAAxoB,UAAAqoB,UAAP,WACI,OAAO1gB,KAAKohB,MAAMV,aAGfG,EAAAxoB,UAAAqnB,UAAP,WACI,OAAO5T,KAAKkN,IAAIhZ,KAAKohB,MAAM1B,YAAa1f,KAAKiV,MAAMyK,cAGhDmB,EAAAxoB,UAAAipB,aAAP,WACI,OACIthB,KAAKohB,MACLphB,KAAKiV,QAGjB4L,EA3CA,GAAAhhB,EAAApF,QAAA8c,GAAA,SAAA3X,EAAAC,EAAAtF,GAAA,aAAAnC,OAAA6B,eAAA4F,EAAA,cAAAvF,OAAA,ICJA,IAAA4K,EAAA9L,EAAA,GACAoK,EAAApK,EAAA,GACA0W,EAAA1W,EAAA,IACA6a,EAAA7a,EAAA,IACA+L,EAAA/L,EAAA,IACA6O,EAAA7O,EAAA,IAEAmoB,EAAA,WAcI,SAAAA,EAAmBtM,EAAeuM,EAAaxI,EAAaC,EAAiBjL,EAAWD,EAAWoH,EAAkBzP,GAArH,IAAAC,EAAA3F,KA4COA,KAAAyhB,eAAiB,SAACC,GAGrB,GAFA/b,EAAKgc,iBAAiB7b,eACtBH,EAAKic,kBAAkB9b,eACpB4b,EAAY,CACX,IAAMG,EAAW3c,EAAAiK,MAAMI,KACvB5J,EAAKmc,SAASpM,MAAQmM,EACtBlc,EAAKoc,YAAYrM,MAAQmM,EACzBlc,EAAKgc,iBAAiB5b,UAAU,IAAIZ,EAAA6c,SAASH,IAC7Clc,EAAKic,kBAAkB7b,UAAU,IAAIZ,EAAA6c,SAASH,IAC9Clc,EAAKsc,WAAWpb,gBAChBlB,EAAKuc,YAAYrb,qBAEjBlB,EAAKmc,SAASpM,MAAQxQ,EAAAiK,MAAMgT,MAC5Bxc,EAAKoc,YAAYrM,MAAQxQ,EAAAiK,MAAMgT,MAC/Bxc,EAAKsc,WAAWpb,gBAChBlB,EAAKuc,YAAYrb,iBA1DrB7G,KAAKoiB,UAAYnN,EACjBjV,KAAKwhB,IAAMA,EACXxhB,KAAKgZ,IAAMA,EACXhZ,KAAKiZ,QAAUA,EACfjZ,KAAKmV,SAAWA,EAEhB,IAAM4L,EAAW/gB,KAAKmV,SAA4B,IAAhBnV,KAAKmV,SACjC6L,EAAahhB,KAAKmV,SAA4B,IAAhBnV,KAAKmV,SAGzCnV,KAAK8hB,SAAW,IAAI5c,EAAAgQ,MAAMlV,KAAKoiB,UAAWpU,EAAGD,EAAEvK,EAAApE,OAAOG,YAAa,KAAM0U,EAAAxZ,QAAYL,MAAMsR,WAC3F1L,KAAK8hB,SAAS3M,SAAW4L,EACzB/gB,KAAK8hB,SAAS1M,UAAYlQ,EAAAmQ,UAAUC,OACpCtV,KAAK8hB,SAASvM,UAAYrQ,EAAAsQ,UAAUiG,OAGpCzb,KAAK+hB,YAAc,IAAI7c,EAAAgQ,MAAM,GAAG+D,EAAWjL,EAAGD,EAAEiT,EAAY,KAAM/M,EAAAxZ,QAAYL,MAAMsR,WACpF1L,KAAK+hB,YAAY5M,SAAW4L,EAC5B/gB,KAAK+hB,YAAY3M,UAAYlQ,EAAAmQ,UAAUC,OACvCtV,KAAK+hB,YAAYxM,UAAYrQ,EAAAsQ,UAAUiG,OAIvCzb,KAAKiiB,WAAa,IAAInS,EAAArV,QAAW+I,EAAAnF,UAAUnB,OAAQ,WAAM,OAAAyI,EAAK0c,OAAO,KACrEriB,KAAK2hB,iBAAmB3hB,KAAKiiB,WAAWtb,YACxC3G,KAAKiiB,WAAWjU,EAAIA,EAAe,IAAXgT,EACxBhhB,KAAKiiB,WAAWlU,EAAIA,EAAIiT,EACxBhhB,KAAKiiB,WAAWta,MAAQ,IAAIzC,EAAA0C,OAAOoZ,EAAWxd,EAAAnF,UAAUnB,OAAOkJ,MAAO4a,EAAWxd,EAAAnF,UAAUnB,OAAOmJ,QAClGrG,KAAKiiB,WAAW/T,UAAU8S,GAC1BhhB,KAAKiiB,WAAWhU,SAAS+S,GAGzBhhB,KAAKkiB,YAAc,IAAIpS,EAAArV,QAAW+I,EAAAnF,UAAUlB,QAAS,WAAM,OAAAwI,EAAK0c,MAAM,KACtEriB,KAAK4hB,kBAAoB5hB,KAAKkiB,YAAYvb,YAC1C3G,KAAKkiB,YAAYlU,EAAIA,EAAe,IAAXgT,EACzBhhB,KAAKkiB,YAAYnU,EAAIA,EAAIiT,EACzBhhB,KAAKkiB,YAAYva,MAAQ,IAAIzC,EAAA0C,OAAOoZ,EAAWxd,EAAAnF,UAAUlB,QAAQiJ,MAAO4a,EAAWxd,EAAAnF,UAAUlB,QAAQkJ,QACrGrG,KAAKkiB,YAAYhU,UAAU8S,GAC3BhhB,KAAKkiB,YAAYjU,SAAS+S,GAE1BhhB,KAAKyhB,eAAe/b,GAsD5B,OA/BY6b,EAAAlpB,UAAAgqB,MAAR,SAAcjS,GACV,IAAMkS,EAActiB,KAAKiZ,QAAU7I,EAChCpQ,KAAKwhB,KAAOc,GAAetiB,KAAKgZ,KAAOsJ,IACtCtiB,KAAKiZ,QAAUqJ,EACftiB,KAAK+hB,YAAYhP,KAAO,GAAGuP,IAI5Bf,EAAAlpB,UAAAmhB,WAAP,WACI,OAAOxZ,KAAKiZ,SAGTsI,EAAAlpB,UAAAkqB,WAAP,SAAkBtY,GACdjK,KAAKiZ,QAAUhP,EACfjK,KAAK+hB,YAAYhP,KAAO,GAAG9I,GAGxBsX,EAAAlpB,UAAAqnB,UAAP,WACI,OAAOzX,EAAAyJ,OAAOC,SAAgB3R,KAAKiiB,WAAYjiB,KAAKkiB,YAAaliB,KAAK+hB,aACrEnX,IAAI,SAAA2M,GAAK,OAAAA,EAAEmI,cACX1G,MACAjO,OAAO,IAELwW,EAAAlpB,UAAAipB,aAAP,WACI,OACIthB,KAAKiiB,WACLjiB,KAAKkiB,YACLliB,KAAK+hB,YACL/hB,KAAK8hB,WAGjBP,EA7GA,GAAA1hB,EAAApF,QAAAb,GAAA,SAAAgG,EAAAC,EAAAtF,GAAA,iBAAAP,EAAAK,EAAA2F,WAAA4E,YAAA5K,EAAA,SAAA4F,EAAAC,GAAA,OAAA7F,EAAA5B,OAAAyM,iBAAAC,wBAAAC,OAAA,SAAAnF,EAAAC,GAAAD,EAAAkF,UAAAjF,IAAA,SAAAD,EAAAC,GAAA,QAAAtF,KAAAsF,IAAAvH,eAAAiC,KAAAqF,EAAArF,GAAAsF,EAAAtF,MAAAqF,EAAAC,IAAA,SAAAD,EAAAC,GAAA,SAAAtF,IAAAyF,KAAAgF,YAAApF,EAAA5F,EAAA4F,EAAAC,GAAAD,EAAAvH,UAAA,OAAAwH,EAAAzH,OAAA6M,OAAApF,IAAAtF,EAAAlC,UAAAwH,EAAAxH,UAAA,IAAAkC,KAAAnC,OAAA6B,eAAA4F,EAAA,cAAAvF,OAAA,ICPA,IAAAkJ,EAAApK,EAAA,GACA6Y,EAAA7Y,EAAA,IACA8L,EAAA9L,EAAA,GACAopB,EAAAppB,EAAA,KACA2J,EAAA3J,EAAA,IACAqpB,EAAArpB,EAAA,KACA2T,EAAA3T,EAAA,GACAiM,EAAAjM,EAAA,IAEAyH,EAAAzH,EAAA,IACA8Y,EAAA9Y,EAAA,IAGAspB,EAAA,SAAAnd,GAAA,SAAAmd,IAAA,IAAA/c,EAAA,OAAAJ,KAAA3M,MAAAoH,KAAA2iB,YAAA3iB,YAuCU2F,EAAAid,UAAY,WAClB7f,EAAAtI,QAAmBL,MAAM8H,YAAYyD,EAAKwE,SAASqP,cACnDzW,EAAAtI,QAAmBL,MAAMiI,cAAcsD,EAAKrD,WAAWkX,cACvDzW,EAAAtI,QAAmBL,MAAMsI,wBAAwBiD,EAAKkd,kBAAkBnC,aACxE7f,EAAApG,QAAsBL,MAAMiQ,eAAe1E,EAAKtB,MAAMqc,aACtD/a,EAAK5F,OAAOsS,UAAUJ,EAAAnP,OAAOI,cAmEjC,OA/G6B0B,EAAA8d,EAAAnd,GAQpBmd,EAAArqB,UAAA+Z,aAAP,SAAoBrS,GAApB,IAAA4F,EAAA3F,KACQ8iB,EAAW/V,EAAAtS,QAAcL,MAAMmG,gBACrCP,KAAKoQ,IAAI,IAAI8B,EAAAnC,WAAWhQ,EAAQ,WAAM,OAAAA,EAAOsS,UAAUJ,EAAAnP,OAAOI,cAE9DlD,KAAK+iB,WACL/iB,KAAKgjB,eAAeF,GACpB9iB,KAAKijB,kBAAkBH,GACvB9iB,KAAKkjB,qBAAqBJ,GAC1B,IAAMK,EAAsBnjB,KAAKojB,YAAYN,GAC7C9iB,KAAK6iB,kBAAkBxB,YAAY8B,GAEnC,IAAM3D,EAASzS,EAAAtS,QAAcL,MAAMoG,oBAC7B6iB,EAAmBhe,EAAAwC,kCAAkC9H,EAAO6M,WAAY7M,EAAOO,UAAWkD,EAAAnF,UAAUrC,YAAawjB,EAAO/e,QAAS+e,EAAO9e,UAExI4iB,EACJtjB,KAAKmK,SAASuV,YAAc3f,EAAO6M,WAAayW,EAAiBhd,OAC7DtG,EAAO6M,WAAayW,EAAiBhd,OAAS,EAAI7C,EAAApE,OAAOO,cACzDK,KAAKmK,SAASuV,YAAclc,EAAApE,OAAOO,cAAgB0jB,EAAiBhd,OAAS,EAC7E0K,EAAe/Q,KAAK+Q,aACxBsS,EACAtjB,EAAOO,UAAY,EACnBgjB,EACA9f,EAAAnF,UAAUrC,YACV,WAAM,OAAA2J,EAAKid,cAEb5iB,KAAKoQ,IAAIW,GAET/Q,KAAKwQ,WAAWO,EAAa2O,aAC7B1f,KAAKqQ,aAAaU,EAAa2O,cAYzBgD,EAAArqB,UAAA0qB,SAAR,WACE,IAAMlV,EAAOxI,EAAAwC,kCAAkC7H,KAAKD,OAAO6M,WAAY5M,KAAKD,OAAOO,UAAWkD,EAAAnF,UAAUd,YAAa,GAAK,GACpHsI,EAASrC,EAAAnF,UAAUd,YAAY4Y,WAC/Bha,EAAQ,IAAI+I,EAAA4B,MAClB3K,EAAMmK,WAAWT,GACjB1J,EAAM6R,EAAIhO,KAAKD,OAAOO,UAAY,EAClCnE,EAAM4R,EAAIF,EAAKxH,OAAS,EAAI7C,EAAApE,OAAOG,YACnCpD,EAAM+R,UAAUL,EAAKxH,QACrBlK,EAAM8R,SAASJ,EAAKzH,OACpBjK,EAAMwL,MAAQkG,EAAKlG,MACnB3H,KAAK7D,MAAQA,EACb6D,KAAKoQ,IAAIjU,IAGHumB,EAAArqB,UAAA2qB,eAAR,SAAuBF,GAAvB,IAAAnd,EAAA3F,KACEA,KAAKqE,MAAQ,IAAIoe,EAAAhoB,QAAa,QAC5BqoB,EAAU9iB,KAAKD,OAAOO,UAAY,EAClCN,KAAK7D,MAAMujB,YAAqC,EAAvBlc,EAAApE,OAAOO,eAC/BkB,EAAApG,QAAsBL,MAAM2J,aAC7B/D,KAAKD,QAGPC,KAAKqE,MAAMid,eACR5O,QAAQ,SAAA7S,GAAK,OAAA8F,EAAKyK,IAAIvQ,MAGnB6iB,EAAArqB,UAAA4qB,kBAAR,SAA0BH,GAA1B,IAAAnd,EAAA3F,KACEA,KAAKsC,WAAa,IAAIkgB,EAAA/nB,QAAe,aAAc,EAAG,EAAGsI,EAAAtI,QAAmBL,MAAMiH,gBAAgBsJ,qBAAsB3K,KAAKD,OAAOO,UAAY,EAC9IN,KAAKqE,MAAMqb,YAAyB,GAAXoD,EAAiBtf,EAAApE,OAAOO,cACjDmjB,MACF9iB,KAAKsC,WAAWgf,eACb5O,QAAQ,SAAA3a,GAAK,OAAA4N,EAAKyK,IAAIrY,MAGnB2qB,EAAArqB,UAAA6qB,qBAAR,SAA6BJ,GAA7B,IAAAnd,EAAA3F,KACEA,KAAK6iB,kBAAoB,IAAIJ,EAAAhoB,QAAa,aAAcqoB,EAAU9iB,KAAKD,OAAOO,UAAY,EACxFN,KAAKsC,WAAWod,YAAyB,EAAXoD,EAAetf,EAAApE,OAAOO,eACnDoD,EAAAtI,QAAmBL,MAAM6G,wBAAyBjB,KAAKD,QAE1DC,KAAK6iB,kBAAkBvB,eACpB5O,QAAQ,SAAA7S,GAAK,OAAA8F,EAAKyK,IAAIvQ,MAInB6iB,EAAArqB,UAAA+qB,YAAR,SAAoBN,GAApB,IAAAnd,EAAA3F,KAOE,OANAA,KAAKmK,SAAW,IAAIqY,EAAA/nB,QAAe,YAAa,EAAG,EAAGsI,EAAAtI,QAAmBL,MAAMgH,oBAAqBpB,KAAKD,OAAOO,UAAY,EAC1HN,KAAK6iB,kBAAkBnD,YAAyB,GAAXoD,EAAiBtf,EAAApE,OAAOO,cAAemjB,GAC3E/f,EAAAtI,QAAmBL,MAAM6G,yBAC5BjB,KAAKmK,SAASmX,eACX5O,QAAQ,SAAA3a,GAAK,OAAA4N,EAAKyK,IAAIrY,KAElBiI,KAAKmK,SAASsX,gBAGhBiB,EAAArqB,UAAAma,WAAP,WACExS,KAAKqE,MAAMsc,YAAY9f,EAAApG,QAAsBL,MAAM2J,cACnD/D,KAAKmK,SAASoY,WAAWxf,EAAAtI,QAAmBL,MAAMgH,qBAClDpB,KAAKsC,WAAWigB,WAAWxf,EAAAtI,QAAmBL,MAAMiH,gBAAgBsJ,sBACpE3K,KAAK6iB,kBAAkBlC,YAAY5d,EAAAtI,QAAmBL,MAAM6G,0BAGvDyhB,EAAArqB,UAAAsa,aAAP,aAEF+P,EA/GA,CAFAtpB,EAAA,IAE6BqB,SAAhBjB,EAAAkpB,yaCbb,IAAAvnB,EAAA/B,EAAA,GACAoK,EAAApK,EAAA,GACA6Y,EAAA7Y,EAAA,IACAgM,EAAAhM,EAAA,IAEAiM,EAAAjM,EAAA,IACA4W,EAAA5W,EAAA,IACA0W,EAAA1W,EAAA,IACA2T,EAAA3T,EAAA,GAEAmqB,EAAA,SAAAhe,GAAA,SAAAge,IAAA,IAAA5d,EAAA,OAAAJ,KAAA3M,MAAAoH,KAAA2iB,YAAA3iB,YAkCU2F,EAAA6d,OAAS,WACf7d,EAAK5F,OAAOsS,UAAUJ,EAAA1O,oBAO1B,OA1C6BqB,EAAA2e,EAAAhe,GAIpBge,EAAAlrB,UAAA+Z,aAAP,SAAoBrS,GAClBC,KAAKD,OAASA,EACdC,KAAKoQ,IAAIJ,EAAAvV,QAAkBkS,kBAAkB5M,IAC7C,IAAMyf,EAAwBzS,EAAAtS,QAAcL,MAAMoG,oBAC5CijB,EAAape,EAAAwC,kCAAkC9H,EAAO6M,WAAY7M,EAAOO,UAAWkD,EAAAnF,UAAUpC,SAAUujB,EAAO/e,QAAS+e,EAAO9e,UAC/HgjB,EAAYre,EAAAwC,kCAAkC7H,KAAKD,OAAO6M,WAAY5M,KAAKD,OAAOO,UAAWkD,EAAAnF,UAAUX,QAAS,GAAK,GACrHimB,EAASF,EAAWpd,OAAO,EAAI7C,EAAApE,OAAOO,cAEtCikB,EAAe,IAAIzoB,EAAG2L,MAC1B9G,KAAKD,OAAOO,UAAY,EACxBN,KAAKD,OAAO6M,WAAa,EAAI+W,EAC7BD,EAAUtd,MACVsd,EAAUrd,QAEZud,EAAatd,WAAW9C,EAAAnF,UAAUX,QAAQyY,YAC1CyN,EAAajc,MAAQ+b,EAAU/b,MAC/B3H,KAAKoQ,IAAIwT,GAET,IAAMC,EAAa,IAAI/T,EAAArV,QACrB+I,EAAAnF,UAAUpC,SACV+D,KAAKwjB,QAEPK,EAAW3V,UAAUuV,EAAWpd,QAChCwd,EAAW5V,SAASwV,EAAWrd,OAC/Byd,EAAWlc,MAAQ8b,EAAW9b,MAC9Bkc,EAAW7V,EAAIjO,EAAOO,UAAU,EAChCujB,EAAW9V,EAAIhO,EAAO6M,WAAa+W,EACnC3jB,KAAKoQ,IAAIyT,IAMJN,EAAAlrB,UAAAma,WAAP,WACEpN,EAAA3K,QAAaL,MAAMgK,mBAAmBZ,EAAAnF,UAAUH,eAE3CqlB,EAAAlrB,UAAAsa,aAAP,aAEF4Q,EA1CA,CAA6BpoB,EAAG8V,OAAnBzX,EAAA+pB,yaCVb,IAAApoB,EAAA/B,EAAA,GACAoK,EAAApK,EAAA,GACA6Y,EAAA7Y,EAAA,IACAgM,EAAAhM,EAAA,IAGAiM,EAAAjM,EAAA,IACA4W,EAAA5W,EAAA,IACA0W,EAAA1W,EAAA,IACA2T,EAAA3T,EAAA,GAEA0qB,EAAA,SAAAve,GAAA,SAAAue,IAAA,IAAAne,EAAA,OAAAJ,KAAA3M,MAAAoH,KAAA2iB,YAAA3iB,YAqCU2F,EAAAoe,OAAS,WACfpe,EAAK5F,OAAOsS,UAAUJ,EAAAnP,OAAOI,cAUjC,OAhD8B0B,EAAAkf,EAAAve,GAIrBue,EAAAzrB,UAAA+Z,aAAP,SAAoBrS,GAClBC,KAAKD,OAASA,EACdC,KAAKoQ,IAAIJ,EAAAvV,QAAkBkS,kBAAkB5M,IAE7C,IAAM2jB,EAAYre,EAAA0B,2BAA2B/G,KAAKD,OAAO6M,WAAY5M,KAAKD,OAAOO,UAAW,IAAK,IAAK,GAAK,KACrGkf,EAAwBzS,EAAAtS,QAAcL,MAAMoG,oBAC5CijB,EAAape,EAAAwC,kCAAkC9H,EAAO6M,WAAY7M,EAAOO,UAAWkD,EAAAnF,UAAUnC,SAAUsjB,EAAO/e,QAAS+e,EAAO9e,UAC/HijB,EAASF,EAAWpd,OAAO,EAAI7C,EAAApE,OAAOO,cAGtCqkB,EAAgB,IAAI7oB,EAAG2L,MAEvBmd,EADc,IAAI9oB,EAAGiR,YAAY5I,EAAAnF,UAAUE,SAAU,EAAG,EAAG,IAAK,KAC9B2lB,mBAAmBlkB,KAAKD,OAAQ,KACxEikB,EAAc1d,WAAW,OAAQ2d,GACjCjkB,KAAKoQ,IAAI4T,GACTA,EAAchW,EAAIhO,KAAKD,OAAOO,UAAU,EACxC0jB,EAAcjW,EAAI/N,KAAKD,OAAO6M,WAAW,EAAI+W,EAC7CK,EAAc9V,UAAUnO,EAAO6M,YAC/BoX,EAAc/V,SAASlO,EAAOO,WAC9B0jB,EAAcrc,MAAQ+b,EAAU/b,MAEhC,IAAMwc,EAAa,IAAIrU,EAAArV,QACrB+I,EAAAnF,UAAUnC,SACV8D,KAAK+jB,QAEPI,EAAWjW,UAAUuV,EAAWpd,QAChC8d,EAAWlW,SAASwV,EAAWrd,OAC/B+d,EAAWxc,MAAQ8b,EAAW9b,MAC9Bwc,EAAWnW,EAAIjO,EAAOO,UAAU,EAChC6jB,EAAWpW,EAAIhO,EAAO6M,WAAa+W,EACnC3jB,KAAKoQ,IAAI+T,IAOJL,EAAAzrB,UAAAma,WAAP,WACEpN,EAAA3K,QAAaL,MAAMgK,mBAAmBZ,EAAAnF,UAAUN,aAG3C+lB,EAAAzrB,UAAAsa,aAAP,WACEnP,EAAAnF,UAAUN,WAAW8F,QAEzBigB,EAhDA,CAA8B3oB,EAAG8V,OAApBzX,EAAAsqB,0aCXb,IAAAtgB,EAAApK,EAAA,GACA8L,EAAA9L,EAAA,GACMgrB,EAAUhrB,EAAQ,KAExBirB,EAAA,SAAA9e,GAEI,SAAA8e,IAAA,IAAA1e,EACIJ,EAAAhN,KAAAyH,OAAOA,YACP2F,EAAKnG,gBAAkBgE,EAAApE,OAAOI,gBAAgB8kB,WAC9C3e,EAAK4e,KAAOH,EACZze,EAAK6e,WAAa,IAClB7e,EAAK8e,UAAY,KAAA5kB,EAEzB,OATgC+E,EAAAyf,EAAA9e,GAShC8e,EATA,CAAgCnf,EAAAwf,QAAnBlrB,EAAA6qB,4aCJb,IAAA7gB,EAAApK,EAAA,GACA8L,EAAA9L,EAAA,GAEAurB,EAAA,SAAApf,GAEE,SAAAof,WACEpf,EAAAhN,KAAAyH,MACE4kB,8BACAC,YAAa3f,EAAA4f,YAAYC,WACzBC,aAAc9f,EAAA+f,MAAMC,aAAaC,OACjCC,sBACA5lB,gBAAiB0F,EAAAiK,MAAMwG,QAAQnS,EAAApE,OAAOI,oBACtCQ,KAMN,OAfkC4E,EAAA+f,EAAApf,GAYzBof,EAAAtsB,UAAAgtB,MAAP,SAAaC,GACX,OAAO/f,EAAAlN,UAAMgtB,MAAK9sB,KAAAyH,KAACslB,IAEvBX,EAfA,CAAkCzf,EAAAqgB,mbCHlC,IAAArgB,EAAA9L,EAAA,GACAoK,EAAApK,EAAA,GAEAosB,EAAA,SAAAjgB,GAMI,SAAAigB,EAAYzlB,GAAZ,IAAA4F,EACIJ,EAAAhN,KAAAyH,OAAOA,KAG2BmW,OAN9BxQ,EAAA8f,cAIJ9f,EAAK+f,gBAAkB3lB,EAAO6M,WAAa,EAC3CjH,EAAKggB,aAAe5lB,EAAO6M,WAAa,EACzBpJ,EAAAnF,UAAUf,SAAS6Y,WAElCxQ,EAAKqI,EAAIjO,EAAOO,UAAY,GAC5BqF,EAAKoI,EAAIhO,EAAO6M,WAAa,EAC7BjH,EAAKW,WAAW9C,EAAAnF,UAAUf,SAAS6Y,YACnCxQ,EAAKsI,SAJkB,IAKvBtI,EAAKuI,UALkB,IAMvBvI,EAAKgC,MAAQ,IAAIzC,EAAA0C,OANM,GAMgB,IANhB,GAMoC,KAE3DjC,EAAKY,GAAG,mBAAoB,SAACqf,GACzBjgB,EAAK8f,gBAGT9f,EAAKY,GAAG,iBAAkB,SAACqf,GACvBjgB,EAAK8f,gBAGT9f,EAAKY,GAAG,kBAAmB,SAACqf,GACxB,GAAIjgB,EAAK8f,WAAY,CACjB,IAAMI,EAASD,EAAGE,QAAQC,aAAahY,EACnC8X,EAASlgB,EAAKggB,cAAgBE,EAASlgB,EAAK+f,kBAC5C/f,EAAKoI,EAAI6X,EAAGE,QAAQC,aAAahY,MAK7CpI,EAAKY,GAAG,mBAAoB,SAACqf,GACzB,GAAIjgB,EAAK8f,WAAY,CACjB,IAAMI,EAASD,EAAGE,QAAQC,aAAahY,EACnC8X,EAASlgB,EAAKggB,cAAgBE,EAASlgB,EAAK+f,kBAC5C/f,EAAKoI,EAAI6X,EAAGE,QAAQC,aAAahY,QAYrD,OApDuCnJ,EAAA4gB,EAAAjgB,GA8C5BigB,EAAAntB,UAAAoY,gBAAP,SAAuBuV,GACnBhmB,KAAK0lB,gBAAkBM,EACpBla,KAAKyM,MAAMvY,KAAK0lB,kBAAoB5Z,KAAKyM,MAAMvY,KAAK2lB,gBACnD3lB,KAAKimB,aAGjBT,EApDA,CAAuCtgB,EAAA4B,kbCHvC,IAAA5B,EAAA9L,EAAA,GACAoK,EAAApK,EAAA,GACA6Y,EAAA7Y,EAAA,IACAiM,EAAAjM,EAAA,IACAgM,EAAAhM,EAAA,IACA2T,EAAA3T,EAAA,GAGA8sB,EAAA,SAAA3gB,GAAA,SAAA2gB,mDA+BA,OA/B8BthB,EAAAshB,EAAA3gB,GACrB2gB,EAAA7tB,UAAA+Z,aAAP,SAAoBrS,GAClB,IAAMomB,EAAUpmB,EAAOO,UAAY,EAG7BuN,EAAOxI,EAAAwC,kCAAkC9H,EAAO6M,WAAY7M,EAAOO,UAAWkD,EAAAnF,UAAUlC,MAAO,GAAK,IACpGA,EAAQ,IAAI+I,EAAA4B,MAAMqf,EAAStY,EAAKxH,OAAO,EAAI7C,EAAApE,OAAOG,YAAasO,EAAKzH,MAAOyH,EAAKxH,QACtFlK,EAAMwL,MAAQkG,EAAKlG,MACnBxL,EAAMmK,WAAW9C,EAAAnF,UAAUlC,OAC3B6D,KAAKoQ,IAAIjU,GAEH,IAAAsS,EAAA1B,EAAAtS,QAAAL,MAAAoG,oBAACC,EAAAgO,EAAAhO,QAASC,EAAA+N,EAAA/N,SACV+iB,EAAape,EAAAwC,kCAAkC9H,EAAO6M,WAAY7M,EAAOO,UAAWkD,EAAAnF,UAAU5C,UAAWgF,EAASC,GAElH2kB,EAAQrlB,KAAK+Q,aAAa0S,EAAY0C,EAAUhqB,EAAMujB,YAAclc,EAAApE,OAAOO,cAAgB8jB,EAAWpd,OAAO,EAAG7C,EAAAnF,UAAU5C,UAAW,WAAM,OAAAsE,EAAOsS,UAAUJ,EAAA1O,mBAC5J6iB,EAAUpmB,KAAK+Q,aAAa0S,EAAY0C,EAASd,EAAM3F,YAAclc,EAAApE,OAAOG,YAAckkB,EAAWpd,OAAO,EAAG7C,EAAAnF,UAAU3C,WAAY,WAAM,OAAAqE,EAAOsS,UAAUJ,EAAAnP,OAAOO,WACnKgjB,EAAOrmB,KAAK+Q,aAAa0S,EAAY0C,EAASC,EAAQ1G,YAAclc,EAAApE,OAAOG,YAAakkB,EAAWpd,OAAO,EAAG7C,EAAAnF,UAAU1C,SAAU,WAAM,OAAAoE,EAAOsS,UAAUJ,EAAAnP,OAAOQ,QAErKtD,KAAKoQ,IAAIiV,GACTrlB,KAAKoQ,IAAIgW,GACTpmB,KAAKoQ,IAAIiW,GAETrmB,KAAKqQ,aAAagW,EAAK3G,aACvB1f,KAAKwQ,WAAW6V,EAAK3G,cAGhBwG,EAAA7tB,UAAAma,WAAP,WACEpN,EAAA3K,QAAaL,MAAM+J,sBAGd+hB,EAAA7tB,UAAAsa,aAAP,aACFuT,EA/BA,CAFA9sB,EAAA,IAE8BqB,SAAjBjB,EAAA0sB,2LCRbzsB,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GCAAd,EAAAD,QAAAJ,EAAAwB,EAAA,iDAAAgF,EAAAC,EAAAtF,GAAA,aAAAnC,OAAA6B,eAAA4F,EAAA,cAAAvF,OAAA,ICAA,IAAAkJ,EAAApK,EAAA,GACA6Y,EAAA7Y,EAAA,IACAktB,EAAAltB,EAAA,KACAmtB,EAAAntB,EAAA,KACAotB,EAAAptB,EAAA,KACAqtB,EAAArtB,EAAA,KACAstB,EAAAttB,EAAA,KACAutB,EAAAvtB,EAAA,KACAwtB,EAAAxtB,EAAA,KACA2T,EAAA3T,EAAA,GACAyH,EAAAzH,EAAA,IACAytB,EAAAztB,EAAA,KACA0tB,EAAA1tB,EAAA,KAEM2tB,EAAO,IAAIR,EAAA9rB,QACXusB,EAAW,IAAIV,EAAAJ,SAASa,GACxBX,EAAU,IAAIO,EAAAjE,QAAQqE,GAC5BA,EAAK3W,IAAI6B,EAAAnP,OAAOI,UAAW8jB,GAC3BD,EAAK3W,IAAI6B,EAAAnP,OAAOK,UAAW,IAAIsjB,EAAA3C,SAASiD,IACxCA,EAAK3W,IAAI6B,EAAAnP,OAAOE,kBAAmB,IAAI6jB,EAAA/K,gBAAgBiL,IACvDA,EAAK3W,IAAI6B,EAAAnP,OAAOG,iBAAkB,IAAI6jB,EAAAhT,eAAeiT,IACrDA,EAAK3W,IAAI6B,EAAAnP,OAAOM,QAAS,IAAIsjB,EAAAnD,QAAQwD,IACrCA,EAAK3W,IAAI6B,EAAAnP,OAAOO,QAAS+iB,GACzBW,EAAK3W,IAAI6B,EAAAnP,OAAOQ,KAAM,IAAIsjB,EAAAxH,KAAK2H,IAE/B,IAAIzB,EAAS,IAAIkB,EAAAnC,WACjBjsB,OAAO6uB,KAAKzjB,EAAAnF,WACTqU,QAAQ,SAAAwU,GAAK,OAAA5B,EAAO6B,YAAY3jB,EAAAnF,UAAU6oB,MAE7CH,EAAK1B,MAAMC,GAAQ3gB,KAAK,WACtB9D,EAAApG,QAAsBwF,aACnB0E,KAAK,WACJoI,EAAAtS,QAAcwF,WAAW8mB,GACzBA,EAAK1U,UAAUJ,EAAAnP,OAAOI","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([290,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import * as ex from 'excalibur';\n\nconst sword = require('./images/sword.png');\nconst skull = require('./images/skull.png');\nconst potion = require('./images/potion.png');\nconst coin = require('./images/coin.png');\nconst card = require('./images/card.png');\nconst startMenu = require('./images/menu/start.png');\nconst optionMenu = require('./images/menu/options.png');\nconst helpMenu = require('./images/menu/help.png');\nconst cardsMenu = require('./images/menu/cards.png');\nconst introMenu = require('./images/menu/intro.png');\nconst creditsMenu = require('./images/menu/credits.png');\nconst playingMenu = require('./images/menu/playing.png');\nconst confirmMenu = require('./images/menu/confirm.png');\nconst nextMenu = require('./images/menu/next.png');\nconst menuMenu = require('./images/menu/menu.png');\n\nconst title = require('./images/title.png');\nconst gameOverImg = require('./images/gameOver.png');\nconst zero = require('./images/numbers/0.png');\nconst one = require('./images/numbers/1.png');\nconst two = require('./images/numbers/2.png');\nconst three = require('./images/numbers/3.png');\nconst four = require('./images/numbers/4.png');\nconst five = require('./images/numbers/5.png');\nconst six = require('./images/numbers/6.png');\nconst seven = require('./images/numbers/7.png');\nconst eight = require('./images/numbers/8.png');\nconst nine = require('./images/numbers/9.png');\n\nconst uiSword = require('./images/ui/sword.png');\nconst uiHeart = require('./images/ui/heart.png');\nconst uiCoins = require('./images/ui/coinPile.png');\nconst uiLeft = require('./images/ui/left.png');\nconst uiRight = require('./images/ui/right.png');\nconst uiX = require('./images/ui/x.png');\nconst uiBlank = require('./images/ui/blank.png');\nconst uiScroll = require('./images/ui/scroll.png');\n\nconst optionTitle = require('./images/optionTitle.png');\nconst helpTitle = require('./images/helpTitle.png');\n\nconst fontMono = require('./fonts/myMono.png');\n\nconst victory = require('./images/victory.png');\nconst cardSound = require('./sounds/card.wav');\nconst potionSound = require('./sounds/potion.wav');\nconst boneSound = require('./sounds/bone.wav');\nconst swordSound = require('./sounds/sword.wav');\nconst laughSound = require('./sounds/laugh.ogg');\nconst coinSound = require('./sounds/coin.wav');\nconst backgroundMusic = require('./sounds/background.wav');\nconst victorySound = require('./sounds/victory.mp3');\nconst buttonSound = require('./sounds/button.wav');\n\nconst backgroundTile = require('./images/background.png');\n\nconst Resources = {\n    victory: new ex.Texture(victory),\n    gameOver: new ex.Texture(gameOverImg),\n    title: new ex.Texture(title),\n    sword: new ex.Texture(sword),\n    skull: new ex.Texture(skull),\n    potion: new ex.Texture(potion),\n    coin: new ex.Texture(coin),\n    card: new ex.Texture(card),\n\n    startMenu: new ex.Texture(startMenu),\n    optionMenu: new ex.Texture(optionMenu), \n    helpMenu: new ex.Texture(helpMenu),\n    cardMenu: new ex.Texture(cardsMenu),\n    introMenu: new ex.Texture(introMenu),\n    creditsMenu: new ex.Texture(creditsMenu),\n    playingMenu: new ex.Texture(playingMenu),\n    confirmMenu: new ex.Texture(confirmMenu),\n    nextMenu: new ex.Texture(nextMenu),\n    menuMenu: new ex.Texture(menuMenu),\n\n    optionTitle: new ex.Texture(optionTitle),\n    helpTitle: new ex.Texture(helpTitle),\n    backgroundTile: new ex.Texture(backgroundTile),\n\n    0: new ex.Texture(zero), \n    1: new ex.Texture(one), \n    2: new ex.Texture(two), \n    3: new ex.Texture(three), \n    4: new ex.Texture(four), \n    5: new ex.Texture(five), \n    6: new ex.Texture(six), \n    7: new ex.Texture(seven), \n    8: new ex.Texture(eight), \n    9: new ex.Texture(nine), \n\n    uiSword: new ex.Texture(uiSword),\n    uiHeart: new ex.Texture(uiHeart),\n    uiLeft: new ex.Texture(uiLeft),\n    uiRight: new ex.Texture(uiRight),\n    uiX: new ex.Texture(uiX),\n    uiBlank: new ex.Texture(uiBlank),\n    uiCoins: new ex.Texture(uiCoins),\n    uiScroll: new ex.Texture(uiScroll),\n\n    myMono: new ex.Texture(fontMono),\n\n    cardSound: new ex.Sound(cardSound),\n    boneSound: new ex.Sound(boneSound),\n    coinSound: new ex.Sound(coinSound),\n    laughSound: new ex.Sound(laughSound),\n    potionSound: new ex.Sound(potionSound),\n    swordSound: new ex.Sound(swordSound),\n    victorySound: new ex.Sound(victorySound),\n    buttonSound: new ex.Sound(buttonSound),\n    backgroundMusic: new ex.Sound(backgroundMusic),\n}\n\nconst Config = {\n    maxHealth: 3,\n    maxAttack: 2,\n    gridPadding: 4,\n    backgroundColor: \"#dddddd\",\n    exitButtonSize: 50,\n    uiBigSize: 50,\n    optionPadding: 30,\n};\n\nexport { Resources, Config, uiHeart}\n","import { Engine } from \"excalibur\";\n\nexport interface IButtonSizing {\n    padding: number, \n    maxScale: number\n}\n/***\n * Deal with font and item scaling for mobile devices\n */\nexport default class SizingManager {\n    private engine: Engine;\n    private static singleton: SizingManager;\n\n    private constructor(engine: Engine) {\n        this.engine = engine;\n    }\n\n    public static initialize(engine: Engine) {\n        if(!this.singleton) {\n            this.singleton = new SizingManager(engine);\n        } else {\n            console.log(\"ERROR: Mobile Manager already initialized\");\n        }\n    }\n\n    public static get(): SizingManager {\n        if(this.singleton) {\n            return this.singleton;\n        } else {\n            throw \"Mobile Manager Not defined yet\";\n        }\n    }\n\n    public isMobile(): boolean {\n        return this.engine.drawWidth < 1200; \n    }\n    public getUIItemSize() {\n        return this.isMobile() ? 30 : 50;\n    }\n\n    public getUIButtonSizing(): IButtonSizing {\n        return this.isMobile() \n        ? {padding: 0.4, maxScale: 0.3}\n        : {padding: 0.4, maxScale: 0.5}\n    }\n\n    public getMenuHeight(): number {\n        return this.getUIItemSize() * 4;\n    }\n\n}","import { Difficulty } from \"./difficulty\";\nimport PlayerSettingsManager from \"./playerSettingsManager\";\n\nexport default class ProgressionManager {\n    private static stagesPerNormalLevel = 3;\n\n    private static singleton: ProgressionManager;\n    \n    private constructor() {\n    }\n\n    public static get(): ProgressionManager {\n        if (this.singleton) {\n            return this.singleton;\n        } else {\n            this.singleton = new ProgressionManager();\n            return this.singleton;\n        }\n    }\n\n    public getGameGridSize(): number {\n        const ps = PlayerSettingsManager.get();\n        if(ps.isProgressionDisabled()) {\n            return ps.getChosenGridSize();\n        } else {\n            //add 2 to handle the offset from the base grid size i.e. level 1 is grid size 3\n            return ps.getCurrentLevel() + 2;\n        }\n    }\n\n    public getOptionGridSize(): number {\n        return PlayerSettingsManager.get().getChosenGridSize();\n    }\n\n    public getDifficulty(): Difficulty {\n        return PlayerSettingsManager.get().getChosenDifficulty();\n    }\n\n    public getSkullFactor(): number {\n        return this.getDifficulty().getSkeletonFactor();\n    }\n\n    public getBuffFactor(): number {\n        return this.getDifficulty().getBuffFactor();\n    }\n\n    public isProgressionDisabled() {\n        return PlayerSettingsManager.get().isProgressionDisabled();\n    }\n\n    public progress(): void {\n        if(!PlayerSettingsManager.get().isProgressionDisabled()) {\n            const currentLevel = PlayerSettingsManager.get().getCurrentLevel();\n            const currentStage = PlayerSettingsManager.get().getCurrentStage();\n    \n            if(currentStage >= ProgressionManager.stagesPerNormalLevel) {\n                //on the last stage of the level, need to find out if we can move on or just move up stages\n                if(currentLevel === PlayerSettingsManager.get().maxLevel) {\n                    // on the max upgraded level just increase stage\n                    PlayerSettingsManager.get().setCurrentStage(currentStage + 1);\n                } else {\n                    PlayerSettingsManager.get().setCurrentStage(1);\n                    PlayerSettingsManager.get().setCurrentLevel(currentLevel + 1);\n                }\n            } else {\n                //move on to the next stage, no extra logic\n                PlayerSettingsManager.get().setCurrentStage(currentStage + 1);\n            }  \n        }\n    }\n\n    public setGridSize(newSize: number) {\n        PlayerSettingsManager.get().setChosenGridSize(newSize);\n    }\n\n    public setDifficulty(difficulty: number) {\n        PlayerSettingsManager.get().setChosenDifficulty(Difficulty.getByDifficultyLevel(difficulty));\n    }\n\n    public setProgressionDisabled(isProgressDisabled: boolean) {\n        return PlayerSettingsManager.get().setProgressionDisabled(isProgressDisabled);\n    }\n\n    public resetProgress(): void {\n        const ps = PlayerSettingsManager.get();\n        if (!ps.isProgressionDisabled()) {\n            ps.setCurrentLevel(1);\n            ps.setCurrentStage(1);\n        }\n    }\n\n    public getLevelString(): string {\n        if (PlayerSettingsManager.get().getCurrentStage() > ProgressionManager.stagesPerNormalLevel) {\n            return \"MAXED\";\n        } else {\n            return `${PlayerSettingsManager.get().getCurrentLevel()}.${PlayerSettingsManager.get().getCurrentStage()}`;\n        }\n    }\n}","import ProgressionManager from \"../engine/progression/progressionManager\";\n\nexport enum Scenes {\n    STORY_GAME_WINDOW = \"storyGameWindow\",\n    GRID_GAME_WINDOW = \"gridGameWindow\",\n    MAIN_MENU = \"mainMenu\",\n    GAME_OVER = \"gameOver\",\n    VICTORY = \"victory\",\n    OPTIONS = \"options\",\n    HELP = \"help\",\n}\n\nexport function getGameWindow(): Scenes {\n    return ProgressionManager.get().isProgressionDisabled()\n        ? Scenes.GRID_GAME_WINDOW \n        : Scenes.STORY_GAME_WINDOW;\n}","import { Sound } from \"excalibur\";\nimport { Resources } from \"../../resources\";\nimport PlayerSettingsManager from \"../progression/playerSettingsManager\";\n\nexport default class SoundManager {\n    private static soundManager: SoundManager;\n    private currentSound: Sound;\n    private backgroundSound: Sound;\n\n    /**\n     * returns a singleton instance of the sound manager\n     */\n    public static get(): SoundManager {\n        if (SoundManager.soundManager) {\n            return SoundManager.soundManager;\n        } else {\n            SoundManager.soundManager = new SoundManager();\n            return SoundManager.soundManager;\n        }\n    }\n\n    public disableSound() {\n        if (this.backgroundSound) {\n            this.backgroundSound.stop();\n            this.backgroundSound = null;\n        }\n    }\n\n    public backgroundMusicStart(): void {\n        if (!PlayerSettingsManager.get().isSoundOff()) {\n            if (!this.backgroundSound) {\n                this.backgroundSound = Resources.backgroundMusic;\n                this.backgroundSound.volume = 0.1;\n                this.backgroundSound.loop = true;\n                this.backgroundSound.play();\n            }\n        }\n    }\n\n    public backgroundMusicEnd(): void {\n        if(PlayerSettingsManager.get().isSoundOff()) {\n            if (this.backgroundSound) {\n                this.backgroundSound.stop();\n                this.backgroundSound = null;\n            }\n        }\n    }\n\n    public playSoundInterrupt(sound: Sound);\n    public playSoundInterrupt(sound: Sound, after: () => void);\n    public playSoundInterrupt(sound: Sound, after?: () => void): void {\n        if (this.currentSound && this.currentSound.isPlaying()) {\n            this.currentSound.pause();\n            this.currentSound = null;\n        }\n        this.playSoundWithAfter(sound, after);\n    }\n\n    private playSoundWithAfter(sound: Sound, after?: () => void) {\n        if (!PlayerSettingsManager.get().isSoundOff()) {\n            this.currentSound = sound;\n            if (after) {\n                sound.play().then(after);\n            } else {\n                sound.play();\n            }\n        }\n    }\n\n}","import { Actor, Sprite, EventTypes } from \"excalibur\";\nimport { Supplier } from \"java8script\";\nimport { Darken } from \"excalibur/dist/Drawing/SpriteEffects\";\nimport SoundManager from \"../../engine/managers/soundManager\";\nimport { Resources } from \"../../resources\";\nimport { safePointerUp } from \"../../engine/helpers\";\n\nexport default class ButtonBase extends Actor {\n    private sprite: Sprite;\n    public drawHeight: number;\n    private disabled: boolean;\n\n    public constructor(texture: ex.Texture, onClick: Supplier<void>, disabled?: boolean) {\n        super();\n        this.disabled = disabled ? disabled : false;\n        this.sprite = new Sprite(texture, 0, 0, texture.width, texture.height);\n        this.addDrawing(this.sprite);\n        this.on(\"pointerdown\", this.onDown);\n        this.on(EventTypes.PointerUp, this.onClickWrapper(onClick));\n        this.on(\"pointerenter\", this.onEnter);\n        this.on(\"pointerleave\", this.onExit);\n    }\n\n    public getSprite():Sprite {\n        return this.sprite;\n    }\n\n    private onClickWrapper(onClick: Supplier<void>) {\n        return safePointerUp(() => {\n            if (!this.disabled) {\n                this.sprite.clearEffects();\n                SoundManager.get().playSoundInterrupt(Resources.buttonSound);\n                onClick();\n            }\n        });\n    }\n\n    private onDown: () => void = () => {\n        if (!this.disabled) {\n            this.sprite.clearEffects();\n            this.sprite.addEffect(new Darken(0.2))\n        }\n\n    }\n\n    private onEnter: () => void = () => {\n        if (!this.disabled) {\n            this.sprite.clearEffects();\n            this.sprite.addEffect(new Darken(0.1))\n        }\n\n    }\n\n    private onExit: () => void = () => {\n        if (!this.disabled) {\n            this.sprite.clearEffects();\n        }\n    }\n\n    public setDisabled(disabled: boolean) {\n        this.disabled = disabled;\n    }\n\n}","import { Texture, Vector } from \"excalibur\";\nimport { Supplier } from \"java8script\";\n\ninterface IDimensions {\n    width: number;\n    height: number;\n    scale: Vector;\n}\n\n//paddingPercent should be a decimal between 0-1\nfunction calcDimensionsSingleObjectTexture(screenHeight: number, screenWidth: number, texture: Texture, paddingPercent?: number, maxScale?: number): IDimensions {\n    return calcDimensionsSingleObject(screenHeight, screenWidth, texture.height, texture.width, paddingPercent, maxScale);\n}\n\nfunction calcDimensionsSingleObject(screenHeight: number, screenWidth: number, textHeight: number, textWidth: number, paddingPercent?: number, maxScale?: number): IDimensions {\n\n    const paddingToUse = paddingPercent ? paddingPercent : 1;\n    const maxHeight = screenHeight * paddingToUse;\n    const maxWidth = screenWidth * paddingToUse;\n    const scaleByWidth = maxWidth / textWidth;\n\n    if ((scaleByWidth * textHeight) > screenHeight) {\n        // using width as the scale base pushes height out of the screen\n        const scaleByHeight = maxHeight / textHeight;\n        const scaleToUse = maxScale < scaleByHeight ? maxScale : scaleByHeight;\n        return {\n            width: textWidth * scaleToUse,\n            height: maxHeight,\n            scale: new Vector(scaleToUse, scaleToUse)\n        }\n    } else {\n        const scaleToUse = maxScale < scaleByWidth ? maxScale : scaleByWidth;\n        return {\n            width: maxWidth,\n            height: textHeight * scaleToUse,\n            scale: new Vector(scaleToUse, scaleToUse)\n        }\n    }\n}\n\nfunction safePointerUp(onClick: Supplier<void>): (event?: any) => void {\n    return (event?: any) => {\n            if (event.ev.type === \"pointerup\") {\n                //this is kinda nasty need to filter out the duplicate touch events, only accept the regular pointer up ones\n                onClick();\n            }\n    }\n}\n\n\nexport {\n    IDimensions,\n    calcDimensionsSingleObject,\n    calcDimensionsSingleObjectTexture,\n    safePointerUp\n}","import { Optional } from \"java8script\";\nimport { Difficulty } from \"./difficulty\";\nimport * as localForage from \"localforage\";\nimport { CardType } from \"../../actors/card/card\";\nimport { GridState } from \"./gridState\";\n\n//this class will encompase the save state of the player\n//all the things they can update or should be tracked\n\ninterface SaveDataV1 {\n    version: number;\n    soundOff: boolean;\n    progressionDisabled: boolean;\n    chosenDifficulty: number; //difficulty level number\n    chosenGridSize: number;\n    maxLevel: number;\n    maxDifficulty: number; //difficulty level number\n    currentLevel: number;\n    currentStage: number;\n    storyGrid?: SaveDataGrid;\n    practiceGrid?: SaveDataGrid;\n    totalCoins: number;\n}\n\nexport interface SaveDataGrid {\n    hearts: number;\n    swords: number;\n    coins: number;\n    gridSize: number;\n    grid: SaveCellData[][];\n};\n\nexport interface SaveCellData {\n    type: CardType;\n    flipped: boolean;\n}\n\n\nexport default class PlayerSettingsManager {\n    private static STORE_KEY = 'player_settings_v1';\n    public static singleton: PlayerSettingsManager;\n    private static DEFAULT: PlayerSettingsManager = new PlayerSettingsManager(false, false, Difficulty.VERY_EASY, 3, 3, Difficulty.NORMAL, 1, 1, Optional.empty(), Optional.empty(), 0);\n\n\n    //Settings\n    private soundOff: boolean;\n    private progressionDisabled: boolean;\n    private chosenDifficulty: Difficulty;\n    private chosenGridSize: number;\n\n    //Unlocks\n    public readonly maxLevel: number; //unused atm\n    public readonly maxDifficulty: Difficulty; //unused atm\n\n    //Progression\n    private totalCoins: number; //total coins collected, outside of current games\n    private currentLevel: number;\n    private currentStage: number;\n    private storyGrid: Optional<GridState>;\n    private practiceGrid: Optional<GridState>;\n\n\n    private constructor(toggleSound: boolean,\n        progressionDisabled: boolean,\n        chosenDiff: Difficulty,\n        chosenGridSize: number,\n        maxLevel: number,\n        maxDiff: Difficulty,\n        currentLevel: number,\n        currentStage: number,\n        storyGrid: Optional<GridState>,\n        practiceGrid: Optional<GridState>,\n        totalCoins: number,\n    ) {\n        this.soundOff = toggleSound;\n        this.progressionDisabled = progressionDisabled;\n        this.chosenDifficulty = chosenDiff;\n        this.chosenGridSize = chosenGridSize;\n        this.maxLevel = maxLevel;\n        this.maxDifficulty = maxDiff;\n        this.currentLevel = currentLevel;\n        this.currentStage = currentStage;\n        this.storyGrid = storyGrid;\n        this.practiceGrid = practiceGrid;\n        this.totalCoins = totalCoins;\n    }\n\n    public static get(): PlayerSettingsManager {\n        return this.singleton;\n    }\n\n    public static initialize(): Promise<any> {\n        localForage.config({\n            name: 'skeletonFlip',\n            version: 1.0,\n            size: 4980736,\n            storeName: 'playerSettings',\n            description: 'Store save data'\n        });//try with no settings\n        return localForage.getItem(PlayerSettingsManager.STORE_KEY, (e, v) => {\n            console.log(`retrieved from storage:`, [v]);\n            if (e) {\n                console.log(`problem retrieving from store: ${e}`);\n                this.singleton = PlayerSettingsManager.DEFAULT;\n            } else if (!v) {\n                this.singleton = PlayerSettingsManager.DEFAULT;\n            } else {\n                const saveData: any = v;\n                if (saveData.version === 1) {\n                    this.singleton = PlayerSettingsManager.deserializeV1(saveData);\n                }\n            }\n        });\n    }\n    /** \n    * clear grid state\n    */\n    public saveGridState(): void;\n    /** \n     * clear grid state\n     */    \n    public saveGridState(gridState: GridState);\n    public saveGridState(gridState?: GridState): void {\n        if (this.isProgressionDisabled()) {\n            this.practiceGrid = Optional.ofNullable(gridState);\n        } else {\n            this.storyGrid = Optional.ofNullable(gridState);\n        }\n        this.saveToStorage();\n    }\n\n    public getGridState(): Optional<GridState> {\n        if (this.isProgressionDisabled()) {\n            return this.practiceGrid;\n        } else {\n            return this.storyGrid;\n        }\n    }\n\n    public setCurrentLevel(newCurrent: number): void {\n        this.currentLevel = newCurrent;\n        this.saveToStorage();\n    }\n\n    public setCurrentStage(newStage: number): void {\n        this.currentStage = newStage;\n        this.saveToStorage();\n    }\n\n    public setChosenGridSize(gridSize: number): void {\n        this.chosenGridSize = gridSize;\n        this.saveToStorage();\n    }\n\n    public setChosenDifficulty(difficutly: Difficulty): void {\n        this.chosenDifficulty = difficutly;\n        this.saveToStorage();\n    }\n\n    public isSoundOff(): boolean {\n        return this.soundOff;\n    }\n\n    public setIsSoundOff(isSoundOff: boolean): void {\n        this.soundOff = isSoundOff;\n        this.saveToStorage();\n    }\n\n    public getCurrentLevel(): number {\n        return this.currentLevel;\n    }\n\n    public getCurrentStage(): number {\n        return this.currentStage;\n    }\n\n    public getChosenDifficulty(): Difficulty {\n        return this.chosenDifficulty;\n    }\n\n    public getChosenGridSize(): number {\n        return this.chosenGridSize;\n    }\n\n    public setProgressionDisabled(isProgDisabled: boolean) {\n        this.progressionDisabled = isProgDisabled;\n        this.saveToStorage();\n    }\n\n    public isProgressionDisabled(): boolean {\n        return this.progressionDisabled;\n    }\n\n    public getTotalCoins(): number {\n        return this.totalCoins;\n    }\n\n    public setTotalCoins(newTotal: number): void {\n        this.totalCoins = newTotal;\n        this.saveToStorage();\n    }\n\n    private serializeV1(): SaveDataV1 {\n        return {\n            version: 1,\n            soundOff: this.soundOff,\n            progressionDisabled: this.progressionDisabled,\n            chosenDifficulty: this.chosenDifficulty.getDifficultyLevel(),\n            chosenGridSize: this.chosenGridSize,\n            maxLevel: this.maxLevel,\n            maxDifficulty: this.maxDifficulty.getDifficultyLevel(),\n            currentLevel: this.currentLevel,\n            currentStage: this.currentStage,\n            storyGrid: this.storyGrid.map(g => g.toSaveState()).orElse(null),\n            practiceGrid: this.practiceGrid.map(g => g.toSaveState()).orElse(null),\n            totalCoins: this.totalCoins,\n        }\n\n    }\n\n    private static deserializeV1(save: SaveDataV1): PlayerSettingsManager {\n        return new PlayerSettingsManager(\n            save.soundOff,\n            save.progressionDisabled,\n            Difficulty.getByDifficultyLevel(save.chosenDifficulty),\n            save.chosenGridSize,\n            save.maxLevel,\n            Difficulty.getByDifficultyLevel(save.maxDifficulty),\n            save.currentLevel,\n            save.currentStage,\n            Optional.ofNullable(save.storyGrid).map(s => GridState.fromSaveState(s)),\n            Optional.ofNullable(save.practiceGrid).map(s => GridState.fromSaveState(s)),\n            save.totalCoins\n        );\n    }\n\n    private saveToStorage() {\n        localForage.setItem(\n            PlayerSettingsManager.STORE_KEY,\n            this.serializeV1(),\n        );\n    }\n}","import { SpriteFont } from \"excalibur\";\nimport { Resources } from \"../../resources\";\n\nexport default class FontManager {\n\n    private generalMono: SpriteFont;\n    private static singleton: FontManager;\n    \n    //this class should not be constructed until after the resources have been loaded\n    private constructor() {\n        this.generalMono = new SpriteFont(Resources.myMono, '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ.: ', true, 12, 4, 99, 135);\n    }\n\n    public static get(): FontManager {\n        if(this.singleton) {\n            return this.singleton;\n        } else {\n            return new FontManager();\n        }\n    }\n\n    public getMono(): SpriteFont {\n        return this.generalMono;\n    }\n\n}","import { TileMap, SpriteSheet, TileSprite, Engine } from \"excalibur\";\nimport { Resources } from \"../../resources\";\n\nexport default class BackgroundManager {\n\n    private tileMap: TileMap;\n\n    constructor(width: number, height: number) {\n        const tile = Resources.backgroundTile;\n        const numberOfCols = Math.ceil(width / tile.width); //todo might need an int\n        const numberOfRows = Math.ceil(height / tile.height);\n        const sheetId = \"background\";\n\n        const tileMap = new TileMap(0, 0, tile.width, tile.height, numberOfRows, numberOfCols);\n        tileMap.registerSpriteSheet(sheetId, new SpriteSheet(tile, 1, 1, tile.width, tile.height));\n        const tileSprite = new TileSprite(sheetId, 0);\n        for (let row = 0; row < numberOfRows * numberOfCols; row++) {\n\n            tileMap.getCellByIndex(row).pushSprite(tileSprite);\n        }\n        this.tileMap = tileMap;\n    }\n\n    private getTileMap(): TileMap {\n        return this.tileMap;\n    }\n\n    public static getDefaultTileMap(engine: Engine): TileMap {\n        return new BackgroundManager(engine.drawWidth, engine.drawHeight).getTileMap();\n    }\n\n    public static getCustomTileMap(width, height): TileMap {\n        return new BackgroundManager(width, height).getTileMap();\n    }\n}","import * as ex from 'excalibur';\nimport { Config, Resources } from '../../resources';\nimport { Supplier } from 'java8script'\nimport { Vector, Sprite } from 'excalibur';\nimport { Darken } from 'excalibur/dist/Drawing/SpriteEffects';\nimport SoundManager from '../../engine/managers/soundManager';\nimport ProgressionManager from '../../engine/progression/progressionManager';\nimport { IDimensions } from '../../engine/helpers';\nimport SizingManager from '../../engine/managers/sizingManager';\nimport { CardCallbackProvider } from './cardCallbackProvider';\n\nexport enum CardType {\n    COIN = \"coin\",\n    SKELETON = \"skeleton\",\n    POTION = \"potion\",\n    ATTACK = \"attack\",\n}\n\ninterface ICard {\n    type: () => CardType;\n}\n\nexport class Card extends ex.Actor implements ICard {\n\n    private cardType: CardType;\n    private passedInOnClick: Supplier<void>;\n    private row: number;\n    private col: number;\n    private flipped: boolean;\n    private texture: ex.Texture;\n    private baseSprite: Sprite;\n\n    public constructor(screenCenter: ex.Vector, col: number, row: number, onClick: Supplier<void>, faceColor: ex.Color, type: CardType, texture: ex.Texture) {\n        super();\n        this.cardType = type;\n        this.passedInOnClick = onClick;\n        this.row = row;\n        this.col = col;\n        this.flipped = false;\n        this.texture = texture;\n        const dims: IDimensions = Card.calcCardDimensions(screenCenter.y * 2, screenCenter.x * 2)\n        this.baseSprite = Card.sprite(Resources.card, dims.scale);\n        this.addDrawing(\"base\", this.baseSprite);\n        this.addDrawing(\"flip\", Card.sprite(this.texture, dims.scale));\n        this.setWidth(dims.width);\n        this.setHeight(dims.height);\n        this.on(\"pointerup\", this.fullOnClick);\n        this.on(\"pointerenter\", this.onEnter);\n        this.on(\"pointerleave\", this.onExit);\n        this.x = Card.calcX(col, dims.width, screenCenter) + dims.width; //adding on padding for drawing from center of card\n        this.y = Card.calcY(dims.height, row, screenCenter) + dims.height;\n    }\n\n    private onEnter: () => void = () => {\n        this.baseSprite.clearEffects();\n        this.baseSprite.addEffect(new Darken(0.2));\n    }\n\n    private onExit: () => void = () => {\n        this.baseSprite.clearEffects();\n    }\n\n    private static calcX(col: number, cardWidth: number, center: ex.Vector): number {\n        const leftSide = center.x\n            - ((ProgressionManager.get().getGameGridSize() / 2) * cardWidth)\n            - ((ProgressionManager.get().getGameGridSize() - 1) * Config.gridPadding) / 2;\n\n        return leftSide + (cardWidth * col) + (Config.gridPadding * col)\n    }\n\n    private static calcY(cardHeight: number, row: number, center: ex.Vector) {\n        const top = center.y // center of screen\n            + (SizingManager.get().getMenuHeight() / 2) //adjust for menu size\n            - ((ProgressionManager.get().getGameGridSize() / 2) * cardHeight)\n            - ((ProgressionManager.get().getGameGridSize() - 1) * Config.gridPadding) / 2;\n\n        return top + (cardHeight * row) + (Config.gridPadding * row);\n    }\n\n    public static calcCardDimensions(screenHeight: number, screenWidth: number): IDimensions {\n        const { height, width } = Resources.card;\n        const usableHeight = screenHeight - SizingManager.get().getMenuHeight();\n        const maxHeight = Card.calcMaxCardHeight(usableHeight);\n        const maxWidth = Card.calcMaxCardWidth(screenWidth);\n        const scaleByWidth = maxWidth / width;\n\n        if ((scaleByWidth * (height * (ProgressionManager.get().getGameGridSize() + 1))) > usableHeight) {\n            // using width as the scale base pushes height out of the screen\n            const scaleByHeight = maxHeight / height;\n            return {\n                width: width * scaleByHeight,\n                height: maxHeight,\n                scale: new Vector(scaleByHeight, scaleByHeight)\n            }\n        } else {\n            return {\n                width: maxWidth,\n                height: height * scaleByWidth,\n                scale: new Vector(scaleByWidth, scaleByWidth)\n            }\n        }\n    }\n\n    private static calcMaxCardHeight(screenHeight: number): number {\n        const workableScreenHeight = screenHeight * 0.95;\n        return (workableScreenHeight / (ProgressionManager.get().getGameGridSize() + 1)) - Config.gridPadding;\n    }\n\n    private static calcMaxCardWidth(screenWidth: number): number {\n        const workableWidth = screenWidth * 0.95;\n        return (workableWidth / (ProgressionManager.get().getGameGridSize() + 1)) - Config.gridPadding;\n    }\n\n    private static sprite(texture: ex.Texture, scale: Vector): ex.Sprite {\n        const sprite: ex.Sprite = new Sprite(texture, 0, 0, texture.width, texture.height);\n        sprite.scale = scale;\n        return sprite;\n    }\n\n    private fullOnClick(): void {\n        if (!this.flipped) {\n            this.silentSetFlipped();\n            SoundManager.get().playSoundInterrupt(\n                Resources.cardSound,\n                this.playSound\n            );\n            this.passedInOnClick();\n        }\n    }\n\n    public silentSetFlipped() {\n        this.flipped = true;\n        this.setDrawing(\"flip\");\n    }\n    public type(): CardType {\n        return this.cardType;\n    }\n\n    private playSound: () => void = () => {\n        let sound: ex.Sound;\n        if (this.cardType === CardType.SKELETON) {\n            sound = Resources.boneSound;\n        } else if (this.cardType === CardType.ATTACK) {\n            sound = Resources.swordSound;\n        } else if (this.cardType === CardType.COIN) {\n            sound = Resources.coinSound;\n        } else if (this.cardType === CardType.POTION) {\n            sound = Resources.potionSound;\n        }\n        SoundManager.get().playSoundInterrupt(sound);\n    }\n\n    public getRow(): number {\n        return this.row;\n    }\n\n    public getCol(): number {\n        return this.col;\n    }\n\n    public isFlipped(): boolean {\n        return this.flipped;\n    }\n\n    public static skeleton(screenCenter: ex.Vector, row: number, col: number, onClick: Supplier<void>): Card {\n        return new Card(screenCenter, col, row, onClick, ex.Color.White, CardType.SKELETON, Resources.skull);\n    }\n\n    public static potion(screenCenter: ex.Vector, row: number, col: number, onClick: Supplier<void>): Card {\n        return new Card(screenCenter, col, row, onClick, ex.Color.Red, CardType.POTION, Resources.potion);\n    }\n\n    public static attack(screenCenter: ex.Vector, row: number, col: number, onClick: Supplier<void>): Card {\n        return new Card(screenCenter, col, row, onClick, ex.Color.Gray, CardType.ATTACK, Resources.sword);\n    }\n\n    public static coin(screenCenter: ex.Vector, row: number, col: number, onClick: Supplier<void>): Card {\n        return new Card(screenCenter, col, row, onClick, ex.Color.Yellow, CardType.COIN, Resources.coin);\n    }\n\n    public static create(screenCenter: ex.Vector, row: number, col: number, callbackProvider: CardCallbackProvider, type: CardType, flipped: boolean): Card {\n        let card: Card;\n        if (type === CardType.SKELETON) {\n            card = Card.skeleton(screenCenter, row, col, callbackProvider.skeletonCardCallback);\n        } else if (type === CardType.ATTACK) {\n            card = Card.attack(screenCenter, row, col, callbackProvider.attackCardCallback);\n        } else if (type === CardType.COIN) {\n            card = Card.coin(screenCenter, row, col, callbackProvider.coinCardCallback);\n        } else if (type === CardType.POTION) {\n            card = Card.potion(screenCenter, row, col, callbackProvider.potionCardCallback);\n        }\n\n        if (flipped) {\n            card.silentSetFlipped();\n        }\n        return card;\n    }\n}\n\n","import ButtonBase from \"./buttonBase\";\nimport { Vector, Engine } from \"excalibur\";\nimport { Resources, Config } from \"../../resources\";\nimport { Supplier } from \"java8script\";\n\nexport class ExitButton extends ButtonBase {\n\n    public constructor(engine: Engine, onExit: Supplier<void>) {\n        const texture = Resources.uiX;\n        super(texture, onExit);\n        this.scale = new Vector(Config.exitButtonSize / texture.width, Config.exitButtonSize / texture.height);\n        this.setHeight(Config.exitButtonSize);\n        this.setWidth(Config.exitButtonSize);\n        this.x = engine.drawWidth - Config.exitButtonSize / 2 - Config.gridPadding;\n        this.y = Config.exitButtonSize / 2 + Config.gridPadding;\n    }\n}","import { Scene, Engine, Axis, Texture } from \"excalibur\";\nimport BackgroundManager from \"../engine/managers/backgroundManager\";\nimport { Config } from \"../resources\";\nimport ScrollBar from \"../actors/bars/scrollBar\";\nimport { IDimensions } from \"../engine/helpers\";\nimport ButtonBase from \"../actors/bars/buttonBase\";\n\nexport default class BaseScene extends Scene {\n\n    public scrollBar: ScrollBar;\n    public engine: Engine;\n\n    constructor(engine: Engine) {\n        super(engine);\n        this.engine = engine;\n        this.scrollBar = new ScrollBar(engine);\n        this.add(this.scrollBar);//for some reason adding in the initialize makes the drag stop working\n    }\n\n    public setBackround(bottomOfBottomElement: number) {\n        if (bottomOfBottomElement > this.engine.drawHeight) {\n            this.addTileMap(BackgroundManager.getCustomTileMap(this.engine.drawWidth, bottomOfBottomElement + Config.optionPadding));//need to draw to fit the whole canvas rather than just the screen \n        } else {\n            this.addTileMap(BackgroundManager.getDefaultTileMap(this.engine));\n        }\n    }\n\n    public initScroll(bottomOfBottomElement: number) {\n        this.scrollBar.setScrollBottom(this.engine.drawHeight / 2 + (bottomOfBottomElement - this.engine.drawHeight) + Config.optionPadding)\n        this.camera.strategy.lockToActorAxis(this.scrollBar, Axis.Y)\n    }\n\n    public createButton(dims: IDimensions, x: number, y: number, texture: Texture, onClick: () => void): ButtonBase {\n        const button = new ButtonBase(texture, onClick);\n        button.x = x\n        button.y = y\n        button.scale = dims.scale;\n        button.setHeight(dims.height);\n        button.setWidth(dims.width);\n        return button;\n    }\n}","import { CardType } from \"../../actors/card/card\";\nimport { SaveDataGrid, SaveCellData } from \"./playerSettingsManager\";\nimport { Stream } from \"java8script\";\n\nexport class GridState {\n    private hearts: number;\n    private swords: number;\n    private coins: number;\n    private gridSize: number;\n    private grid: CardState[][];\n\n    constructor(gridSize: number, grid: CardState[][], hearts: number, swords: number, coins: number) {\n        this.gridSize = gridSize;\n        this.grid = grid;\n        this.hearts = hearts;\n        this.swords = swords;\n        this.coins = coins;\n    }\n\n    public getGridSize(): number {\n        return this.gridSize;\n    }\n\n    public getGridState(): CardState[][] {\n        return this.grid;\n    }\n\n    public getHearts(): number {\n        return this.hearts;\n    }\n\n    public getSwords(): number {\n        return this.swords;\n    }\n\n    public getCoins(): number {\n        return this.coins;\n    }\n\n    public toSaveState(): SaveDataGrid {\n        const saveGridState: SaveCellData[][] = Stream.ofValues(...this.grid)\n            .map(row => Stream.ofValues(...row)\n                .map(cardState => cardState.toSaveState())\n                .toArray())\n            .toArray();\n        return {\n            hearts: this.getHearts(),\n            swords: this.getSwords(),\n            coins: this.getCoins(),\n            gridSize: this.getGridSize(),\n            grid: saveGridState,\n        };\n    }\n\n    public static fromSaveState(save: SaveDataGrid): GridState {\n        const saveGridState: CardState[][] = Stream.ofValues(...save.grid)\n            .map(row => Stream.ofValues(...row)\n                .map(cardState => CardState.fromSaveState(cardState))\n                .toArray())\n            .toArray();\n        return new GridState(save.gridSize, saveGridState, save.hearts, save.swords, save.coins);\n    }\n}\n\nexport class CardState {\n    private type: CardType;\n    private flipped: boolean;\n\n    constructor(type: CardType, flipped: boolean) {\n        this.type = type;\n        this.flipped = flipped;\n    }\n\n    public getType(): CardType {\n        return this.type;\n    }\n\n    public isFlipped(): boolean {\n        return this.flipped;\n    }\n\n    public toSaveState(): SaveCellData {\n        return {\n            type: this.type,\n            flipped: this.flipped,\n        };\n    }\n\n    public static fromSaveState(save: SaveCellData): CardState {\n        return new CardState(\n            save.type,\n            save.flipped\n        );\n    }\n}","import { GameCoordinator } from '../../coordinator/coordinator';\nimport SoundManager from '../../engine/managers/soundManager';\nimport BackgroundManager from '../../engine/managers/backgroundManager';\nimport { Engine, Scene } from 'excalibur';\nimport { Scenes } from '../scenes';\nimport { ExitButton } from '../../actors/bars/exitButton';\n\nexport abstract class GameWindowBase extends Scene {\n\n  protected coordinator: GameCoordinator;\n  protected engine: Engine;\n\n  public onInitialize(engine: ex.Engine) {\n    this.engine = engine;\n    this.add(BackgroundManager.getDefaultTileMap(engine))\n    this.add(new ExitButton(engine, () => engine.goToScene(Scenes.MAIN_MENU)));\n    this.coordinator = GameCoordinator.initialize(this.engine);\n  }\n\n  public onActivate() {\n    SoundManager.get().backgroundMusicStart();\n    this.coordinator.getAllActors()\n      .forEach(c => this.add(c));\n  }\n\n  public onDeactivate() {\n    this.coordinator.getAllActors()\n      .forEach(c => this.remove(c));\n  }\n} \n","import { Stream } from \"java8script\";\n\ntype Factors = {\n    skullFactor: number;\n    buffFactor: number;\n}\n\nexport class Difficulty {\n    public static VERY_EASY = new Difficulty(1, 3.0, 0.0, \"Very Easy\");\n    public static EASY = new Difficulty(2, 2.5, 0.0, \"Easy\");\n    public static NORMAL = new Difficulty(3, 2.5, 1.0, \"Normal\");\n    public static HARD = new Difficulty(4, 2.0, 1.0, \"Hard\");\n    public static VERY_HARD = new Difficulty(5, 2.0, 2.0, \"Very Hard\");\n    \n    private difficultyLevel: number; \n    private buffFactor: number;\n    private skeletonFactor: number;\n    private difficultyName: string;\n\n    private constructor(difficultyLevel: number, skeleton: number, buff: number, text: string) {\n        this.difficultyLevel = difficultyLevel;\n        this.buffFactor = buff;\n        this. skeletonFactor = skeleton;\n        this.difficultyName = text;\n    }\n\n    public getSkeletonFactor(): number {\n        return this.skeletonFactor;\n    } \n\n    public getBuffFactor(): number {\n        return this.buffFactor;\n    }\n\n    public getDifficultyLevel(): number {\n        return this.difficultyLevel;\n    }\n\n    public static getByDifficultyLevel(level: number): Difficulty {\n        return Stream.of([\n            this.VERY_EASY,\n            this.EASY,\n            this.NORMAL,\n            this.HARD,\n            this.VERY_HARD\n        ]).filter(diff => diff.getDifficultyLevel() === level)\n        .findFirst()\n        .orElseThrow(() => new Error(\"Difficulty not found for that number\"));\n    }\n}\n\n\n\n","module.exports = __webpack_public_path__ + \"7bc9ef00f9c3eac4ed90e0f78fe053f4.png\";","module.exports = __webpack_public_path__ + \"8c33cba37ae9cda19c0c4706219cd540.png\";","module.exports = __webpack_public_path__ + \"78b5b4973f64552277b581a279a72a42.png\";","module.exports = __webpack_public_path__ + \"2a3f5e19c5b2efd0462fb7cc1b704558.png\";","module.exports = __webpack_public_path__ + \"60875f949f42a486e64184bc743af777.png\";","module.exports = __webpack_public_path__ + \"c150a67e689f09935b6d97e1989f8b56.png\";","module.exports = __webpack_public_path__ + \"17b342f332f5ab3ea92edee594cc0ff7.png\";","module.exports = __webpack_public_path__ + \"bfc4eed12d62bc8834e80f5ad6a79e14.png\";","module.exports = __webpack_public_path__ + \"0cfb30ca844b8dc2e00ca6a6b6125ca5.png\";","import { GameWindowBase } from './gameWindowBase';\nimport ProgressionManager from '../../engine/progression/progressionManager';\n\nexport class GridGameWindow extends GameWindowBase {\n\n  private currentOptionGridSize: number;\n  public onInitialize(engine: ex.Engine) {\n    super.onInitialize(engine);\n    this.currentOptionGridSize = ProgressionManager.get().getOptionGridSize()\n  }\n\n  //Override\n  public onActivate(): void {\n    const newSize = ProgressionManager.get().getOptionGridSize()\n    if(this.currentOptionGridSize != newSize) {\n      this.currentOptionGridSize = newSize;\n      this.coordinator.resetGame(true);\n    }\n    super.onActivate();\n  }\n} \n","import { Actor, Label, Sprite, Vector, BaseAlign, TextAlign, Color } from \"excalibur\";\nimport { Resources, Config } from \"../../resources\";\nimport SizingManager from \"../../engine/managers/sizingManager\";\nimport FontManager from \"../../engine/managers/fontManager\";\n\nexport default class CoinCount {\n\n    private coinCount: number;\n    private coinIcon: Actor;\n    private countLabel: Label;\n\n    private constructor(currentCount: number, countIcon: Actor, countLabel: Label) {\n        this.coinCount = currentCount;\n        this.coinIcon = countIcon;\n        this.countLabel = countLabel;\n    }\n\n    public static create(x: number, y: number, currentCount: number): CoinCount {\n        const coinActor = CoinCount.createCoinIcon(x, y);\n        return new CoinCount(\n            currentCount,\n            coinActor,\n            CoinCount.createCountLabel(currentCount, coinActor.getRight() + Config.gridPadding, y),\n        );\n    }\n\n    public getCoinCount(): number {\n        return this.coinCount;\n    }\n\n    public addToCoinCount(toAdd: number): void {\n        this.coinCount = this.coinCount + toAdd;\n        this.countLabel.text = `${this.coinCount}`;\n    }\n\n    public drawables(): Actor[] {\n        return [\n            this.coinIcon,\n            this.countLabel,\n        ];\n    }\n\n    private static createCoinIcon(x: number, y: number): Actor {\n        const texture = Resources.uiCoins;\n        const sprite = new Sprite(texture, 0, 0, texture.width, texture.height);\n        const scale = new Vector(SizingManager.get().getUIItemSize() / texture.width, SizingManager.get().getUIItemSize() / texture.height);\n        const actor = new Actor(x, y, texture.width, texture.height);\n        actor.addDrawing(sprite);\n        actor.scale = scale;\n        return actor;\n    }\n\n    private static createCountLabel(currentCount: number, x: number, y: number): Label {\n        const label = new Label(\n            `${currentCount}`,\n            x,\n            y,\n            null,\n            FontManager.get().getMono()\n        );\n\n        label.fontSize = SizingManager.get().getUIItemSize() * 0.7;\n        label.baseAlign = BaseAlign.Middle;\n        label.textAlign = TextAlign.Left;\n        label.color = Color.fromHex(\"#958a2d\");\n        return label;\n    }\n}","import * as ex from 'excalibur';\nimport { Resources, Config } from '../../resources';\nimport { Card } from './card';\nimport { Vector } from 'excalibur';\nimport ProgressionManager from '../../engine/progression/progressionManager';\nimport SizingManager from '../../engine/managers/sizingManager';\n\ntype CountType = 'col' | 'row';\n\nexport default class Count extends ex.Actor {\n\n    private type: CountType;\n    private index: number;\n    private screenCenter: ex.Vector;\n\n    public constructor(type: CountType, index: number, screenCenter: ex.Vector, initialCount: number) {\n        super();\n        this.type = type;\n        this.index = index;\n        this.screenCenter = screenCenter;\n        const dims = Card.calcCardDimensions(screenCenter.y * 2, screenCenter.x * 2)\n\n        this.addDrawing(\"0\", Count.sprite(Resources[0], dims.scale));\n        this.addDrawing(\"1\", Count.sprite(Resources[1], dims.scale));\n        this.addDrawing(\"2\", Count.sprite(Resources[2], dims.scale));\n        this.addDrawing(\"3\", Count.sprite(Resources[3], dims.scale));\n        this.addDrawing(\"4\", Count.sprite(Resources[4], dims.scale));\n        this.addDrawing(\"5\", Count.sprite(Resources[5], dims.scale));\n        this.addDrawing(\"6\", Count.sprite(Resources[6], dims.scale));\n        this.addDrawing(\"7\", Count.sprite(Resources[7], dims.scale));\n        this.addDrawing(\"8\", Count.sprite(Resources[8], dims.scale));\n        this.addDrawing(\"9\", Count.sprite(Resources[9], dims.scale));\n        this.setWidth(dims.width);\n        this.setHeight(dims.height);\n        this.x = Count.calcX(type, index, screenCenter, dims.width) + dims.width;\n        this.y = Count.calcY(type, index, screenCenter, dims.height) + dims.height;\n        this.setCount(initialCount);\n    }\n\n    private static calcX(type: CountType, index: number, center: ex.Vector, cardWidth: number): number {\n        const leftSide = center.x\n            - ((ProgressionManager.get().getGameGridSize() / 2) * cardWidth)\n            - cardWidth\n            - ((ProgressionManager.get().getGameGridSize() + 1) * Config.gridPadding) / 2;\n\n        if (type === \"row\") {\n            return leftSide;\n        } else {\n            return leftSide + cardWidth + (cardWidth * index) + (Config.gridPadding * (index + 1));\n        }\n    }\n\n    private static calcY(type: CountType, index: number, center: ex.Vector, cardHeight: number): number {\n        const top = center.y\n            + SizingManager.get().getMenuHeight() / 2\n            - ((ProgressionManager.get().getGameGridSize() / 2) * cardHeight)\n            - cardHeight\n            - ((ProgressionManager.get().getGameGridSize() + 1) * Config.gridPadding) / 2;\n\n        if (type === \"col\") {\n            return top;\n        } else {\n            return top + cardHeight + (cardHeight * index) + (Config.gridPadding * (index + 1))\n        }\n    }\n\n    private static sprite(texture: ex.Texture, scale: Vector): ex.Sprite {\n        const sprite: ex.Sprite = texture.asSprite().clone();\n        sprite.scale = scale;\n        return sprite;\n    }\n\n    public setCount(count: number): Count {\n        this.setDrawing(`${count}`);\n        return this;\n    }\n}","import { Card, CardType } from \"../actors/card/card\";\nimport { CardCallbackProvider } from \"../actors/card/cardCallbackProvider\";\nimport { Stream, Optional, Supplier } from \"java8script\";\nimport { Vector } from \"excalibur\";\nimport ProgressionManager from \"../engine/progression/progressionManager\";\nimport { GridState, CardState } from \"../engine/progression/gridState\";\n\n\nexport class GridCoordinator {\n\n    private grid: Card[][];\n    private gridSize: number;\n    private skeletonCount: number;\n    private potionCount: number;\n    private swordCount: number;\n\n    private constructor(callbackProvider: CardCallbackProvider, gridSize: number, screenCenter: Vector) {\n        this.skeletonCount = 0;\n        this.potionCount = 0;\n        this.swordCount = 0;\n        this.gridSize = gridSize;\n        this.grid = GridCoordinator.blankGrid(gridSize, callbackProvider, screenCenter);\n    }\n\n    public static createGridFromState(callbackProvider: CardCallbackProvider, gridSize: number, state: Optional<GridState>, engine: ex.Engine): GridCoordinator {\n        return state\n            .map(s => GridCoordinator.loadSavedGrid(callbackProvider, engine, s))\n            .orElseGet(() => GridCoordinator.createNewGrid(callbackProvider, gridSize, engine))\n    }\n\n    public static createNewGrid(callbackProvider: CardCallbackProvider, gridSize: number, engine: ex.Engine): GridCoordinator {\n        const screenCenter = new Vector(engine.drawWidth / 2, engine.drawHeight / 2);\n        const coord: GridCoordinator = new GridCoordinator(callbackProvider, gridSize, screenCenter);\n        coord.initializeSkeletons(screenCenter, callbackProvider.skeletonCardCallback);\n        coord.initializeBuffs(screenCenter, callbackProvider);\n        return coord;\n    }\n\n    public currentGridState(): { gridSize: number, cardState: CardState[][] } {\n        const cardStates: CardState[][] = Stream.ofValues(...this.grid)\n            .map(row => Stream.ofValues(...row)\n                .map(card => new CardState(card.type(), card.isFlipped()))\n                .toArray())\n            .toArray();\n        return {\n            gridSize: this.gridSize,\n            cardState: cardStates\n        };\n    }\n\n    public getGridAsList(): Card[] {\n        return Stream.of(this.grid)\n            .flatMap(a => Stream.ofValues(...a))\n            .toArray();\n    }\n\n    public getRow(rowIndex: number): Card[] {\n        return Stream.of(this.grid)\n            .flatMap(a => Stream.ofValues(...a))\n            .filter(card => card.getRow() == rowIndex)\n            .toArray();\n    }\n\n    public getCol(colIndex: number): Card[] {\n        return Stream.of(this.grid)\n            .flatMap(a => Stream.ofValues(...a))\n            .filter(card => card.getCol() == colIndex)\n            .toArray();\n    }\n\n    private static blankGrid(gridSize: number, callbackProvider: CardCallbackProvider, screenCenter: Vector): Card[][] {\n        return Stream.range(0, gridSize)\n            .map(rowNum => this.blankGridRow(gridSize, rowNum, callbackProvider, screenCenter))\n            .toArray();\n    }\n\n    private static blankGridRow(gridSize: number, rowIndex: number, callbackProvider: CardCallbackProvider, screenCenter: Vector): Card[] {\n        return Stream.range(0, gridSize)\n            .map(columnIndex => Card.coin(screenCenter, rowIndex, columnIndex, callbackProvider.coinCardCallback))\n            .toArray();\n    }\n\n    private initializeSkeletons(screenCenter: Vector, skeletonCardCallback: Supplier<void>): void {\n        while (this.needMoreSkeletons()) {\n            const { row, col } = this.randomCoord();\n            if (this.isCardACoin(row, col)) {\n                this.insertCard(row, col, Card.skeleton(screenCenter, row, col, skeletonCardCallback));\n            }\n        }\n    }\n\n    private initializeBuffs(screenCenter: Vector, callbackProvider: CardCallbackProvider): void {\n        while (this.needMoreBuffs()) {\n            const { row, col } = this.randomCoord();\n            if (this.isCardACoin(row, col)) {\n                this.insertCard(row, col, this.generateBuffCard(row, col, screenCenter, callbackProvider))\n            }\n        }\n    }\n\n    private initializeFromState(state: GridState, screenCenter: Vector, callbackProvider: CardCallbackProvider): void {\n        this.gridSize = state.getGridSize();\n        state.getGridState().forEach((row: CardState[], rowIndex: number) => {\n            row.forEach((card: CardState, colIndex: number) => {\n                const createdCard = Card.create(screenCenter, rowIndex, colIndex, callbackProvider, card.getType(), card.isFlipped());\n                this.insertCard(rowIndex, colIndex, createdCard);\n            });\n        });\n    }\n\n    private generateBuffCard(row: number, col: number, screenCenter: Vector, callbackProvider: CardCallbackProvider): Card {\n        return Math.random() < 0.5\n            ? Card.attack(screenCenter, row, col, callbackProvider.attackCardCallback)\n            : Card.potion(screenCenter, row, col, callbackProvider.potionCardCallback)\n    }\n\n    private insertCard(row: number, col: number, card: Card): void {\n        if (card.type() == CardType.SKELETON) {\n            this.skeletonCount++;\n        } else if (card.type() == CardType.ATTACK) {\n            this.swordCount++;\n        } else if (card.type() == CardType.POTION) {\n            this.potionCount++;\n        }\n        this.grid[row][col] = card;\n    }\n\n    private isCardACoin(row: number, col: number): boolean {\n        return this.grid[row][col].type() == CardType.COIN;\n    }\n\n    private needMoreSkeletons(): boolean {\n        return this.skeletonCount < Math.ceil(((this.gridSize * this.gridSize)) / ProgressionManager.get().getSkullFactor());\n    }\n\n    private needMoreBuffs() {\n        const totalBuffs = this.potionCount + this.swordCount;\n        return totalBuffs < this.skeletonCount - ProgressionManager.get().getBuffFactor();\n    }\n\n    private randomCoord(): { row: number, col: number } {\n        return {\n            row: Math.floor(Math.random() * this.gridSize),\n            col: Math.floor(Math.random() * this.gridSize)\n        };\n    }\n\n    private static loadSavedGrid(callbackProvider: CardCallbackProvider, engine: ex.Engine, gridState: GridState): GridCoordinator {\n        const screenCenter = new Vector(engine.drawWidth / 2, engine.drawHeight / 2);\n        const coord: GridCoordinator = new GridCoordinator(callbackProvider, gridState.getGridSize(), screenCenter);\n        coord.initializeFromState(gridState, screenCenter, callbackProvider);\n        return coord;\n    }\n}","import { Actor, Vector, Sprite, Texture } from \"excalibur\";\nimport SizingManager from \"../../engine/managers/sizingManager\";\n\nexport default class StatTracker extends Actor {\n    private enabled: boolean;\n    public sprite: Sprite;\n    private static DISABLED_OPACITY: number = 0.50;\n\n    public constructor(enabled: boolean, x: number, y: number, texture: Texture) {\n        super();\n        this.x = x;\n        this.y = y;\n        this.sprite = new Sprite(texture, 0, 0, texture.width, texture.height );\n        this.scale = new Vector(SizingManager.get().getUIItemSize()/texture.width, SizingManager.get().getUIItemSize()/texture.height);\n        this.addDrawing(this.sprite);\n        this.setEnabled(enabled);\n        \n    }\n\n    public setEnabled(enabled: boolean): StatTracker {\n        this.enabled = enabled;\n        this.sprite.clearEffects();\n        if(enabled) {\n            this.sprite.opacity(1);\n        } else {\n            this.sprite.opacity(StatTracker.DISABLED_OPACITY);\n        }\n        return this;\n    }\n\n    public isEnabled(): boolean {\n        return this.enabled;\n    }\n}","import { Texture } from \"excalibur\";\nimport { Supplier, Stream } from \"java8script\";\nimport StatTracker from \"../actors/bars/statTracker\";\nimport SizingManager from \"../engine/managers/sizingManager\";\n\nexport class NumberCoordinator {\n    private max: number;\n    private current: number;\n    private onZero: Supplier<void>;\n    private statActors: StatTracker[];\n\n    private constructor(max, current, onZeroCallback: Supplier<void>, statActors: StatTracker[]) {\n        this.current = current;\n        this.max = max;\n        this.onZero = onZeroCallback;\n        this.statActors = statActors;\n    }\n\n    public static create(x, y, max: number, onZeroCallback: Supplier<void>, texture: Texture, current?: number): NumberCoordinator {\n        const defaultedCurrent: number = current ? current : 0;\n        const statActors = Stream.range(0, max)\n            .map(idx => {\n                if (idx > (defaultedCurrent - 1)) {\n                    return new StatTracker(false, x + (idx * SizingManager.get().getUIItemSize()), y, texture);\n                } else {\n                    return new StatTracker(true, x + (idx * SizingManager.get().getUIItemSize()), y, texture);\n                }\n            })\n            .toArray();\n\n        return new NumberCoordinator(\n            max,\n            defaultedCurrent,\n            onZeroCallback,\n            statActors\n        );\n    }\n\n    //adds value to the current, respecting the maximum.\n    //returns the current value after the update\n    public add(value: number): number {\n        if ((this.current + value) > this.max) {\n            this.current = this.max;\n        } else {\n            this.current = this.current + value;\n        }\n        this.statActors[this.current - 1].setEnabled(true);\n        return this.current;\n    }\n\n    //subtracts the value from the current, respecting 0 as the lower bound.\n    public subtract(value: number): number {\n        if (this.current - value <= 0) {\n            this.current = 0;\n            this.onZero();\n        } else {\n            this.current = this.current - value;\n        }\n        this.statActors[this.current].setEnabled(false);\n        return this.current;\n    }\n\n    //returns the current value\n    public getCurrent(): number {\n        return this.current;\n    }\n\n    public getStatActors(): StatTracker[] {\n        return this.statActors;\n    }\n}","import { NumberCoordinator } from \"./numberCoordinator\";\nimport { Card, CardType } from \"../actors/card/card\";\nimport { CardCallbackProvider } from \"../actors/card/cardCallbackProvider\"\nimport { Config, Resources } from \"../resources\";\nimport { Stream, Optional } from \"java8script\";\nimport { GridCoordinator } from \"./gridCoordinator\";\nimport { Vector, Actor } from \"excalibur\";\nimport { Scenes } from \"../scenes/scenes\";\nimport Count from \"../actors/card/count\";\nimport ProgressionManager from \"../engine/progression/progressionManager\";\nimport SizingManager from \"../engine/managers/sizingManager\";\nimport PlayerSettingsManager from \"../engine/progression/playerSettingsManager\";\nimport { GridState } from \"../engine/progression/gridState\";\nimport CoinCount from \"../actors/bars/coinCount\";\n\n//this class will handle the building and coordinating of data between the game cards and other UI pieces\nexport class GameCoordinator implements CardCallbackProvider {\n    private engine: ex.Engine;\n\n    private healthCoordinator: NumberCoordinator;\n    private attackCoordinator: NumberCoordinator;\n    private coinCount: CoinCount;\n    private gridCoordinator: GridCoordinator;\n\n    private rowCounts: Count[];\n    private columnCounts: Count[];\n\n    private constructor(engine: ex.Engine) {\n        this.engine = engine;\n        this.resetGame(false);\n    }\n\n    public static initialize(engine: ex.Engine): GameCoordinator {\n        const coordinator: GameCoordinator = new GameCoordinator(engine);\n        return coordinator;\n    }\n\n    public resetGame(shouldCreateFresh: boolean): void {\n        const mm: SizingManager = SizingManager.get();\n        const saveState: Optional<GridState> = PlayerSettingsManager.get().getGridState();\n        this.healthCoordinator = NumberCoordinator.create(mm.getUIItemSize() / 2, mm.getUIItemSize() / 2, Config.maxHealth, () => { }, Resources.uiHeart, saveState.map(s => s.getHearts()).orElse(Config.maxHealth));\n        this.attackCoordinator = NumberCoordinator.create(mm.getUIItemSize() / 2, mm.getUIItemSize() * 1.5, Config.maxAttack, () => { }, Resources.uiSword, saveState.map(s => s.getSwords()).orElse(0));\n        this.coinCount = CoinCount.create(mm.getUIItemSize() / 2, mm.getUIItemSize() * 2.5, saveState.map(gs => gs.getCoins()).orElse(0));\n\n        this.gridCoordinator = shouldCreateFresh\n            ? GridCoordinator.createNewGrid(this, ProgressionManager.get().getGameGridSize(), this.engine)\n            : GridCoordinator.createGridFromState(this, ProgressionManager.get().getGameGridSize(), saveState, this.engine);\n        this.rowCounts = this.createRowCountCards();\n        this.columnCounts = this.createColCountCards();\n    }\n\n    private getStatTrackers(): ex.Actor[] {\n        return [\n            ...this.healthCoordinator.getStatActors(),\n            ...this.attackCoordinator.getStatActors()\n        ]\n    }\n\n    private getRowCountCards(): Count[] {\n        return this.rowCounts;\n    }\n\n    private getColCountCards(): Count[] {\n        return this.columnCounts;\n    }\n\n    private createColCountCards(): Count[] {\n        const center = new Vector(this.engine.drawWidth / 2, this.engine.drawHeight / 2);\n        return Stream.of(this.gridCoordinator.getRow(0))\n            .map(card => new Count(\"col\", card.getCol(), center, this.skeletonCountForCol(card.getCol())))\n            .toArray();\n    }\n\n    private createRowCountCards(): Count[] {\n        const center = new Vector(this.engine.drawWidth / 2, this.engine.drawHeight / 2);\n        return Stream.of(this.gridCoordinator.getCol(0))\n            .map(card => new Count(\"row\", card.getRow(), center, this.skeletonCountForRow(card.getRow())))\n            .toArray();\n    }\n\n    private skeletonCountForRow(row: number) {\n        return Stream.of(this.gridCoordinator.getRow(row))\n            .filter(c => !c.isFlipped())\n            .filter(c => c.type() == CardType.SKELETON)\n            .count();\n    }\n\n    private skeletonCountForCol(col: number) {\n        return Stream.of(this.gridCoordinator.getCol(col))\n            .filter(c => !c.isFlipped())\n            .filter(c => c.type() == CardType.SKELETON)\n            .count();\n    }\n\n    private getGridAsList(): Card[] {\n        return this.gridCoordinator.getGridAsList();\n    }\n\n    public getAllActors(): Actor[] {\n        return Stream.ofValues<Actor[]>(\n            this.gridCoordinator.getGridAsList(),\n            this.getColCountCards(),\n            this.getRowCountCards(),\n            this.getStatTrackers(),\n            ProgressionManager.get().isProgressionDisabled() ? [] : this.coinCount.drawables(),\n        ).flatMap(a => Stream.ofValues(...a))\n            .toArray();\n    }\n\n    private updateLabels = () => {\n        this.rowCounts.forEach((count, idx) => {\n            count.setCount(this.skeletonCountForRow(idx));\n        });\n\n        this.columnCounts.forEach((count, idx) => {\n            count.setCount(this.skeletonCountForCol(idx));\n        });\n    }\n\n    private checkIfCompleteGame(): void {\n        const allFlipped = Stream.of(this.getGridAsList())\n            .allMatch(card => card.isFlipped());\n        if (this.healthCoordinator.getCurrent() === 0) {\n            this.gameOver();\n        } else if (allFlipped && this.healthCoordinator.getCurrent() > 0) {\n            this.victory();\n        }\n    }\n\n    private gameOver(): void {\n        this.engine.goToScene(Scenes.GAME_OVER);\n        ProgressionManager.get().resetProgress();\n        PlayerSettingsManager.get().saveGridState();\n        this.resetGame(true);\n    }\n\n    private victory(): void {\n        const psm = PlayerSettingsManager.get();\n        const progman = ProgressionManager.get();\n        this.engine.goToScene(Scenes.VICTORY);\n        progman.progress();\n        psm.saveGridState();\n        if (!progman.isProgressionDisabled()) {\n            //don't want to add coin to total in practice mode\n            psm.setTotalCoins(psm.getTotalCoins() + this.coinCount.getCoinCount());\n        }\n        this.resetGame(true);\n    }\n\n    public skeletonCardCallback = (): void => {\n        if (this.attackCoordinator.getCurrent() > 0) {\n            this.attackCoordinator.subtract(1);\n        } else {\n            this.healthCoordinator.subtract(1);\n        }\n        this.updateLabels();\n        this.saveGridProgress();\n        this.checkIfCompleteGame();\n    }\n\n    public coinCardCallback = (): void => {\n        this.coinCount.addToCoinCount(1);\n        this.saveGridProgress();\n        this.checkIfCompleteGame();\n    }\n\n    public attackCardCallback = (): void => {\n        this.attackCoordinator.add(1);\n        this.saveGridProgress();\n        this.checkIfCompleteGame();\n    }\n\n    public potionCardCallback = (): void => {\n        this.healthCoordinator.add(1);\n        this.saveGridProgress();\n        this.checkIfCompleteGame();\n    }\n\n    private saveGridProgress(): void {\n        const grid = this.gridCoordinator.currentGridState();\n        PlayerSettingsManager.get().saveGridState(new GridState(\n            grid.gridSize,\n            grid.cardState,\n            this.healthCoordinator.getCurrent(),\n            this.attackCoordinator.getCurrent(),\n            this.coinCount.getCoinCount(),\n        ));\n    }\n}","import { Label, BaseAlign, TextAlign } from \"excalibur\";\nimport FontManager from \"../../engine/managers/fontManager\";\nimport ProgressionManager from \"../../engine/progression/progressionManager\";\n\nexport default class LevelDisplay extends Label {\n    private static PREFIX: string = \"Level\";\n    public constructor(x: number, y: number, size: number, startingLevel: string) {\n        super(\n            LevelDisplay.createLabelText(startingLevel),\n            x,\n            y,\n            null,\n            FontManager.get().getMono()\n        );\n\n        this.fontSize = size;\n        this.baseAlign = BaseAlign.Middle;\n        this.textAlign = TextAlign.Center;\n\n    }\n\n    private static createLabelText(level: string) {\n        return ProgressionManager.get().isProgressionDisabled() ? \"\" :`${LevelDisplay.PREFIX} ${level}`;\n    }\n\n    public updateLevel(newLevel: string): void {\n        this.text = LevelDisplay.createLabelText(newLevel);\n    }\n\n}","import * as ex from 'excalibur';\nimport LevelDisplay from '../../actors/bars/level';\nimport ProgressionManager from '../../engine/progression/progressionManager';\nimport SizingManager from '../../engine/managers/sizingManager';\nimport { GameWindowBase } from './gameWindowBase';\n\nexport class StoryGameWindow extends GameWindowBase {\n\n  private levelDisplay: LevelDisplay;\n\n  public onInitialize(engine: ex.Engine) {\n    super.onInitialize(engine);\n    const mm: SizingManager = SizingManager.get();\n    this.levelDisplay = new LevelDisplay(engine.drawWidth / 2, mm.getMenuHeight() - mm.getUIItemSize() / 2, mm.getUIItemSize(), ProgressionManager.get().getLevelString());\n    this.add(this.levelDisplay);\n\n  }\n\n  public onActivate() {\n    super.onActivate();\n    this.levelDisplay.updateLevel(ProgressionManager.get().getLevelString());\n  }\n} \n","\nimport * as React from 'react';\nimport ReactModal = require('react-modal');\nimport { render } from 'react-dom';\nimport { Config } from '../resources';\nimport { TextAlignProperty } from 'csstype';\nconst xButton = require('../images/ui/x.png');\nconst skullImage = require('../images/skull.png');\nconst swordImage = require('../images/sword.png');\nconst potionImage = require('../images/potion.png');\nconst coinImage = require('../images/coin.png');\nconst heartUIImg = require('../images/ui/heart.png');\nconst swordUIImage = require('../images/ui/sword.png');\nconst threeImage = require('../images/numbers/3.png');\n\ninterface Styles {\n    p: {\n        padding: string,\n        margin: string,\n        fontSize: number,\n        flex: number,\n        textAlign: TextAlignProperty,\n    },\n    h1: {\n        textAlign: TextAlignProperty,\n    },\n    holder: {\n        width: string,\n    }\n    imgHolder: {\n        width: string,\n        textAlign: TextAlignProperty,\n    }\n    cardImg: {\n        width: number,\n    }\n}\n\nconst styles: Styles = {\n    p: { padding: \"16px\", margin: \"0px\", fontSize: 20, flex: 1, textAlign: \"center\" },\n    h1: { textAlign: \"center\" },\n    holder: {\n        width: \"100%\"\n    },\n    imgHolder: {\n        width: \"100%\",\n        textAlign: \"center\"\n    },\n    cardImg: {\n        width: 100\n    }\n}\n\nexport class ModalRenderer {\n\n    private isOpen: boolean;\n\n    constructor(isOpen: boolean) {\n        this.isOpen = isOpen;\n    }\n\n    public introModal() {\n        const innerStuff = (<div>\n            <h1 style={styles.h1}>Introduction</h1>\n            <p style={styles.p}>Welcome to Skeleton Flip!</p>\n            <p style={styles.p}>Flip cards, find coins, drink potions and kill skeletons. The goal of the game is to flip all the cards on the board without running out of hearts.</p>\n            <p style={styles.p}>In Story Mode, you progress through increasingly larger and larger grids, you can unlock larger grid sizes and harder difficulties by collecting coins and unlocking upgrades.</p>\n            <p style={styles.p}>If Story Mode is disabled, you may choose to practice any grid size you like.</p>\n        </div>);\n        this.setOpenAndRerender(true, innerStuff);\n    }\n\n    public howToPlayModal() {\n        const innerStuff = (<div>\n            <h1 style={styles.h1}>How To Play</h1>\n            <p style={styles.p}>The top right of the game screen shows your health (<img width={20} src={heartUIImg} alt=\"heart\" />) and current attack (<img width={20} src={swordUIImage} alt=\"sword\" />). If you run out of health you lose!</p>\n            <div style={styles.imgHolder}>\n                <img width={styles.cardImg.width} src={threeImage} alt=\"three\" />\n            </div>\n            <p style={styles.p}>The numbers on the outer edges of the grid indicate how many skeletons are hiding in that row or column.</p>\n            <p style={styles.p}>Tap cards inside the grid to flip them over. Remember you need to flip every card in the grid to advance, so choose your path wisely!</p>\n        </div>);\n        this.setOpenAndRerender(true, innerStuff);\n    }\n\n    public cardModal() {\n        const innerStuff = (<div style={styles.holder}>\n            <h1 style={styles.h1}>Cards</h1>\n            <div style={styles.imgHolder}>\n                <img width={styles.cardImg.width} src={skullImage} alt=\"skull\" />\n            </div>\n            <p style={styles.p}>Oh no! Flipping over a skeleton card will hurt you, taking away one health unless you have a sword to defend yourself.</p>\n\n            <div style={styles.imgHolder}>\n                <img width={styles.cardImg.width} src={swordImage} alt=\"sword\" />\n            </div>\n            <p style={styles.p}>Sweep Low! Flipping over a sword card will add to your attack count, no need to fear the next skeleton you flip over, the sword will take care of it!</p>\n\n            <div style={styles.imgHolder}>\n                <img width={styles.cardImg.width} src={potionImage} alt=\"potion\" />\n            </div>\n            <p style={styles.p}>Tastes like Strawberry! Flipping over a potion card will heal any wounds that you have taken from those nasty skeletons.</p>\n\n            <div style={styles.imgHolder}>\n                <img width={styles.cardImg.width} src={coinImage} alt=\"coin\" />\n            </div>\n            <p style={styles.p}>Take that to the bank! Flipping over a coin card will add to your riches, if you complete a level you will keep the coins you found and can use them for upgrades.</p>\n        </div>);\n        this.setOpenAndRerender(true, innerStuff);\n    }\n\n    public textModal(title: string, text: string) {\n        const innerStuff = (<div style={styles.holder}>\n            <h1 style={styles.h1}>{title}</h1>\n            <p style={styles.p}>\n                {text}\n            </p>\n        </div>);\n        this.setOpenAndRerender(true, innerStuff);\n    }\n\n    private setOpenAndRerender = (isOpen: boolean, innerStuff?: any) => {\n        this.isOpen = isOpen;\n        this.render({\n            innerStuff: innerStuff,\n            open: this.isOpen,\n            closeFunc: () => this.setOpenAndRerender(false)\n        });\n    }\n\n    private render = (props: Props) => {\n        render(<E {...props} />,\n            document.getElementById('modal')\n        );\n    }\n}\n\ninterface Props {\n    open: boolean;\n    closeFunc: () => void;\n    innerStuff?: any;\n}\n\ninterface State {\n}\n\nexport default class E extends React.Component<Props, State> {\n\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <ReactModal\n                style={{\n                    content: {\n                        borderRadius: \"0px\",\n                        backgroundColor: '#a77600',\n                        borderWidth: 8,\n                        borderColor: \"#402f08\",\n                        padding: \"16px\",\n                    }\n                }}\n                appElement={document.getElementById('modal')}\n                isOpen={this.props.open}>\n                <div style={{ float: \"right\", height: Config.exitButtonSize, position: \"fixed\", right: \"24px\", top: \"24px\" }}>\n                    <a style={{}}>\n                        <img height={Config.exitButtonSize} width={Config.exitButtonSize} src={xButton} alt=\"exit\" onPointerUp={this.props.closeFunc} />\n                    </a>\n                </div>\n                <div style={{ borderRadius: \"16px\", borderStyle: \"solid\", borderWidth: \"4px\", minHeight: \"95%\", backgroundColor: \"#896000\", borderColor: \"#402f08\", display: \"flex\" }}>\n                    {this.props.innerStuff}\n                </div>\n            </ReactModal>\n        );\n    }\n}","import * as ex from 'excalibur';\nimport { Resources, Config } from '../resources';\nimport { Scenes } from './scenes';\nimport { Texture, Vector, Actor, Engine, Axis } from 'excalibur';\nimport ButtonBase from '../actors/bars/buttonBase';\nimport { calcDimensionsSingleObjectTexture, IDimensions } from '../engine/helpers';\nimport { ExitButton } from '../actors/bars/exitButton';\nimport { ModalRenderer } from '../modal/modal';\nimport SizingManager from '../engine/managers/sizingManager';\nimport BaseScene from './BaseScene';\n\nexport class Help extends BaseScene {\n\n  private modalRenderer: ModalRenderer;\n\n  public onInitialize(engine: ex.Engine) {\n\n    this.add(new ExitButton(engine, () => engine.goToScene(Scenes.MAIN_MENU)));\n\n    const titleDims = calcDimensionsSingleObjectTexture(engine.drawHeight, engine.drawWidth, Resources.helpTitle, 0.6, 1);\n    const title = new Actor(\n      engine.drawWidth / 2,\n      titleDims.height / 2 + Config.gridPadding,\n      titleDims.width,\n      titleDims.height\n    );\n    title.addDrawing(Resources.helpTitle);\n    title.scale = titleDims.scale;\n    this.add(title);\n\n    this.modalRenderer = new ModalRenderer(false);\n\n    const centerx = engine.drawWidth / 2;\n    const sizing = SizingManager.get().getUIButtonSizing();\n    const dims = calcDimensionsSingleObjectTexture(engine.drawHeight, engine.drawWidth, Resources.introMenu, sizing.padding, sizing.maxScale);\n\n    const intro = this.createButton(dims, centerx, title.getBottom() + dims.height / 2 + Config.optionPadding, Resources.introMenu, () => this.modalRenderer.introModal());\n    const playing = this.createButton(dims, centerx, intro.getBottom() + Config.gridPadding + dims.height / 2, Resources.playingMenu, () => this.modalRenderer.howToPlayModal());\n    const cards = this.createButton(dims, centerx, playing.getBottom() + Config.gridPadding + dims.height / 2, Resources.cardMenu, () => this.modalRenderer.cardModal());\n    const credits = this.createButton(dims, centerx, cards.getBottom() + Config.gridPadding + dims.height / 2, Resources.creditsMenu, () => this.modalRenderer.textModal(\"Credits\", \"Made by Andrew\"));\n\n    this.add(intro);\n    this.add(playing);\n    this.add(cards);\n    this.add(credits);\n\n\n    this.initScroll(credits.getBottom());\n    this.setBackround(credits.getBottom());\n  }\n\n  public createButton(dims: IDimensions, x: number, y: number, texture: Texture, onClick: () => void): ButtonBase {\n    const button = new ButtonBase(texture, onClick);\n    button.x = x\n    button.y = y\n    button.scale = dims.scale;\n    button.setHeight(dims.height);\n    button.setWidth(dims.width);\n    return button;\n  }\n\n  public onActivate() {\n  }\n\n  public onDeactivate() {\n  }\n} \n","import { Sprite, Actor, Vector, SpriteFont } from \"excalibur\";\nimport { Resources } from \"../../resources\";\nimport { Darken } from \"excalibur/dist/Drawing/SpriteEffects\";\nimport { Supplier, Function, Optional, Consumer } from \"java8script\";\nimport SoundManager from \"../../engine/managers/soundManager\";\n\nexport default class RadioButton extends Actor {\n    private checked: boolean;\n    private checkedSprite: Sprite;\n    private uncheckedSprite: Sprite;\n    private onToggle: Optional<Consumer<boolean>>\n\n    constructor(size: number, x: number, y: number, defaultValue: boolean, onToggle?: Consumer<boolean>) {\n        super();\n        this.checked = defaultValue;\n        this.checkedSprite = new Sprite(Resources.uiX, 0, 0, Resources.uiX.width, Resources.uiX.height);\n        this.uncheckedSprite = new Sprite(Resources.uiBlank, 0, 0, Resources.uiBlank.width, Resources.uiBlank.height);\n        this.scale = new Vector(size / Resources.uiX.width, size / Resources.uiX.height);\n        this.setHeight(size);\n        this.setWidth(size);\n        this.x = x;\n        this.y = y;\n        this.onToggle = Optional.ofNullable(onToggle);\n\n        //get drawing ready\n        this.addDrawing(\"checked\", this.checkedSprite);\n        this.addDrawing(\"unchecked\", this.uncheckedSprite);\n        if (this.checked) {\n            this.setDrawing(\"checked\");\n        } else {\n            this.setDrawing(\"unchecked\");\n        }\n        this.on(\"pointerdown\", this.onDown);\n        this.on(\"pointerenter\", this.onEnter);\n        this.on(\"pointerleave\", this.onExit);\n        this.on(\"pointerup\", this.onClickWrapper(this.toggleButton))\n    }\n\n    public setOnToggle(onToggle: Consumer<boolean>): void {\n        this.onToggle = Optional.of(onToggle);\n    }\n    public isChecked(): boolean {\n        return this.checked;\n    }\n\n    public setChecked(isChecked: boolean): void {\n        this.checked = isChecked;\n        this.setCheckedDrawing();\n    }\n\n    private onClickWrapper(onClick: Supplier<void>) {\n        return (event?: any) => {\n            if (event.ev.type === \"pointerup\") {\n                //this is kinda nasty need to filter out the duplicate touch events, only accept the regular pointer up ones\n                this.currentSprite().clearEffects();\n                SoundManager.get().playSoundInterrupt(Resources.buttonSound)\n                onClick();\n                this.onEnter();\n            } else {\n            }\n        }\n    }\n\n    private currentSprite(): Sprite {\n        return this.checked ? this.checkedSprite : this.uncheckedSprite;\n    }\n\n    private onDown: () => void = () => {\n        this.currentSprite().clearEffects();\n        this.currentSprite().addEffect(new Darken(0.2))\n    }\n\n    private onEnter: () => void = () => {\n        this.currentSprite().clearEffects();\n        this.currentSprite().addEffect(new Darken(0.1))\n    }\n\n    private onExit: () => void = () => {\n        this.currentSprite().clearEffects();\n    }\n\n    private setCheckedDrawing() {\n        if (this.checked) {\n            this.setDrawing(\"checked\");\n        } else {\n            this.setDrawing(\"unchecked\");\n        }\n    }\n\n\n    private toggleButton = () => {\n        this.checked = !this.checked;\n        this.setCheckedDrawing();\n        this.onToggle.ifPresent(func => func(this.checked));\n    }\n\n}","import RadioButton from \"./radioButton\";\nimport { Label, Actor, BaseAlign, TextAlign, Engine } from \"excalibur\";\nimport FontManager from \"../../engine/managers/fontManager\";\n\nexport default class LabeledRadio {\n\n    private radio: RadioButton;\n    private label: Label;\n\n    constructor(label: string, size: number, x: number, y: number, defaultVal: boolean, engine: Engine, onToggle?: (checked:boolean) => void) {\n        const textSize = size - (size * 0.25)\n        const buttonSize = size + (size * 0.25);\n        \n\n        this.label = new Label(label, x, y, null, FontManager.get().getMono());//need to x adjust after\n        this.label.fontSize = textSize;\n        this.label.baseAlign = BaseAlign.Middle;\n        this.label.textAlign = TextAlign.Center;\n        const labelWidth = this.label.getTextWidth(engine.ctx);\n        this.label.x = x - labelWidth/3;\n        \n        this.radio = new RadioButton(buttonSize, x+labelWidth*(3/4), y, defaultVal, onToggle);\n        \n    }\n\n    public addOnToggle(onToggle: (checked:boolean) => void): void {\n        this.radio.setOnToggle(onToggle);\n    }\n    \n    public setChecked(isChecked: boolean): void {\n        this.radio.setChecked(isChecked);\n    }\n\n    public isChecked(): boolean {\n        return this.radio.isChecked();\n    }\n\n    public getBottom() {\n        return Math.max(this.radio.getBottom(), this.label.getBottom());\n    }\n\n    public getDrawables(): Actor[] {\n        return [\n            this.radio,\n            this.label\n        ];\n    }\n}","import { Actor, Label, Vector, TextAlign, BaseAlign, Color, Sprite } from \"excalibur\";\nimport { Resources, Config } from \"../../resources\";\nimport ButtonBase from \"./buttonBase\";\nimport FontManager from \"../../engine/managers/fontManager\";\nimport { Colorize } from \"excalibur/dist/Drawing/SpriteEffects\";\nimport { Stream } from \"java8script\";\n\nexport default class NumberSelector {\n    private min: number;\n    private max: number;\n    private current: number;\n    private fontSize: number;\n    private labelText: string;\n\n    private leftButtonSprite:Sprite;\n    private leftButton: ButtonBase;\n    private rightButtonSprite: Sprite;\n    private rightButton: ButtonBase;\n    private numberLabel: Label;\n    private topLabel: Label;\n\n    public constructor(label: string, min: number, max: number, current: number, x: number, y: number, fontSize: number, disabled: boolean) {\n        this.labelText = label;\n        this.min = min;\n        this.max = max;\n        this.current = current;\n        this.fontSize = fontSize;\n\n        const textSize = this.fontSize - (this.fontSize * 0.25)\n        const buttonSize = this.fontSize + (this.fontSize * 0.25);\n        \n        //top text\n        this.topLabel = new Label(this.labelText, x, y-Config.gridPadding, null, FontManager.get().getMono());\n        this.topLabel.fontSize = textSize\n        this.topLabel.baseAlign = BaseAlign.Middle;\n        this.topLabel.textAlign = TextAlign.Center;\n        \n        //central Number Label\n        this.numberLabel = new Label(`${current}`, x, y+buttonSize, null, FontManager.get().getMono());\n        this.numberLabel.fontSize = textSize\n        this.numberLabel.baseAlign = BaseAlign.Middle;\n        this.numberLabel.textAlign = TextAlign.Center;\n\n        //left button\n        \n        this.leftButton = new ButtonBase(Resources.uiLeft, () => this.addBy(-1));\n        this.leftButtonSprite = this.leftButton.getSprite();\n        this.leftButton.x = x - buttonSize*1.5\n        this.leftButton.y = y + buttonSize;\n        this.leftButton.scale = new Vector(buttonSize/Resources.uiLeft.width, buttonSize/Resources.uiLeft.height);\n        this.leftButton.setHeight(buttonSize);\n        this.leftButton.setWidth(buttonSize);\n        \n        //right button\n        this.rightButton = new ButtonBase(Resources.uiRight, () => this.addBy(1));\n        this.rightButtonSprite = this.rightButton.getSprite();\n        this.rightButton.x = x + buttonSize*1.5;\n        this.rightButton.y = y + buttonSize;\n        this.rightButton.scale = new Vector(buttonSize/Resources.uiRight.width, buttonSize/Resources.uiRight.height);\n        this.rightButton.setHeight(buttonSize);\n        this.rightButton.setWidth(buttonSize);\n\n        this.updateDisabled(disabled);\n    }\n\n    public updateDisabled = (isDisabled: boolean) => {\n        this.leftButtonSprite.clearEffects();\n        this.rightButtonSprite.clearEffects();\n        if(isDisabled) {\n            const disColor = Color.Gray;\n            this.topLabel.color = disColor\n            this.numberLabel.color = disColor;\n            this.leftButtonSprite.addEffect(new Colorize(disColor));\n            this.rightButtonSprite.addEffect(new Colorize(disColor));\n            this.leftButton.setDisabled(true);\n            this.rightButton.setDisabled(true);\n        } else {\n            this.topLabel.color = Color.Black;\n            this.numberLabel.color = Color.Black;\n            this.leftButton.setDisabled(false);\n            this.rightButton.setDisabled(false);\n        }\n    }\n\n    //add can be negative\n    private addBy(add: number): void {\n        const nextCurrent = this.current + add;\n        if(this.min <= nextCurrent && this.max >= nextCurrent) {\n            this.current = nextCurrent;\n            this.numberLabel.text = `${nextCurrent}`;\n        }\n    }\n\n    public getCurrent(): number {\n        return this.current;\n    }\n\n    public setCurrent(newCurrent: number): void {\n        this.current = newCurrent;\n        this.numberLabel.text = `${newCurrent}`;\n    }\n\n    public getBottom() {\n        return Stream.ofValues<Actor>(this.leftButton, this.rightButton, this.numberLabel)\n        .map(a => a.getBottom())\n        .max()\n        .orElse(0);\n    }\n    public getDrawables(): Actor[] {\n        return [\n            this.leftButton, \n            this.rightButton,\n            this.numberLabel,\n            this.topLabel\n        ];\n    }\n}","import { Resources, Config } from '../resources';\nimport { Scenes } from './scenes';\nimport { Actor, Engine } from 'excalibur';\nimport NumberSelector from '../actors/bars/numberSelector';\nimport ProgressionManager from '../engine/progression/progressionManager';\nimport LabeledRadio from '../actors/bars/labeledRadio';\nimport SizingManager from '../engine/managers/sizingManager';\nimport { calcDimensionsSingleObjectTexture } from '../engine/helpers';\nimport { Consumer } from 'java8script';\nimport PlayerSettingsManager from '../engine/progression/playerSettingsManager';\nimport { ExitButton } from '../actors/bars/exitButton';\nimport BaseScene from './BaseScene';\n\nexport class Options extends BaseScene {\n\n  private gridSize: NumberSelector;\n  private difficulty: NumberSelector;\n  private sound: LabeledRadio;\n  private progressionToggle: LabeledRadio;\n  private title: Actor;\n\n  public onInitialize(engine: Engine) {\n    const itemSize = SizingManager.get().getUIItemSize();\n    this.add(new ExitButton(engine, () => engine.goToScene(Scenes.MAIN_MENU)));\n\n    this.addTitle();\n    this.addSoundToggle(itemSize);\n    this.addDifficultySize(itemSize);\n    this.addProgressionToggle(itemSize)\n    const callbackForEnabling = this.addGridSize(itemSize);\n    this.progressionToggle.addOnToggle(callbackForEnabling);\n\n    const sizing = SizingManager.get().getUIButtonSizing();\n    const createbuttonDims = calcDimensionsSingleObjectTexture(engine.drawHeight, engine.drawWidth, Resources.confirmMenu, sizing.padding, sizing.maxScale);\n\n    const createButtonY =\n      this.gridSize.getBottom() < engine.drawHeight - createbuttonDims.height\n        ? engine.drawHeight - createbuttonDims.height / 2 - Config.optionPadding //grid size and confirm dont overelap so all good, draw at the bottom of screen \n        : this.gridSize.getBottom() + Config.optionPadding + createbuttonDims.height / 2;\n    const createButton = this.createButton(\n      createbuttonDims,\n      engine.drawWidth / 2,\n      createButtonY,\n      Resources.confirmMenu,\n      () => this.onConfirm()\n    );\n    this.add(createButton);\n\n    this.initScroll(createButton.getBottom());\n    this.setBackround(createButton.getBottom())\n  }\n\n  private onConfirm = () => {\n    ProgressionManager.get().setGridSize(this.gridSize.getCurrent());\n    ProgressionManager.get().setDifficulty(this.difficulty.getCurrent());\n    ProgressionManager.get().setProgressionDisabled(!this.progressionToggle.isChecked());\n    PlayerSettingsManager.get().setIsSoundOff(!this.sound.isChecked())\n    this.engine.goToScene(Scenes.MAIN_MENU);\n  }\n\n\n  private addTitle(): void {\n    const dims = calcDimensionsSingleObjectTexture(this.engine.drawHeight, this.engine.drawWidth, Resources.optionTitle, 0.6, 1);\n    const sprite = Resources.optionTitle.asSprite();\n    const title = new Actor();\n    title.addDrawing(sprite);\n    title.x = this.engine.drawWidth / 2;\n    title.y = dims.height / 2 + Config.gridPadding;\n    title.setHeight(dims.height);\n    title.setWidth(dims.width);\n    title.scale = dims.scale;\n    this.title = title;\n    this.add(title);\n  }\n\n  private addSoundToggle(itemSize) {\n    this.sound = new LabeledRadio(\"Sound\",\n      itemSize, this.engine.drawWidth / 2,\n      this.title.getBottom() + Config.optionPadding * 2,\n      !PlayerSettingsManager.get().isSoundOff(),\n      this.engine\n    );\n\n    this.sound.getDrawables()\n      .forEach(e => this.add(e));\n  }\n\n  private addDifficultySize(itemSize): void {\n    this.difficulty = new NumberSelector(\"DIFFICULTY\", 1, 5, ProgressionManager.get().getDifficulty().getDifficultyLevel(), this.engine.drawWidth / 2,\n      this.sound.getBottom() + itemSize * 0.5 + Config.optionPadding,\n      itemSize, false);\n    this.difficulty.getDrawables()\n      .forEach(i => this.add(i));\n  }\n\n  private addProgressionToggle(itemSize) {\n    this.progressionToggle = new LabeledRadio(\"Story Mode\", itemSize, this.engine.drawWidth / 2,\n      this.difficulty.getBottom() + itemSize * 1 + Config.optionPadding,\n      !ProgressionManager.get().isProgressionDisabled(), this.engine);\n\n    this.progressionToggle.getDrawables()\n      .forEach(e => this.add(e));\n  }\n\n  //returns callback for toggling the objects\n  private addGridSize(itemSize): Consumer<boolean> {\n    this.gridSize = new NumberSelector(\"GRID SIZE\", 2, 9, ProgressionManager.get().getOptionGridSize(), this.engine.drawWidth / 2,\n      this.progressionToggle.getBottom() + itemSize * 0.5 + Config.optionPadding, itemSize,\n      !ProgressionManager.get().isProgressionDisabled());\n    this.gridSize.getDrawables()\n      .forEach(i => this.add(i));\n\n    return this.gridSize.updateDisabled;\n  }\n\n  public onActivate() {\n    this.sound.setChecked(!PlayerSettingsManager.get().isSoundOff());\n    this.gridSize.setCurrent(ProgressionManager.get().getOptionGridSize());\n    this.difficulty.setCurrent(ProgressionManager.get().getDifficulty().getDifficultyLevel());\n    this.progressionToggle.setChecked(!ProgressionManager.get().isProgressionDisabled())\n  }\n\n  public onDeactivate() {\n  }\n} \n","import * as ex from 'excalibur';\nimport { Resources, Config } from '../resources';\nimport { Scenes, getGameWindow } from './scenes';\nimport SoundManager from '../engine/managers/soundManager';\nimport ProgressionManager from '../engine/progression/progressionManager';\nimport {calcDimensionsSingleObjectTexture, safePointerUp } from '../engine/helpers';\nimport BackgroundManager from '../engine/managers/backgroundManager';\nimport ButtonBase from '../actors/bars/buttonBase';\nimport SizingManager, { IButtonSizing } from '../engine/managers/sizingManager';\n\nexport class Victory extends ex.Scene {\n\n  private engine;\n\n  public onInitialize(engine: ex.Engine) {\n    this.engine = engine;\n    this.add(BackgroundManager.getDefaultTileMap(engine))\n    const sizing: IButtonSizing = SizingManager.get().getUIButtonSizing();\n    const buttonDims = calcDimensionsSingleObjectTexture(engine.drawHeight, engine.drawWidth, Resources.nextMenu, sizing.padding, sizing.maxScale);\n    const imageDims = calcDimensionsSingleObjectTexture(this.engine.drawHeight, this.engine.drawWidth, Resources.victory, 0.8, 1)\n    const offset = buttonDims.height/2 + Config.optionPadding;\n\n    const victoryActor = new ex.Actor(\n      this.engine.drawWidth / 2,\n      this.engine.drawHeight / 2 - offset,\n      imageDims.width,\n      imageDims.height\n    );\n    victoryActor.addDrawing(Resources.victory.asSprite());\n    victoryActor.scale = imageDims.scale;\n    this.add(victoryActor);\n\n    const nextButton = new ButtonBase(\n      Resources.nextMenu, \n      this.onNext,\n    );\n    nextButton.setHeight(buttonDims.height);\n    nextButton.setWidth(buttonDims.width);\n    nextButton.scale = buttonDims.scale;\n    nextButton.x = engine.drawWidth/2;\n    nextButton.y = engine.drawHeight - offset;\n    this.add(nextButton);\n  }\n\n  private onNext = () => {\n    this.engine.goToScene(getGameWindow());\n  }\n  public onActivate() {\n    SoundManager.get().playSoundInterrupt(Resources.victorySound);\n  }\n  public onDeactivate() {\n  }\n} \n","import * as ex from 'excalibur';\nimport { Resources, Config } from '../resources';\nimport { Scenes } from './scenes';\nimport SoundManager from '../engine/managers/soundManager';\nimport { Engine } from 'excalibur';\nimport ProgressionManager from '../engine/progression/progressionManager';\nimport { calcDimensionsSingleObject, safePointerUp, calcDimensionsSingleObjectTexture } from '../engine/helpers';\nimport BackgroundManager from '../engine/managers/backgroundManager';\nimport ButtonBase from '../actors/bars/buttonBase';\nimport SizingManager, { IButtonSizing } from '../engine/managers/sizingManager';\n\nexport class GameOver extends ex.Scene {\n\n  private engine: Engine;\n\n  public onInitialize(engine: ex.Engine) {\n    this.engine = engine;\n    this.add(BackgroundManager.getDefaultTileMap(engine))\n\n    const imageDims = calcDimensionsSingleObject(this.engine.drawHeight, this.engine.drawWidth, 360, 360, 0.8, 1.5);\n    const sizing: IButtonSizing = SizingManager.get().getUIButtonSizing();\n    const buttonDims = calcDimensionsSingleObjectTexture(engine.drawHeight, engine.drawWidth, Resources.menuMenu, sizing.padding, sizing.maxScale);\n    const offset = buttonDims.height/2 + Config.optionPadding;\n\n\n    const gameOverActor = new ex.Actor();\n    const spritesheet = new ex.SpriteSheet(Resources.gameOver, 3, 1 ,360, 360);\n    const playerIdleAnimation = spritesheet.getAnimationForAll(this.engine, 125);\n    gameOverActor.addDrawing(\"idle\", playerIdleAnimation);\n    this.add(gameOverActor);\n    gameOverActor.x = this.engine.drawWidth/2;\n    gameOverActor.y = this.engine.drawHeight/2 - offset;\n    gameOverActor.setHeight(engine.drawHeight);\n    gameOverActor.setWidth(engine.drawWidth);\n    gameOverActor.scale = imageDims.scale;\n\n    const menuButton = new ButtonBase(\n      Resources.menuMenu, \n      this.onMenu,\n    );\n    menuButton.setHeight(buttonDims.height);\n    menuButton.setWidth(buttonDims.width);\n    menuButton.scale = buttonDims.scale;\n    menuButton.x = engine.drawWidth/2;\n    menuButton.y = engine.drawHeight - offset;\n    this.add(menuButton)\n  }\n\n  private onMenu = () => {\n    this.engine.goToScene(Scenes.MAIN_MENU);\n  };\n\n  public onActivate() {\n    SoundManager.get().playSoundInterrupt(Resources.laughSound); \n  }\n\n  public onDeactivate() { \n    Resources.laughSound.stop();\n  }\n} \n","import { Config } from '../../resources';\nimport { Loader } from 'excalibur';\nconst logoImg = require('../../images/title.png');\n\nexport class GameLoader extends Loader {\n\n    public constructor() {\n        super();\n        this.backgroundColor = Config.backgroundColor.toString();\n        this.logo = logoImg;\n        this.logoHeight = 234;\n        this.logoWidth = 1260;\n    }\n}","import { Config } from '../../resources';\nimport { Color, Engine, Input, DisplayMode } from 'excalibur';\n\nexport default class Game extends Engine {\n\n  constructor() {\n    super({ \n      suppressConsoleBootMessage: true,\n      displayMode: DisplayMode.FullScreen,\n      pointerScope: Input.PointerScope.Canvas, //make it so clicks don't go \"through\" the help modals\n      suppressPlayButton: true, //todo think about customizing the button\n      backgroundColor: Color.fromHex(Config.backgroundColor),\n    });\n  }\n\n  public start(loader: ex.Loader) {\n    return super.start(loader);\n  }\n}\n","import { Actor, Color, Engine, Vector } from \"excalibur\";\nimport { Resources } from \"../../resources\";\n\nexport default class ScrollBar extends Actor {\n\n    private scrollBarTop: number;\n    private scrollBarBotton: number;\n    private isDragging = false;\n\n    constructor(engine: Engine) {\n        super();\n        this.scrollBarBotton = engine.drawHeight / 2;\n        this.scrollBarTop = engine.drawHeight / 2; // dont want to be able to go past the top of the screen\n        const sprite = Resources.uiScroll.asSprite();\n        const scrollItemSize = 50;\n        this.x = engine.drawWidth - 25;\n        this.y = engine.drawHeight / 2;\n        this.addDrawing(Resources.uiScroll.asSprite());\n        this.setWidth(scrollItemSize);\n        this.setHeight(scrollItemSize);\n        this.scale = new Vector(scrollItemSize/192, scrollItemSize/192); // 192 is the sprite original width/height\n\n        this.on('pointerdragstart', (pe: ex.Input.PointerEvent) => {\n            this.isDragging = true;\n        });\n\n        this.on('pointerdragend', (pe: ex.Input.PointerEvent) => {\n            this.isDragging = false;\n        });\n\n        this.on('pointerdragmove', (pe: ex.Input.PointerEvent) => {\n            if (this.isDragging) {\n                const worldY = pe.pointer.lastWorldPos.y;\n                if (worldY > this.scrollBarTop && worldY < this.scrollBarBotton) {\n                    this.y = pe.pointer.lastWorldPos.y;\n                }\n            }\n        });\n\n        this.on('pointerdragleave', (pe: ex.Input.PointerEvent) => {\n            if (this.isDragging) {\n                const worldY = pe.pointer.lastWorldPos.y;\n                if (worldY > this.scrollBarTop && worldY < this.scrollBarBotton) {\n                    this.y = pe.pointer.lastWorldPos.y;\n                }\n            }\n        });\n    }\n\n    public setScrollBottom(num: number) {\n        this.scrollBarBotton = num;\n        if(Math.floor(this.scrollBarBotton) <= Math.floor(this.scrollBarTop)) {\n            this.visible = false;\n        }\n    }\n}","import { Actor } from 'excalibur';\nimport { Resources, Config } from '../resources';\nimport { Scenes, getGameWindow } from './scenes';\nimport { calcDimensionsSingleObjectTexture } from '../engine/helpers';\nimport SoundManager from '../engine/managers/soundManager';\nimport SizingManager, { IButtonSizing } from '../engine/managers/sizingManager';\nimport BaseScene from './BaseScene';\n\nexport class MainMenu extends BaseScene {\n  public onInitialize(engine: ex.Engine) {\n    const centerX = engine.drawWidth / 2;\n\n\n    const dims = calcDimensionsSingleObjectTexture(engine.drawHeight, engine.drawWidth, Resources.title, 0.9, 0.8);\n    const title = new Actor(centerX, dims.height/2 + Config.gridPadding, dims.width, dims.height);\n    title.scale = dims.scale;\n    title.addDrawing(Resources.title);\n    this.add(title);\n\n    const {padding, maxScale} :IButtonSizing = SizingManager.get().getUIButtonSizing();\n    const buttonDims = calcDimensionsSingleObjectTexture(engine.drawHeight, engine.drawWidth, Resources.startMenu, padding, maxScale );\n\n    const start = this.createButton(buttonDims, centerX,  title.getBottom() + Config.optionPadding + buttonDims.height/2, Resources.startMenu, () => engine.goToScene(getGameWindow()));\n    const options = this.createButton(buttonDims, centerX, start.getBottom() + Config.gridPadding + buttonDims.height/2, Resources.optionMenu, () => engine.goToScene(Scenes.OPTIONS));\n    const help = this.createButton(buttonDims, centerX, options.getBottom() + Config.gridPadding+ buttonDims.height/2, Resources.helpMenu, () => engine.goToScene(Scenes.HELP));\n    \n    this.add(start);\n    this.add(options);\n    this.add(help);\n\n    this.setBackround(help.getBottom());\n    this.initScroll(help.getBottom());\n  }\n\n  public onActivate() {\n    SoundManager.get().backgroundMusicEnd();\n  }\n\n  public onDeactivate() { }\n}","module.exports = __webpack_public_path__ + \"d906ca717fba5c1dc816ff2688f30fed.png\";","module.exports = __webpack_public_path__ + \"00f14d085530ea0ae58c17a32b3fe27f.wav\";","module.exports = __webpack_public_path__ + \"5acc4c358abe356ab34cb46990213c87.mp3\";","module.exports = __webpack_public_path__ + \"e1587389071cad642af4ea472a7657df.wav\";","module.exports = __webpack_public_path__ + \"7969b4d1ca99e09c909f6b4247f2e20a.wav\";","module.exports = __webpack_public_path__ + \"ec591911768b22068d38bb5b2a321448.ogg\";","module.exports = __webpack_public_path__ + \"c17429a3194184f1823e8652b19665db.wav\";","module.exports = __webpack_public_path__ + \"9b230c404133d31e8b32b72e4f4709d6.wav\";","module.exports = __webpack_public_path__ + \"84f7a92ac15bb28de085370686c46b57.wav\";","module.exports = __webpack_public_path__ + \"b58455f5ec6aaf2a19902f196a55e98a.wav\";","module.exports = __webpack_public_path__ + \"7765777ed029910c394ea6ecdc46e707.png\";","module.exports = __webpack_public_path__ + \"6c9f119213f2371e5ffa564621e7c7cf.png\";","module.exports = __webpack_public_path__ + \"21c2960a6ef19bc7b845d01041d556b9.png\";","module.exports = __webpack_public_path__ + \"5bbe8e44117d6281e0990e5a0213c814.png\";","module.exports = __webpack_public_path__ + \"031849bdaba0fc1f7b8e931a8cd4b081.png\";","module.exports = __webpack_public_path__ + \"252e335cd8e95aa7f9af810197527c88.png\";","module.exports = __webpack_public_path__ + \"4be259f95a7562b19fc50f5956f3064a.png\";","module.exports = __webpack_public_path__ + \"f37c84d41789ca95567a2e9f9b3288cb.png\";","module.exports = __webpack_public_path__ + \"57df989eadc0b9703add8cdbd84d82f9.png\";","module.exports = __webpack_public_path__ + \"6944ce0fd23293c610a6b7881300e188.png\";","module.exports = __webpack_public_path__ + \"0574a2e0749918363ef5593ddc58b2e7.png\";","module.exports = __webpack_public_path__ + \"e7192d5fba02e9c6c174e7e3d9487a6b.png\";","module.exports = __webpack_public_path__ + \"46f00f6169dccc5ee028881800a09fe3.png\";","module.exports = __webpack_public_path__ + \"3844e977328e0e91b54f2d32278684c5.png\";","module.exports = __webpack_public_path__ + \"56376cf0ad0de37681a110e6dbfc3fb8.png\";","module.exports = __webpack_public_path__ + \"4ce8baed92fdbe83ea831d09b512beb2.png\";","module.exports = __webpack_public_path__ + \"b6ac9dbcd6cad76692d5dc9ffd4d530d.png\";","module.exports = __webpack_public_path__ + \"d564e115a42fa163a7bc9e1328b2d216.png\";","module.exports = __webpack_public_path__ + \"29171ae82e287f9d176ab7ddd7f6b382.png\";","module.exports = __webpack_public_path__ + \"dd8089d1ad5e36afe0d889a9218a0559.png\";","module.exports = __webpack_public_path__ + \"53b20a23b0fa9be3ec391f1dd49a6492.png\";","module.exports = __webpack_public_path__ + \"fb261f33ec74628ffab99997289e2f44.png\";","module.exports = __webpack_public_path__ + \"d848ad40f4eee6a0b29882906e9b4c24.png\";","module.exports = __webpack_public_path__ + \"64c5b08a042975010b476c3ca33efd4d.png\";","module.exports = __webpack_public_path__ + \"d23070e309626133deb93bbabf5d25bb.png\";","module.exports = __webpack_public_path__ + \"5d8c965fd0efaf1fa74941ad5cbb8d3c.png\";","module.exports = __webpack_public_path__ + \"135852ebc677f398779a9ac03e3c396b.png\";","module.exports = __webpack_public_path__ + \"ccd1e8955823c41dd50406b82e3d7dc0.png\";","module.exports = __webpack_public_path__ + \"598df00bd95514ed5a3f054793f36da1.png\";","module.exports = __webpack_public_path__ + \"022ab466b958b1e014b14ab33cf74a84.png\";","import { Resources } from './resources';\nimport { Scenes } from './scenes/scenes';\nimport { MainMenu } from './scenes/mainMenu';\nimport Game from './engine/game/Game';\nimport { GameLoader } from './engine/game/GameLoader';\nimport { GameOver } from './scenes/gameOver';\nimport { Victory } from './scenes/victory';\nimport { Options } from './scenes/options';\nimport { Help } from './scenes/help';\nimport SizingManager from './engine/managers/sizingManager';\nimport PlayerSettingsManager from './engine/progression/playerSettingsManager';\nimport { StoryGameWindow } from './scenes/gameWindows/storyGameWindow';\nimport { GridGameWindow } from './scenes/gameWindows/gridGameWindow';\n\nconst game = new Game();\nconst mainMenu = new MainMenu(game);\nconst options = new Options(game);\ngame.add(Scenes.MAIN_MENU, mainMenu);\ngame.add(Scenes.GAME_OVER, new GameOver(game));\ngame.add(Scenes.STORY_GAME_WINDOW, new StoryGameWindow(game));\ngame.add(Scenes.GRID_GAME_WINDOW, new GridGameWindow(game));\ngame.add(Scenes.VICTORY, new Victory(game));\ngame.add(Scenes.OPTIONS, options);\ngame.add(Scenes.HELP, new Help(game));\n\nlet loader = new GameLoader();\nObject.keys(Resources)\n  .forEach(k => loader.addResource(Resources[k]));\n\ngame.start(loader).then(() => {\n  PlayerSettingsManager.initialize()\n    .then(() => {\n      SizingManager.initialize(game);\n      game.goToScene(Scenes.MAIN_MENU);\n    });\n});\n"],"sourceRoot":""}